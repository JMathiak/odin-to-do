(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},o=e=>{for(let t=0;t<e.length;t++)n(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",i);const o=document.getElementsByClassName("edit-btn");for(let e=0;e<o.length;e++)o[e].addEventListener("click",a)},n=(e,t)=>{let o=document.querySelector("#task-table-body"),n=t[e].id,l=document.createElement("tr");l.setAttribute("data-key",n);let i=document.createElement("td");i.innerHTML=t[e].taskName,l.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,l.appendChild(d);let r=document.createElement("td");r.innerHTML=t[e].project,l.appendChild(r);let s=document.createElement("td");s.innerHTML=t[e].dueDate,l.appendChild(s);let a=document.createElement("td");a.innerHTML=t[e].priority,l.appendChild(a);let m=document.createElement("td"),c=document.createElement("button");m.appendChild(c),c.setAttribute("type","button"),c.innerHTML="Delete",c.classList.add("del-btn");let u=document.createElement("button");m.appendChild(u),u.setAttribute("type","button"),u.innerHTML="Edit",u.classList.add("edit-btn"),l.appendChild(m),o.appendChild(l)},l=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=o=>{let n=o.target.parentNode.parentNode.getAttribute("data-key");console.log("here",n);let l=e.masterList.filter((e=>e.id!=n));e.masterList=l,t(),d(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=()=>{l(),o(e.masterList)},r=()=>{!0===e.isSorted?(l(),o(e.highPrio),o(e.medPrio),o(e.lowPrio)):!1===e.isSorted&&d()},s=function(e,t,o,n,l){this.taskName=e,this.description=t,this.dueDate=o,this.priority=n,this.complete=!1,this.project=l,this.id=Math.floor(1e3*Math.random())},a=t=>{let o=document.getElementById("editModal");o.style.display="block";let n=t.target.parentNode.parentNode.getAttribute("data-key"),l=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),n==e.masterList[t].id&&(l=t);console.log("id ",n),console.log("index ",l),document.getElementById("taskNameEdit").value=e.masterList[l].taskName,document.getElementById("descriptionEdit").value=e.masterList[l].description,document.getElementById("dateEdit").value=e.masterList[l].dueDate,document.getElementById("priorityEdit").value=e.masterList[l].priority,document.getElementById("projectEdit").value=e.masterList[l].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[l].taskName=document.getElementById("taskNameEdit").value,e.masterList[l].description=document.getElementById("descriptionEdit").value,e.masterList[l].dueDate=document.getElementById("dateEdit").value,e.masterList[l].priority=document.getElementById("priorityEdit").value,e.masterList[l].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),d(),o.style.display="none"}};console.log(e.masterList);let m=new s("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(m);let c=new s("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Pulls");e.masterList.push(c);let u=new s("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(u),t(),o(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),n=document.getElementById("editModal"),l=document.getElementById("projectModal");document.getElementById("newProject").onclick=function(){l.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==n&&(n.style.display="none"),e.target==l&&(l.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,o=document.getElementById("descriptionInput").value,n=document.getElementById("dateInput").value,l=document.getElementById("priorityInput").value,i=new s(t,o,n,l,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?d():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("sortTaskBtn").onclick=function(){e.isSorted=!e.isSorted,console.log(e.isSorted),r()},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),l.style.display="none",document.getElementById("projectName").value="",(()=>{document.getElementById("projectInput").getElementsByTagName("option");let t=document.getElementById("projectInput"),o=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;o.childNodes.length>2;)o.removeChild(o.lastChild);for(let o=0;o<e.projects.length;o++){let n=document.createElement("option");n.value=e.projects[o],n.innerHTML=e.projects[o],t.appendChild(n)}for(let t=0;t<e.projects.length;t++){let n=document.createElement("option");n.value=e.projects[t],n.innerHTML=e.projects[t],o.appendChild(n)}})()}})(),(()=>{console.log("Render Projs");let t=document.getElementById("projectInput"),o=document.getElementById("projectEdit");for(let o=0;o<e.projects.length;o++){let n=document.createElement("option");n.value=e.projects[o],n.innerHTML=e.projects[o],t.appendChild(n)}for(let t=0;t<e.projects.length;t++){let n=document.createElement("option");n.value=e.projects[t],n.innerHTML=e.projects[t],o.appendChild(n)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFPRyxDQUFFQyxXQUxRLEdBS0lDLFFBSlAsR0FJZ0JDLFFBSGhCLEdBR3lCQyxTQUZ4QixHQUVrQ0MsVUFObEMsRUFNNENDLFNBRDVDLENBQUMsT0FBUSxRQUFTLGNBSTdCQyxFQUFnQixLQUNwQlAsRUFBU0ksU0FBV0osRUFBU0MsV0FBV08sUUFDckNDLEdBQTZCLFNBQW5CQSxFQUFNQyxXQUVuQlYsRUFBU0csUUFBVUgsRUFBU0MsV0FBV08sUUFDcENDLEdBQTZCLFdBQW5CQSxFQUFNQyxXQUVuQlYsRUFBU0UsUUFBVUYsRUFBU0MsV0FBV08sUUFDcENDLEdBQTZCLFFBQW5CQSxFQUFNQyxZQ2hCZkMsRUFBZUMsSUFDbkIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQ2hDRSxFQUFVRixFQUFHRCxHQUVmLE1BQU1JLEVBQVVDLFNBQVNDLHVCQUF1QixXQUNoREMsUUFBUUMsSUFBSUosR0FDWixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSUwsRUFBUUYsT0FBUU8sSUFDbENGLFFBQVFDLElBQUksUUFDWkosRUFBUUssR0FBR0MsaUJBQWlCLFFBQVNDLEdBR3ZDLE1BQU1DLEVBQVdQLFNBQVNDLHVCQUF1QixZQUNqRCxJQUFLLElBQUlPLEVBQUksRUFBR0EsRUFBSUQsRUFBU1YsT0FBUVcsSUFDbkNELEVBQVNDLEdBQUdILGlCQUFpQixRQUFTSSxJQUlwQ1gsRUFBWSxDQUFDRixFQUFHRCxLQUNwQixJQUFJZSxFQUFZVixTQUFTVyxjQUFjLG9CQUduQ0MsRUFBS2pCLEVBQU1DLEdBQUdpQixHQUNkQyxFQUFNZCxTQUFTZSxjQUFjLE1BQ2pDRCxFQUFJRSxhQUFhLFdBQVlKLEdBRTdCLElBQUlLLEVBQVFqQixTQUFTZSxjQUFjLE1BQ25DRSxFQUFNQyxVQUFZdkIsRUFBTUMsR0FBR3VCLFNBQzNCTCxFQUFJTSxZQUFZSCxHQUVoQixJQUFJSSxFQUFjckIsU0FBU2UsY0FBYyxNQUN6Q00sRUFBWUgsVUFBWXZCLEVBQU1DLEdBQUd5QixZQUNqQ1AsRUFBSU0sWUFBWUMsR0FFaEIsSUFBSUMsRUFBVXRCLFNBQVNlLGNBQWMsTUFDckNPLEVBQVFKLFVBQVl2QixFQUFNQyxHQUFHMEIsUUFDN0JSLEVBQUlNLFlBQVlFLEdBRWhCLElBQUlDLEVBQVV2QixTQUFTZSxjQUFjLE1BQ3JDUSxFQUFRTCxVQUFZdkIsRUFBTUMsR0FBRzJCLFFBQzdCVCxFQUFJTSxZQUFZRyxHQUVoQixJQUFJQyxFQUFPeEIsU0FBU2UsY0FBYyxNQUNsQ1MsRUFBS04sVUFBWXZCLEVBQU1DLEdBQUdILFNBQzFCcUIsRUFBSU0sWUFBWUksR0FJaEIsSUFBSUMsRUFBVXpCLFNBQVNlLGNBQWMsTUFDakNXLEVBQVMxQixTQUFTZSxjQUFjLFVBQ3BDVSxFQUFRTCxZQUFZTSxHQUNwQkEsRUFBT1YsYUFBYSxPQUFRLFVBQzVCVSxFQUFPUixVQUFZLFNBQ25CUSxFQUFPQyxVQUFVQyxJQUFJLFdBQ3JCLElBQUlDLEVBQVU3QixTQUFTZSxjQUFjLFVBQ3JDVSxFQUFRTCxZQUFZUyxHQUNwQkEsRUFBUWIsYUFBYSxPQUFRLFVBQzdCYSxFQUFRWCxVQUFZLE9BQ3BCVyxFQUFRRixVQUFVQyxJQUFJLFlBQ3RCZCxFQUFJTSxZQUFZSyxHQUVoQmYsRUFBVVUsWUFBWU4sSUFHbEJnQixFQUFhLEtBQ2pCLElBQUlDLEVBQWEvQixTQUFTVyxjQUFjLG9CQUN4QyxLQUFPb0IsRUFBV0MsWUFDaEJELEVBQVdFLFlBQVlGLEVBQVdDLGFBSWhDMUIsRUFBYzRCLElBQ2xCLElBQUlyQixFQUFLcUIsRUFBRUMsT0FBT0MsV0FBV0EsV0FBV0MsYUFBYSxZQUNyRG5DLFFBQVFDLElBQUksT0FBUVUsR0FDcEIsSUFBSXlCLEVBQVl2RCxFQUFTQyxXQUFXTyxRQUFRZ0QsR0FBU0EsRUFBSzFCLElBQU1BLElBQ2hFOUIsRUFBU0MsV0FBYXNELEVBQ3RCaEQsSUFDQWtELElBQ0F0QyxRQUFRQyxJQUFJcEIsRUFBU0ksVUFDckJlLFFBQVFDLElBQUlwQixFQUFTRyxTQUNyQmdCLFFBQVFDLElBQUlwQixFQUFTRSxVQUdqQnVELEVBQWlCLEtBQ3JCVixJQUNBcEMsRUFBWVgsRUFBU0MsYUFHakJ5RCxFQUFjLE1BQ1EsSUFBdEIxRCxFQUFTSyxVQUNYMEMsSUFDQXBDLEVBQVlYLEVBQVNJLFVBQ3JCTyxFQUFZWCxFQUFTRyxTQUNyQlEsRUFBWVgsRUFBU0UsV0FDVSxJQUF0QkYsRUFBU0ssVUFDbEJvRCxLQzdGRUUsRUFBTyxTQUFVdkIsRUFBVUUsRUFBYUUsRUFBUzlCLEVBQVU2QixHQUMvRHFCLEtBQUt4QixTQUFXQSxFQUNoQndCLEtBQUt0QixZQUFjQSxFQUNuQnNCLEtBQUtwQixRQUFVQSxFQUNmb0IsS0FBS2xELFNBQVdBLEVBQ2hCa0QsS0FBS0MsVUFBVyxFQUNoQkQsS0FBS3JCLFFBQVVBLEVBQ2ZxQixLQUFLOUIsR0FBS2dDLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxXQThCdEJ0QyxFQUFZeUIsSUFDaEIsSUFBSWMsRUFBUWhELFNBQVNpRCxlQUFlLGFBQ3BDRCxFQUFNRSxNQUFNQyxRQUFVLFFBRXRCLElBQUl0QyxFQUFLcUIsRUFBRUMsT0FBT0MsV0FBV0EsV0FBV0MsYUFBYSxZQUNqRGUsRUFBUSxFQUNaLElBQUssSUFBSXhELEVBQUksRUFBR0EsRUFBSWIsRUFBU0MsV0FBV2EsT0FBUUQsSUFDOUNNLFFBQVFDLElBQUksU0FBVXBCLEVBQVNDLFdBQVdZLEdBQUdpQixJQUN6Q0EsR0FBTTlCLEVBQVNDLFdBQVdZLEdBQUdpQixLQUMvQnVDLEVBQVF4RCxHQUlaTSxRQUFRQyxJQUFJLE1BQU9VLEdBQ25CWCxRQUFRQyxJQUFJLFNBQVVpRCxHQUN0QnBELFNBQVNpRCxlQUFlLGdCQUFnQkksTUFDdEN0RSxFQUFTQyxXQUFXb0UsR0FBT2pDLFNBQzdCbkIsU0FBU2lELGVBQWUsbUJBQW1CSSxNQUN6Q3RFLEVBQVNDLFdBQVdvRSxHQUFPL0IsWUFDN0JyQixTQUFTaUQsZUFBZSxZQUFZSSxNQUNsQ3RFLEVBQVNDLFdBQVdvRSxHQUFPN0IsUUFDN0J2QixTQUFTaUQsZUFBZSxnQkFBZ0JJLE1BQ3RDdEUsRUFBU0MsV0FBV29FLEdBQU8zRCxTQUM3Qk8sU0FBU2lELGVBQWUsZUFBZUksTUFDckN0RSxFQUFTQyxXQUFXb0UsR0FBTzlCLFFBRVJ0QixTQUFTaUQsZUFBZSxtQkFDOUJLLFFBQVUsV0FDdkJ2RSxFQUFTQyxXQUFXb0UsR0FBT2pDLFNBQ3pCbkIsU0FBU2lELGVBQWUsZ0JBQWdCSSxNQUMxQ3RFLEVBQVNDLFdBQVdvRSxHQUFPL0IsWUFDekJyQixTQUFTaUQsZUFBZSxtQkFBbUJJLE1BQzdDdEUsRUFBU0MsV0FBV29FLEdBQU83QixRQUN6QnZCLFNBQVNpRCxlQUFlLFlBQVlJLE1BQ3RDdEUsRUFBU0MsV0FBV29FLEdBQU8zRCxTQUN6Qk8sU0FBU2lELGVBQWUsZ0JBQWdCSSxNQUMxQ3RFLEVBQVNDLFdBQVdvRSxHQUFPOUIsUUFDekJ0QixTQUFTaUQsZUFBZSxlQUFlSSxNQUN6Q3RFLEVBQVNJLFNBQVdKLEVBQVNDLFdBQVdPLFFBQ3JDZ0QsR0FBMkIsU0FBbEJBLEVBQUs5QyxXQUVqQlYsRUFBU0csUUFBVUgsRUFBU0MsV0FBV08sUUFDcENnRCxHQUEyQixXQUFsQkEsRUFBSzlDLFdBRWpCVixFQUFTRSxRQUFVRixFQUFTQyxXQUFXTyxRQUNwQ2dELEdBQTJCLFFBQWxCQSxFQUFLOUMsV0FHakIrQyxJQUNBUSxFQUFNRSxNQUFNQyxRQUFVLFNDcEYxQmpELFFBQVFDLElBQUlwQixFQUFTQyxZQUNyQixJQUFJdUUsRUFBTSxJQUFJYixFQUNaLGlCQUNBLHNCQUNBLFVBQ0EsU0FDQSxTQUVGM0QsRUFBU0MsV0FBV3dFLEtBQUtELEdBQ3pCLElBQUlFLEVBQU0sSUFBSWYsRUFDWixpQkFDQSx3Q0FDQSxVQUNBLE9BQ0EsU0FFRjNELEVBQVNDLFdBQVd3RSxLQUFLQyxHQUN6QixJQUFJQyxFQUFNLElBQUloQixFQUFLLGlCQUFrQixjQUFlLFVBQVcsTUFBTyxTQUN0RTNELEVBQVNDLFdBQVd3RSxLQUFLRSxHQUN6QnBFLElBQ0FJLEVBQVlYLEVBQVNDLFlDdEJELE1BQ2xCLElBQUlnRSxFQUFRaEQsU0FBU2lELGVBQWUsYUFDaENVLEVBQWEzRCxTQUFTaUQsZUFBZSxjQUNyQ1csRUFBWTVELFNBQVNpRCxlQUFlLGFBQ3BDWSxFQUFlN0QsU0FBU2lELGVBQWUsZ0JBQzdCakQsU0FBU2lELGVBQWUsY0FFOUJLLFFBQVUsV0FDaEJPLEVBQWFYLE1BQU1DLFFBQVUsU0FFL0JRLEVBQVdMLFFBQVUsV0FDbkJOLEVBQU1FLE1BQU1DLFFBQVUsU0FFeEJXLE9BQU9SLFFBQVUsU0FBVVMsR0FDckJBLEVBQU01QixRQUFVYSxJQUNsQjlDLFFBQVFDLElBQUksZUFDWjZDLEVBQU1FLE1BQU1DLFFBQVUsUUFFcEJZLEVBQU01QixRQUFVeUIsSUFDbEJBLEVBQVVWLE1BQU1DLFFBQVUsUUFFeEJZLEVBQU01QixRQUFVMEIsSUFDbEJBLEVBQWFYLE1BQU1DLFFBQVUsU0FHZG5ELFNBQVNpRCxlQUFlLG1CQUM5QkssUUFBVSxXRmhCVCxNQUNkLElBQUluQyxFQUFXbkIsU0FBU2lELGVBQWUsaUJBQWlCSSxNQUNwRFcsRUFBV2hFLFNBQVNpRCxlQUFlLG9CQUFvQkksTUFDdkRZLEVBQVdqRSxTQUFTaUQsZUFBZSxhQUFhSSxNQUNoRGEsRUFBV2xFLFNBQVNpRCxlQUFlLGlCQUFpQkksTUFFcERjLEVBQVUsSUFBSXpCLEVBQUt2QixFQUFVNkMsRUFBVUMsRUFBVUMsRUFBVSxXQUMvRG5GLEVBQVNDLFdBQVd3RSxLQUFLVyxHQUNBLFFBQXJCQSxFQUFRMUUsVUFDVlYsRUFBU0UsUUFBUXVFLEtBQUtXLEdBR0MsV0FBckJBLEVBQVExRSxVQUNWVixFQUFTRyxRQUFRc0UsS0FBS1csR0FHQyxTQUFyQkEsRUFBUTFFLFVBQ1ZWLEVBQVNJLFNBQVNxRSxLQUFLVyxHQUV6QmpFLFFBQVFDLElBQUlwQixFQUFTSyxXQUNLLElBQXRCTCxFQUFTSyxTQUNYb0QsSUFFQUMsS0VOQTJCLEdBQ1lwRSxTQUFTaUQsZUFBZSxhQUM5QkMsTUFBTUMsUUFBVSxPQUN0Qm5ELFNBQVNpRCxlQUFlLGlCQUFpQkksTUFBUSxHQUNqRHJELFNBQVNpRCxlQUFlLG9CQUFvQkksTUFBUSxHQUNwRHJELFNBQVNpRCxlQUFlLGFBQWFJLE1BQVEsR0FDN0NyRCxTQUFTaUQsZUFBZSxpQkFBaUJvQixjQUFnQixHQUcxQ3JFLFNBQVNpRCxlQUFlLGVBQzlCSyxRQUFVLFdBQ25CdkUsRUFBU0ssVUFBWUwsRUFBU0ssU0FDOUJjLFFBQVFDLElBQUlwQixFQUFTSyxVQUNyQnFELEtBR2V6QyxTQUFTaUQsZUFBZSxzQkFDOUJLLFFBQVUsV0p6QkosTUFDakIsSUFBSWdCLEVBQVl0RSxTQUFTaUQsZUFBZSxlQUFlSSxNQUN2RHRFLEVBQVNNLFNBQVNtRSxLQUFLYyxJSXdCckJDLEdBQ0FWLEVBQWFYLE1BQU1DLFFBQVUsT0FDN0JuRCxTQUFTaUQsZUFBZSxlQUFlSSxNQUFRLEdIb0V6QixNQUNFckQsU0FDdkJpRCxlQUFlLGdCQUNmdUIscUJBQXFCLFVBRnhCLElBR0lDLEVBQWtCekUsU0FBU2lELGVBQWUsZ0JBQzFDeUIsRUFBYzFFLFNBQVNpRCxlQUFlLGVBQzFDLEtBQU93QixFQUFnQkUsV0FBVzlFLE9BQVMsR0FDekM0RSxFQUFnQnhDLFlBQVl3QyxFQUFnQkcsV0FFOUMsS0FBT0YsRUFBWUMsV0FBVzlFLE9BQVMsR0FDckM2RSxFQUFZekMsWUFBWXlDLEVBQVlFLFdBRXRDLElBQUssSUFBSWhGLEVBQUksRUFBR0EsRUFBSWIsRUFBU00sU0FBU1EsT0FBUUQsSUFBSyxDQUNqRCxJQUFJaUYsRUFBTTdFLFNBQVNlLGNBQWMsVUFDakM4RCxFQUFJeEIsTUFBUXRFLEVBQVNNLFNBQVNPLEdBQzlCaUYsRUFBSTNELFVBQVluQyxFQUFTTSxTQUFTTyxHQUNsQzZFLEVBQWdCckQsWUFBWXlELEdBRTlCLElBQUssSUFBSXpFLEVBQUksRUFBR0EsRUFBSXJCLEVBQVNNLFNBQVNRLE9BQVFPLElBQUssQ0FDakQsSUFBSXlFLEVBQU03RSxTQUFTZSxjQUFjLFVBQ2pDOEQsRUFBSXhCLE1BQVF0RSxFQUFTTSxTQUFTZSxHQUM5QnlFLEVBQUkzRCxVQUFZbkMsRUFBU00sU0FBU2UsR0FDbENzRSxFQUFZdEQsWUFBWXlELEtHekZ4QkMsS0R6QkosR0YwRXVCLE1BQ3JCNUUsUUFBUUMsSUFBSSxnQkFDWixJQUFJNEUsRUFBVS9FLFNBQVNpRCxlQUFlLGdCQUNsQ3lCLEVBQWMxRSxTQUFTaUQsZUFBZSxlQUMxQyxJQUFLLElBQUlyRCxFQUFJLEVBQUdBLEVBQUliLEVBQVNNLFNBQVNRLE9BQVFELElBQUssQ0FDakQsSUFBSWlGLEVBQU03RSxTQUFTZSxjQUFjLFVBQ2pDOEQsRUFBSXhCLE1BQVF0RSxFQUFTTSxTQUFTTyxHQUM5QmlGLEVBQUkzRCxVQUFZbkMsRUFBU00sU0FBU08sR0FDbENtRixFQUFRM0QsWUFBWXlELEdBRXRCLElBQUssSUFBSXpFLEVBQUksRUFBR0EsRUFBSXJCLEVBQVNNLFNBQVNRLE9BQVFPLElBQUssQ0FDakQsSUFBSXlFLEVBQU03RSxTQUFTZSxjQUFjLFVBQ2pDOEQsRUFBSXhCLE1BQVF0RSxFQUFTTSxTQUFTZSxHQUM5QnlFLEVBQUkzRCxVQUFZbkMsRUFBU00sU0FBU2UsR0FDbENzRSxFQUFZdEQsWUFBWXlELEtFdkY1QkcsSSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9saXN0LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9jb250ZW50LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy90b2RvLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2J1dHRvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVG9Eb0xpc3QgPSAoKCkgPT4ge1xyXG4gIGxldCBpc1NvcnRlZCA9IGZhbHNlO1xyXG4gIGxldCBtYXN0ZXJMaXN0ID0gW107XHJcbiAgbGV0IGxvd1ByaW8gPSBbXTtcclxuICBsZXQgbWVkUHJpbyA9IFtdO1xyXG4gIGxldCBoaWdoUHJpbyA9IFtdO1xyXG4gIGxldCBwcm9qZWN0cyA9IFtcIk5vbmVcIiwgXCJQdWxsc1wiLCBcIkFzY2Vuc2lvblwiXTtcclxuICByZXR1cm4geyBtYXN0ZXJMaXN0LCBsb3dQcmlvLCBtZWRQcmlvLCBoaWdoUHJpbywgaXNTb3J0ZWQsIHByb2plY3RzIH07XHJcbn0pKCk7XHJcblxyXG5jb25zdCBzZXRQcmlvQXJyYXlzID0gKCkgPT4ge1xyXG4gIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlO1xyXG4gIFRvRG9MaXN0LnByb2plY3RzLnB1c2gocHJvaklucHV0KTtcclxufTtcclxuZXhwb3J0IHsgVG9Eb0xpc3QsIHNldFByaW9BcnJheXMsIGFkZFByb2plY3QgfTtcclxuIiwiaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IGVkaXRUYXNrIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5jb25zdCByZW5kZXJUb0RvcyA9IChhcnJheSkgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgIHJlbmRlclJvdyhpLCBhcnJheSk7XHJcbiAgfVxyXG4gIGNvbnN0IGRlbEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGVsLWJ0blwiKTtcclxuICBjb25zb2xlLmxvZyhkZWxCdG5zKTtcclxuICBmb3IgKGxldCBqID0gMDsgaiA8IGRlbEJ0bnMubGVuZ3RoOyBqKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcclxuICAgIGRlbEJ0bnNbal0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbW92ZVRhc2spO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWRpdEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWRpdC1idG5cIik7XHJcbiAgZm9yIChsZXQgayA9IDA7IGsgPCBlZGl0QnRucy5sZW5ndGg7IGsrKykge1xyXG4gICAgZWRpdEJ0bnNba10uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVkaXRUYXNrKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJSb3cgPSAoaSwgYXJyYXkpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcblxyXG4gIC8vRGF0YSBrZXk/IDwtLSBOZWVkIHRvIGFkZCB0aGUgZGF0YSBrZXkgdG8gZWFjaCBkaXYuXHJcbiAgbGV0IGRrID0gYXJyYXlbaV0uaWQ7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICByb3cuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgZGspO1xyXG5cclxuICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgdGl0bGUuaW5uZXJIVE1MID0gYXJyYXlbaV0udGFza05hbWU7XHJcbiAgcm93LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGFycmF5W2ldLmRlc2NyaXB0aW9uO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XHJcblxyXG4gIGxldCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByb2plY3QuaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJvamVjdDtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJvamVjdCk7XHJcblxyXG4gIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGR1ZURhdGUuaW5uZXJIVE1MID0gYXJyYXlbaV0uZHVlRGF0ZTtcclxuICByb3cuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XHJcblxyXG4gIGxldCBwcmlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByaW8uaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJpb3JpdHk7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByaW8pO1xyXG5cclxuICAvL05lZWQgdG8gY3JlYXRlIGJ1dHRvbnNcclxuXHJcbiAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgbGV0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBcIkRlbGV0ZVwiO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBcIkVkaXRcIjtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUm93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXNrID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coXCJoZXJlXCIsIGlkKTtcclxuICBsZXQgZmlsdGVyQXJyID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT0gaWQpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QgPSBmaWx0ZXJBcnI7XHJcbiAgc2V0UHJpb0FycmF5cygpO1xyXG4gIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUm93cygpO1xyXG4gIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG59O1xyXG5cclxuY29uc3Qgc29ydENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgaWYgKFRvRG9MaXN0LmlzU29ydGVkID09PSB0cnVlKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gIH0gZWxzZSBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RzID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiUmVuZGVyIFByb2pzXCIpO1xyXG4gIGxldCBwcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIik7XHJcbiAgbGV0IGVkaXRQcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgcHJvakRpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBqID0gMDsgaiA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgZWRpdFByb2pEaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJOZXdQcm9qZWN0cyA9ICgpID0+IHtcclxuICBsZXQgcHJvamVjdElucHV0T3B0aW9ucyA9IGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIilcclxuICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKTtcclxuICBsZXQgcHJvamVjdElucHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIik7XHJcbiAgbGV0IGVkaXRQcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKTtcclxuICB3aGlsZSAocHJvamVjdElucHV0RGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMikge1xyXG4gICAgcHJvamVjdElucHV0RGl2LnJlbW92ZUNoaWxkKHByb2plY3RJbnB1dERpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICB3aGlsZSAoZWRpdFByb2pEaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBlZGl0UHJvakRpdi5yZW1vdmVDaGlsZChlZGl0UHJvakRpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgcHJvamVjdElucHV0RGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBlZGl0UHJvakRpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IHtcclxuICByZW5kZXJUb0RvcyxcclxuICByZWZyZXNoQ29udGVudCxcclxuICBzb3J0Q29udGVudCxcclxuICByZW5kZXJQcm9qZWN0cyxcclxuICByZW5kZXJOZXdQcm9qZWN0cyxcclxufTtcclxuXHJcbi8vVXNlIHF1ZXJ5IHNlbGVjdG9yIHRvIGdldCBhcnJheSBvZiBkaXZzIHRoYXQgaGFzIHRoZSBkYXRhIGF0dHJpYnV0ZSBJIHdhbnQgdG8gcmVtb3ZlXHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyByZWZyZXNoQ29udGVudCwgc29ydENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcblxyXG5jb25zdCBUb0RvID0gZnVuY3Rpb24gKHRhc2tOYW1lLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcclxuICB0aGlzLnRhc2tOYW1lID0gdGFza05hbWU7XHJcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcclxuICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gIHRoaXMuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFRvRG8gPSAoKSA9PiB7XHJcbiAgbGV0IHRhc2tOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikudmFsdWU7XHJcblxyXG4gIGxldCBuZXdUYXNrID0gbmV3IFRvRG8odGFza05hbWUsIHRhc2tEZXNjLCB0YXNrRGF0ZSwgdGFza1ByaW8sIFwiZGVmYXVsdFwiKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2gobmV3VGFzayk7XHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTG93XCIpIHtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSB7XHJcbiAgICBUb0RvTGlzdC5tZWRQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJIaWdoXCIpIHtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LmlzU29ydGVkKTtcclxuICBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3J0Q29udGVudCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGVkaXRUYXNrID0gKGUpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgbGV0IGluZGV4ID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0Lm1hc3Rlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiVERMIElEXCIsIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpO1xyXG4gICAgaWYgKGlkID09IFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpIHtcclxuICAgICAgaW5kZXggPSBpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJpZCBcIiwgaWQpO1xyXG4gIGNvbnNvbGUubG9nKFwiaW5kZXggXCIsIGluZGV4KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kZXNjcmlwdGlvbjtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0O1xyXG5cclxuICBsZXQgc2F2ZUNoYW5nZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgICApO1xyXG5cclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCB7IFRvRG8sIGFkZFRvRG8sIGVkaXRUYXNrIH07XHJcbi8vSG93IHRvIGhhbmRsZSBwcm9qZWN0cz9cclxuLy9IYXZlIGFuIG92ZXJhY3JjaGluZyBhcnJheSB0aGF0IGhvbGRzIG9iamVjdHMgYW5kIHN1YmFycmF5cyBmb3IgZWFjaCBwcm9qZWN0PyA8LS0gU2VlbXMgbGlrZWx5XHJcbi8vIEhhdmUgYW4gb3ZlcmFyY2hpbmcgYXJyYXkgYW5kIGZpbHRlciB3aGVuIG5lY2Vzc2FyeSBmb3IgcHJvamVjdHNcclxuIiwiaW1wb3J0IHsgVG9EbyB9IGZyb20gXCIuL21vZHVsZXMvdG9kb1wiO1xyXG5pbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL21vZHVsZXMvbGlzdFwiO1xyXG5pbXBvcnQgeyByZW5kZXJQcm9qZWN0cywgcmVuZGVyVG9Eb3MgfSBmcm9tIFwiLi9tb2R1bGVzL2NvbnRlbnRcIjtcclxuaW1wb3J0IGluaXRCdXR0b25zIGZyb20gXCIuL21vZHVsZXMvYnV0dG9uc1wiO1xyXG5cclxuY29uc29sZS5sb2coVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbmxldCB0ZDIgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIFllbGFuXCIsXHJcbiAgXCJQdWxsIFllbGFuIGJjIG1vbW15XCIsXHJcbiAgXCI1LzEwLzIyXCIsXHJcbiAgXCJNZWRpdW1cIixcclxuICBcIlB1bGxzXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMik7XHJcbmxldCB0ZDEgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIEF5YWthXCIsXHJcbiAgXCJVc2UgYWxsIG1lYW5zIG5lY2Vzc2FyeSB0byBwdWxsIEF5YWthXCIsXHJcbiAgXCI0LzE5LzIyXCIsXHJcbiAgXCJIaWdoXCIsXHJcbiAgXCJQdWxsc1wiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDEpO1xyXG5sZXQgdGQzID0gbmV3IFRvRG8oXCJSb2xsIGZvciBBeWF0b1wiLCBcIiBwdWxsIEF5YXRvXCIsIFwiNC8xOS8yMlwiLCBcIkxvd1wiLCBcIlB1bGxzXCIpO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQzKTtcclxuc2V0UHJpb0FycmF5cygpO1xyXG5yZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuaW5pdEJ1dHRvbnMoKTtcclxucmVuZGVyUHJvamVjdHMoKTtcclxuXHJcbi8qXHJcbk5vdGVzOlxyXG4tT24gYWRkIHRhc2sgZm9ybSBuZWVkIGEgcGxhY2UgdG8gc2VsZWN0IHdoaWNoIHByb2plY3QgdG8gYWRkIHRoZSB0byBkbyB0by4gQWxsb3cgZm9yIG11bHRpcGxlIHByb2plY3Qgc2VsZWN0aW9uIChNYXliZSBub3QpXHJcbi1OZWVkIGFuIGVkaXQgdGFzayBidXR0b24gb24gZWFjaCB0YXNrIHJvd1xyXG4tTmVlZCB0byBmaWd1cmUgb3V0IHdoZXJlIHRvIGNyZWF0ZSBuZXcgcHJvamVjdHNcclxuLVZpZXcgYWxsIHRhc2tzIG5lZWRzIHRvIGRpc3BsYXkgcHJvamVjdCBuYW1lc1xyXG5cclxuUGxhbiBvZiBhdHRhY2s6XHJcbipBZGQgYSBmZXcgZHVtbXkgdG8gZG8gb2JqZWN0cyBhbmQgZ2V0IHRoZW0gcmVuZGVyaW5nIHRvIHRoZSBkb21cclxuKlNldCB1cCB0aGUgYWRkIHRhc2sgYnV0dG9uIFxyXG4tU2V0IHVwIHRhc2sgZWRpdGluZyA8LS0gTW9kYWwgd2l0aCB0aGUgdGFza3MgZGF0YSBwcmUtZmlsbGVkIGludG8gYSBmb3JtLiBcclxuLS1GZXRjaCB0YXNrIGJ5IHVzaW5nIHJvdyBJRCB3aGljaCA9PT0gdGFzayBJRCA8LS0gVXNlIGZpbHRlclxyXG4tLU5lZWQgYSBkaXNjYXJkIGNoYW5nZSBidXR0b24gXHJcbi0tTmVlZCBhIHNhdmUgY2hhbmdlIGJ1dHRvbiBcclxuKlNldCB1cCBzb3J0aW5nIFxyXG4tLU1heWJlIGFkZCB3aGljaCB3YXkgdG8gYmUgc29ydGVkPyBTdHJlY2ggZ29hbD9cclxuKlNldCB1cCByZXZlcnRpbmcgc29ydGluZyA8LS0gUmUgcmVuZGVyIGZyb20gbWFzdGVyIGJ5IGNoZWNraW5nIGlzU29ydGluZyBmb3IgZmFsc2VcclxuLVNldCB1cCBwcm9qZWN0c1xyXG4tLSBBZGQgcHJvamVjdCBidXR0b25cclxuKiogQWRkIHByb2plY3Qgc2VsZWN0aW9uIG9uIGFkZCB0YXNrIGZvcm1cclxuLS0gRWRpdCBQcm9qZWN0cyBNb2RhbC4gXHJcbi0tIEFkZCBwcm9qZWN0IHZpZXdzXHJcbi0tIFJlIHJlbmRlciB0YWJsZSB3aXRoIGEgZmlsdGVyZWQgYXJyYXkgZm9yIHRoZSBwcm9qZWN0IHRoZXkgd2FudCB0byB2aWV3LiBcclxuXHJcbiovXHJcbiIsImltcG9ydCB7IGFkZFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XHJcbmltcG9ydCB7IHJlbmRlck5ld1Byb2plY3RzLCByZW5kZXJQcm9qZWN0cywgc29ydENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IGFkZFByb2plY3QsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5jb25zdCBpbml0QnV0dG9ucyA9ICgpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tNb2RhbFwiKTtcclxuICBsZXQgdGFza0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3VGFza0J0blwiKTtcclxuICBsZXQgZWRpdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TW9kYWxcIik7XHJcbiAgbGV0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE1vZGFsXCIpO1xyXG4gIGxldCBhZGRQcm9qID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdQcm9qZWN0XCIpO1xyXG5cclxuICBhZGRQcm9qLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHRhc2tCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfTtcclxuICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBtb2RhbCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsb3NlIG1vZGFsXCIpO1xyXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IGVkaXRNb2RhbCkge1xyXG4gICAgICBlZGl0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBwcm9qZWN0TW9kYWwpIHtcclxuICAgICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9O1xyXG4gIGxldCBzdWJtaXRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC10YXNrLWJ0blwiKTtcclxuICBzdWJtaXRidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFRvRG8oKTtcclxuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUYXNrQnRuXCIpO1xyXG4gIHNvcnRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFRvRG9MaXN0LmlzU29ydGVkID0gIVRvRG9MaXN0LmlzU29ydGVkO1xyXG4gICAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gICAgc29ydENvbnRlbnQoKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWRkUHJvakJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXByb2plY3QtYnRuXCIpO1xyXG4gIGFkZFByb2pCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFByb2plY3QoKTtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJlbmRlck5ld1Byb2plY3RzKCk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRCdXR0b25zO1xyXG4iXSwibmFtZXMiOlsiVG9Eb0xpc3QiLCJtYXN0ZXJMaXN0IiwibG93UHJpbyIsIm1lZFByaW8iLCJoaWdoUHJpbyIsImlzU29ydGVkIiwicHJvamVjdHMiLCJzZXRQcmlvQXJyYXlzIiwiZmlsdGVyIiwidGFza3MiLCJwcmlvcml0eSIsInJlbmRlclRvRG9zIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwicmVuZGVyUm93IiwiZGVsQnRucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVRhc2siLCJlZGl0QnRucyIsImsiLCJlZGl0VGFzayIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJkayIsImlkIiwicm93IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRpdGxlIiwiaW5uZXJIVE1MIiwidGFza05hbWUiLCJhcHBlbmRDaGlsZCIsImRlc2NyaXB0aW9uIiwicHJvamVjdCIsImR1ZURhdGUiLCJwcmlvIiwiYnV0dG9ucyIsImRlbEJ0biIsImNsYXNzTGlzdCIsImFkZCIsImVkaXRCdG4iLCJyZW1vdmVSb3dzIiwiY29udGVudERpdiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZ2V0QXR0cmlidXRlIiwiZmlsdGVyQXJyIiwidGFzayIsInJlZnJlc2hDb250ZW50Iiwic29ydENvbnRlbnQiLCJUb0RvIiwidGhpcyIsImNvbXBsZXRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW9kYWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4IiwidmFsdWUiLCJvbmNsaWNrIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJ3aW5kb3ciLCJldmVudCIsInRhc2tEZXNjIiwidGFza0RhdGUiLCJ0YXNrUHJpbyIsIm5ld1Rhc2siLCJhZGRUb0RvIiwic2VsZWN0ZWRJbmRleCIsInByb2pJbnB1dCIsImFkZFByb2plY3QiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInByb2plY3RJbnB1dERpdiIsImVkaXRQcm9qRGl2IiwiY2hpbGROb2RlcyIsImxhc3RDaGlsZCIsIm9wdCIsInJlbmRlck5ld1Byb2plY3RzIiwicHJvakRpdiIsInJlbmRlclByb2plY3RzIl0sInNvdXJjZVJvb3QiOiIifQ==