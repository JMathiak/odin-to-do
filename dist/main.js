(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},l=e=>{let t=["Task Name","Description","Project","Due Date","Priority",""],l=document.getElementById("task-table"),n=document.createElement("tr");l.prepend(n);for(let e=0;e<t.length;e++){let l=document.createElement("th");l.innerHTML=t[e],n.appendChild(l)}for(let t=0;t<e.length;t++)o(t,e);const s=document.getElementsByClassName("del-btn");console.log(s);for(let e=0;e<s.length;e++)console.log("here"),s[e].addEventListener("click",i);const r=document.getElementsByClassName("edit-btn");for(let e=0;e<r.length;e++)r[e].addEventListener("click",u);const a=document.getElementsByClassName("comp-btn");for(let e=0;e<a.length;e++)console.log(a[e].id),a[e].id,a[e].addEventListener("click",d)},o=(e,t)=>{let l=document.querySelector("#task-table-body"),o=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",o),n.id="task-"+o,n.classList.add("task-item");let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].project,n.appendChild(s);let r=document.createElement("td");r.innerHTML=t[e].dueDate,n.appendChild(r);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let c=document.createElement("td");c.setAttribute("data-key",o);let m=document.createElement("button"),u=document.createElement("button");c.appendChild(u),u.setAttribute("type","button"),u.innerHTML='<i class="fa-solid fa-check"></i>',u.classList.add("comp-btn"),u.id=o,c.appendChild(m),m.setAttribute("type","button"),m.innerHTML='<i class="fa-solid fa-trash"></i>',m.classList.add("del-btn");let p=document.createElement("button");c.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-pencil"></i>',p.classList.add("edit-btn"),n.appendChild(c),l.appendChild(n)},n=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=l=>{let o=l.target.parentNode.parentNode.getAttribute("data-key");console.log("here",o);let n=e.masterList.filter((e=>e.id!=o));e.masterList=n,t(),s(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=t=>{console.log("Complete Task");let l=t.target.parentNode.parentNode.getAttribute("data-key");console.log(l);let o='[data-key="'+l+'"]',n=document.querySelector(o);console.log(n);for(let t=0;t<e.masterList.length;t++)e.masterList[t].id==l&&(!1===e.masterList[t].complete?(n.classList.add("complete"),e.masterList[t].complete=!0):!0===e.masterList[t].complete&&(n.classList.remove("complete"),e.masterList[t].complete=!1));console.log(n.classList)},s=()=>{n(),l(e.masterList)},r=t=>{if("default"===t&&(n(),l(e.masterList)),"lowToHigh"===t&&(n(),l(e.lowPrio),l(e.medPrio),l(e.highPrio)),"highToLow"===t&&(n(),l(e.highPrio),l(e.medPrio),l(e.lowPrio)),"projectSorting"===t){n();for(let t=0;t<e.projects.length;t++){let o=e.masterList.filter((l=>l.project==e.projects[t]));console.log(o),l(o.filter((e=>"High"===e.priority))),l(o.filter((e=>"Medium"===e.priority))),l(o.filter((e=>"Low"===e.priority)))}}},a=()=>{let t=document.getElementById("projectInput"),l=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;l.childNodes.length>2;)l.removeChild(l.lastChild);for(let l=0;l<e.projects.length;l++){let o=document.createElement("option");o.value=e.projects[l],o.innerHTML=e.projects[l],t.appendChild(o)}for(let t=0;t<e.projects.length;t++){let o=document.createElement("option");o.value=e.projects[t],o.innerHTML=e.projects[t],l.appendChild(o)}},c=()=>{let e=document.getElementById("task-table");e.removeChild(e.firstChild)},m=function(e,t,l,o,n){this.taskName=e,this.description=t,this.dueDate=l,this.priority=o,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},u=t=>{let l=document.getElementById("editModal");l.style.display="block";let o=t.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),o==e.masterList[t].id&&(n=t);console.log("id ",o),console.log("index ",n),document.getElementById("taskNameEdit").value=e.masterList[n].taskName,document.getElementById("descriptionEdit").value=e.masterList[n].description,document.getElementById("dateEdit").value=e.masterList[n].dueDate,document.getElementById("priorityEdit").value=e.masterList[n].priority,document.getElementById("projectEdit").value=e.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[n].taskName=document.getElementById("taskNameEdit").value,e.masterList[n].description=document.getElementById("descriptionEdit").value,e.masterList[n].dueDate=document.getElementById("dateEdit").value,e.masterList[n].priority=document.getElementById("priorityEdit").value,e.masterList[n].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),s(),l.style.display="none"}},p=()=>{document.getElementById("task-table-body");for(let t=0;t<e.projects.length;t++)y(t);const t=document.getElementsByClassName("del-btn");for(let e=0;e<t.length;e++)t[e].addEventListener("click",h)},y=t=>{let l=document.querySelector("#task-table-body"),o=document.createElement("tr");o.setAttribute("data-key",t),o.id="task-"+t,o.classList.add("task-item");let n=document.createElement("td");n.innerHTML=e.projects[t],o.appendChild(n);let i=document.createElement("td");i.setAttribute("data-key",t);let d=document.createElement("button");i.appendChild(d),d.setAttribute("type","button"),d.innerHTML='<i class="fa-solid fa-trash"></i>',d.classList.add("del-btn"),d.id=t;let s=document.createElement("button");i.appendChild(s),s.setAttribute("type","button"),s.innerHTML='<i class="fa-solid fa-pencil"></i>',s.classList.add("edit-btn"),s.id=t,o.appendChild(i),l.appendChild(o)},g=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},h=t=>{let l=t.target.parentNode.id;console.log(l);let o=e.projects[l];console.log(o);let n=e.projects.filter((e=>e!=o));e.projects=n,g(),p()};console.log(e.masterList);let E=new m("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(E);let L=new m("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Ascension");e.masterList.push(L);let f=new m("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(f),t(),l(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),i=document.getElementById("editModal"),d=document.getElementById("projectModal"),u=document.getElementById("newProject"),y=document.getElementById("sortModal");u.onclick=function(){d.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==i&&(i.style.display="none"),e.target==d&&(d.style.display="none"),e.target==y&&(y.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,l=document.getElementById("descriptionInput").value,o=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new m(t,l,o,n,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?s():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("submit-sort-btn").onclick=function(){let e=document.getElementById("sortType").value;r(e),document.getElementById("sortModal").style.display="none",document.getElementById("sortType").selectedIndex=0};let h=document.getElementById("sortType");h.onchange=function(){console.log("here");let e=h.value;r(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),d.style.display="none",document.getElementById("projectName").value="",a()},document.getElementById("project-view").onclick=function(){n(),c(),(()=>{let e=document.getElementById("task-table"),t=["Project Name",""],l=document.createElement("tr");e.prepend(l);for(let e=0;e<t.length;e++){let o=document.createElement("th");o.innerHTML=t[e],l.appendChild(o)}})(),p()},document.getElementById("all-tasks").onclick=function(){c(),g(),l(e.masterList)}})(),a()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUMsR0FDSTFELFNBQVNDLGVBQWUsYUFDOUIwRSxNQUFNQyxRQUFVLE9BQzFCNUUsU0FBU0MsZUFBZSxZQUFZcUcsY0FBZ0IsR0FHdEQsSUFBSUMsRUFBYXZHLFNBQVNDLGVBQWUsWUFDekNzRyxFQUFXQyxTQUFXLFdBQ3BCMUYsUUFBUUMsSUFBSSxRQUNaLElBQUkyQyxFQUFXNkMsRUFBV3JDLE1BQzFCVCxFQUFZQyxJQUdHMUQsU0FBU0MsZUFBZSxzQkFDOUI2RSxRQUFVLFdMbERKLE1BQ2pCLElBQUkyQixFQUFZekcsU0FBU0MsZUFBZSxlQUFlaUUsTUFDdkRqRixFQUFTTSxTQUFTZ0csS0FBS2tCLElLaURyQkMsR0FDQWQsRUFBYWpCLE1BQU1DLFFBQVUsT0FDN0I1RSxTQUFTQyxlQUFlLGVBQWVpRSxNQUFRLEdBQy9DTixLQUdtQjVELFNBQVNDLGVBQWUsZ0JBQzlCNkUsUUFBVSxXRjVFekJuQyxJQUNBd0IsSUFLMkIsTUFDM0IsSUFBSXdDLEVBQVczRyxTQUFTQyxlQUFlLGNBQ25DMkcsRUFBaUIsQ0FBQyxlQUFnQixJQUNsQzFHLEVBQVlGLFNBQVNHLGNBQWMsTUFDdkN3RyxFQUFTdkcsUUFBUUYsR0FDakIsSUFBSyxJQUFJUSxFQUFJLEVBQUdBLEVBQUlrRyxFQUFldEcsT0FBUUksSUFBSyxDQUM5QyxJQUFJSCxFQUFLUCxTQUFTRyxjQUFjLE1BQ2hDSSxFQUFHQyxVQUFZb0csRUFBZWxHLEdBQzlCUixFQUFVTyxZQUFZRixLQVp4QnNHLEdBQ0E5QixLRTZFcUIvRSxTQUFTQyxlQUFlLGFBQzlCNkUsUUFBVSxXQUN2QlgsSUFDQWlCLElBQ0F4RixFQUFZWCxFQUFTQyxjRDlEekIsR0FDQTBFLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvbGlzdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvY29udGVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvdG9kby5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvcHJvamVjdFZpZXcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUb0RvTGlzdCA9ICgoKSA9PiB7XHJcbiAgbGV0IGlzU29ydGVkID0gZmFsc2U7XHJcbiAgbGV0IG1hc3Rlckxpc3QgPSBbXTtcclxuICBsZXQgbG93UHJpbyA9IFtdO1xyXG4gIGxldCBtZWRQcmlvID0gW107XHJcbiAgbGV0IGhpZ2hQcmlvID0gW107XHJcbiAgbGV0IHByb2plY3RzID0gW1wiTm9uZVwiLCBcIlB1bGxzXCIsIFwiQXNjZW5zaW9uXCJdO1xyXG4gIHJldHVybiB7IG1hc3Rlckxpc3QsIGxvd1ByaW8sIG1lZFByaW8sIGhpZ2hQcmlvLCBpc1NvcnRlZCwgcHJvamVjdHMgfTtcclxufSkoKTtcclxuXHJcbmNvbnN0IHNldFByaW9BcnJheXMgPSAoKSA9PiB7XHJcbiAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgKTtcclxuICBUb0RvTGlzdC5tZWRQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiXHJcbiAgKTtcclxuICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XHJcbiAgbGV0IHByb2pJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE5hbWVcIikudmFsdWU7XHJcbiAgVG9Eb0xpc3QucHJvamVjdHMucHVzaChwcm9qSW5wdXQpO1xyXG59O1xyXG5leHBvcnQgeyBUb0RvTGlzdCwgc2V0UHJpb0FycmF5cywgYWRkUHJvamVjdCB9O1xyXG4iLCJpbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgZWRpdFRhc2ssIFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XHJcbmNvbnN0IHJlbmRlclRvRG9zID0gKGFycmF5KSA9PiB7XHJcbiAgbGV0IGhlYWRlckFyciA9IFtcclxuICAgIFwiVGFzayBOYW1lXCIsXHJcbiAgICBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICBcIlByb2plY3RcIixcclxuICAgIFwiRHVlIERhdGVcIixcclxuICAgIFwiUHJpb3JpdHlcIixcclxuICAgIFwiXCIsXHJcbiAgXTtcclxuICBsZXQgdGFza0hlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay10YWJsZVwiKTtcclxuICBsZXQgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHRhc2tIZWFkZXIucHJlcGVuZChoZWFkZXJEaXYpO1xyXG4gIGZvciAobGV0IHMgPSAwOyBzIDwgaGVhZGVyQXJyLmxlbmd0aDsgcysrKSB7XHJcbiAgICBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICB0aC5pbm5lckhUTUwgPSBoZWFkZXJBcnJbc107XHJcbiAgICBoZWFkZXJEaXYuYXBwZW5kQ2hpbGQodGgpO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJSb3coaSwgYXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBkZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgY29uc29sZS5sb2coZGVsQnRucyk7XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkZWxCdG5zLmxlbmd0aDsgaisrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBkZWxCdG5zW2pdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWRpdEJ0bnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGVkaXRCdG5zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VGFzayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb21wbGV0ZUJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29tcC1idG5cIik7XHJcbiAgZm9yIChsZXQgbCA9IDA7IGwgPCBjb21wbGV0ZUJ0bnMubGVuZ3RoOyBsKyspIHtcclxuICAgIGNvbnNvbGUubG9nKGNvbXBsZXRlQnRuc1tsXS5pZCk7XHJcbiAgICBsZXQgYnRuSWQgPSBjb21wbGV0ZUJ0bnNbbF0uaWQ7XHJcbiAgICBjb21wbGV0ZUJ0bnNbbF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbXBsZXRlVGFzayk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUm93ID0gKGksIGFycmF5KSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICAvL0RhdGEga2V5PyA8LS0gTmVlZCB0byBhZGQgdGhlIGRhdGEga2V5IHRvIGVhY2ggZGl2LlxyXG4gIGxldCBkayA9IGFycmF5W2ldLmlkO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuICByb3cuaWQgPSBcInRhc2stXCIgKyBkaztcclxuICByb3cuY2xhc3NMaXN0LmFkZChcInRhc2staXRlbVwiKTtcclxuICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgdGl0bGUuaW5uZXJIVE1MID0gYXJyYXlbaV0udGFza05hbWU7XHJcbiAgcm93LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGFycmF5W2ldLmRlc2NyaXB0aW9uO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XHJcblxyXG4gIGxldCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByb2plY3QuaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJvamVjdDtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJvamVjdCk7XHJcblxyXG4gIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGR1ZURhdGUuaW5uZXJIVE1MID0gYXJyYXlbaV0uZHVlRGF0ZTtcclxuICByb3cuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XHJcblxyXG4gIGxldCBwcmlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByaW8uaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJpb3JpdHk7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByaW8pO1xyXG5cclxuICAvL05lZWQgdG8gY3JlYXRlIGJ1dHRvbnNcclxuXHJcbiAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgYnV0dG9ucy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcbiAgbGV0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgbGV0IGNvbXBCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoY29tcEJ0bik7XHJcbiAgY29tcEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGNvbXBCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hlY2tcIj48L2k+YDtcclxuICBjb21wQnRuLmNsYXNzTGlzdC5hZGQoXCJjb21wLWJ0blwiKTtcclxuICBjb21wQnRuLmlkID0gZGs7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT5gO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wZW5jaWxcIj48L2k+YDtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUm93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXNrID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coXCJoZXJlXCIsIGlkKTtcclxuICBsZXQgZmlsdGVyQXJyID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT0gaWQpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QgPSBmaWx0ZXJBcnI7XHJcbiAgc2V0UHJpb0FycmF5cygpO1xyXG4gIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG59O1xyXG5cclxuY29uc3QgY29tcGxldGVUYXNrID0gKGUpID0+IHtcclxuICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlIFRhc2tcIik7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGNvbnNvbGUubG9nKGlkKTtcclxuICBsZXQgcm93SWQgPSBcIltkYXRhLWtleT1cIiArIGBcImAgKyBpZCArIGBcIl1gO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvd0lkKTtcclxuICBjb25zb2xlLmxvZyhyb3cpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID09PSB0cnVlKSB7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5yZW1vdmUoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgY29uc29sZS5sb2cocm93LmNsYXNzTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCByZWZyZXNoQ29udGVudCA9ICgpID0+IHtcclxuICByZW1vdmVSb3dzKCk7XHJcbiAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCBzb3J0Q29udGVudCA9IChzb3J0VHlwZSkgPT4ge1xyXG4gIGlmIChzb3J0VHlwZSA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG4gIH1cclxuICBpZiAoc29ydFR5cGUgPT09IFwibG93VG9IaWdoXCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgfVxyXG5cclxuICBpZiAoc29ydFR5cGUgPT09IFwiaGlnaFRvTG93XCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubG93UHJpbyk7XHJcbiAgfVxyXG5cclxuICBpZiAoc29ydFR5cGUgPT09IFwicHJvamVjdFNvcnRpbmdcIikge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgcHJvakFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAgICh0YXNrcykgPT4gdGFza3MucHJvamVjdCA9PSBUb0RvTGlzdC5wcm9qZWN0c1tpXVxyXG4gICAgICApO1xyXG4gICAgICBjb25zb2xlLmxvZyhwcm9qQXJyKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJIaWdoXCIpKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIikpO1xyXG4gICAgICByZW5kZXJUb0Rvcyhwcm9qQXJyLmZpbHRlcigodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkxvd1wiKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMgPSAoKSA9PiB7XHJcbiAgbGV0IHByb2plY3RJbnB1dERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdElucHV0XCIpO1xyXG4gIGxldCBlZGl0UHJvakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdEVkaXRcIik7XHJcbiAgd2hpbGUgKHByb2plY3RJbnB1dERpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIHByb2plY3RJbnB1dERpdi5yZW1vdmVDaGlsZChwcm9qZWN0SW5wdXREaXYubGFzdENoaWxkKTtcclxuICB9XHJcbiAgd2hpbGUgKGVkaXRQcm9qRGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMikge1xyXG4gICAgZWRpdFByb2pEaXYucmVtb3ZlQ2hpbGQoZWRpdFByb2pEaXYubGFzdENoaWxkKTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIHByb2plY3RJbnB1dERpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBqID0gMDsgaiA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgZWRpdFByb2pEaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVIZWFkZXJzID0gKCkgPT4ge1xyXG4gIGxldCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGFibGVcIik7XHJcbiAgaGVhZGVyLnJlbW92ZUNoaWxkKGhlYWRlci5maXJzdENoaWxkKTtcclxufTtcclxuZXhwb3J0IHtcclxuICByZW5kZXJUb0RvcyxcclxuICByZWZyZXNoQ29udGVudCxcclxuICBzb3J0Q29udGVudCxcclxuICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyxcclxuICBjb21wbGV0ZVRhc2ssXHJcbiAgcmVtb3ZlUm93cyxcclxuICByZW1vdmVIZWFkZXJzLFxyXG59O1xyXG5cclxuLy9Vc2UgcXVlcnkgc2VsZWN0b3IgdG8gZ2V0IGFycmF5IG9mIGRpdnMgdGhhdCBoYXMgdGhlIGRhdGEgYXR0cmlidXRlIEkgd2FudCB0byByZW1vdmVcclxuIiwiaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IHJlZnJlc2hDb250ZW50LCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuXHJcbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGFza05hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCkge1xyXG4gIHRoaXMudGFza05hbWUgPSB0YXNrTmFtZTtcclxuICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgdGhpcy5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkVG9EbyA9ICgpID0+IHtcclxuICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS52YWx1ZTtcclxuXHJcbiAgbGV0IG5ld1Rhc2sgPSBuZXcgVG9Ebyh0YXNrTmFtZSwgdGFza0Rlc2MsIHRhc2tEYXRlLCB0YXNrUHJpbywgXCJkZWZhdWx0XCIpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChuZXdUYXNrKTtcclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIikge1xyXG4gICAgVG9Eb0xpc3QubG93UHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIikge1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNvcnRDb250ZW50KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZWRpdFRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBsZXQgaW5kZXggPSAwO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc29sZS5sb2coXCJUREwgSURcIiwgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCk7XHJcbiAgICBpZiAoaWQgPT0gVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCkge1xyXG4gICAgICBpbmRleCA9IGk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcImlkIFwiLCBpZCk7XHJcbiAgY29uc29sZS5sb2coXCJpbmRleCBcIiwgaW5kZXgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnRhc2tOYW1lO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25FZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZHVlRGF0ZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcmlvcml0eTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3Q7XHJcblxyXG4gIGxldCBzYXZlQ2hhbmdlc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LWVkaXQtYnRuXCIpO1xyXG4gIHNhdmVDaGFuZ2VzQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb24gPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHkgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3QgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICAgICk7XHJcblxyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgVG9EbywgYWRkVG9EbywgZWRpdFRhc2sgfTtcclxuLy9Ib3cgdG8gaGFuZGxlIHByb2plY3RzP1xyXG4vL0hhdmUgYW4gb3ZlcmFjcmNoaW5nIGFycmF5IHRoYXQgaG9sZHMgb2JqZWN0cyBhbmQgc3ViYXJyYXlzIGZvciBlYWNoIHByb2plY3Q/IDwtLSBTZWVtcyBsaWtlbHlcclxuLy8gSGF2ZSBhbiBvdmVyYXJjaGluZyBhcnJheSBhbmQgZmlsdGVyIHdoZW4gbmVjZXNzYXJ5IGZvciBwcm9qZWN0c1xyXG4iLCJpbXBvcnQgeyByZW1vdmVIZWFkZXJzLCByZW1vdmVSb3dzIH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuXHJcbmNvbnN0IHByZXBhcmVEaXYgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUm93cygpO1xyXG4gIHJlbW92ZUhlYWRlcnMoKTtcclxuICByZW5kZXJQcm9qZWN0SGVhZGVycygpO1xyXG4gIHJlbmRlclByb2plY3RzKCk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJQcm9qZWN0SGVhZGVycyA9ICgpID0+IHtcclxuICBsZXQgdGFibGVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGFibGVcIik7XHJcbiAgbGV0IHByb2plY3RIZWFkZXJzID0gW1wiUHJvamVjdCBOYW1lXCIsIFwiXCJdO1xyXG4gIGxldCBoZWFkZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgdGFibGVEaXYucHJlcGVuZChoZWFkZXJEaXYpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgIHRoLmlubmVySFRNTCA9IHByb2plY3RIZWFkZXJzW2ldO1xyXG4gICAgaGVhZGVyRGl2LmFwcGVuZENoaWxkKHRoKTtcclxuICB9XHJcbn07XHJcbmNvbnN0IHJlbmRlclByb2plY3RzID0gKCkgPT4ge1xyXG4gIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGFibGUtYm9keVwiKTtcclxuXHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgcmVuZGVyUHJvamVjdFJvdyhqKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRlbGV0ZUJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGVsLWJ0blwiKTtcclxuICBmb3IgKGxldCBrID0gMDsgayA8IGRlbGV0ZUJ1dHRvbnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGRlbGV0ZUJ1dHRvbnNba10uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbW92ZVByb2plY3QpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RSb3cgPSAoaSkgPT4ge1xyXG4gIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBpKTtcclxuICByb3cuaWQgPSBcInRhc2stXCIgKyBpO1xyXG4gIHJvdy5jbGFzc0xpc3QuYWRkKFwidGFzay1pdGVtXCIpO1xyXG5cclxuICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgcHJvamVjdE5hbWUuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgcm93LmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcclxuXHJcbiAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgYnV0dG9ucy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBpKTtcclxuXHJcbiAgbGV0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT5gO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBkZWxCdG4uaWQgPSBpO1xyXG5cclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wZW5jaWxcIj48L2k+YDtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICBlZGl0QnRuLmlkID0gaTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUHJvamVjdFJvd3MgPSAoKSA9PiB7XHJcbiAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICB3aGlsZSAoY29udGVudERpdi5maXJzdENoaWxkKSB7XHJcbiAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKGNvbnRlbnREaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaFByb2plY3RzID0gKCkgPT4ge1xyXG4gIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgcmVuZGVyUHJvamVjdHMoKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVByb2plY3QgPSAoZSkgPT4ge1xyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUuaWQ7XHJcbiAgY29uc29sZS5sb2coaWQpO1xyXG4gIGxldCB0YXJnZXQgPSBUb0RvTGlzdC5wcm9qZWN0c1tpZF07XHJcbiAgY29uc29sZS5sb2codGFyZ2V0KTtcclxuICBsZXQgZmlsdGVyZWRBcnIgPSBUb0RvTGlzdC5wcm9qZWN0cy5maWx0ZXIoKHRhc2spID0+IHRhc2sgIT0gdGFyZ2V0KTtcclxuICBUb0RvTGlzdC5wcm9qZWN0cyA9IGZpbHRlcmVkQXJyO1xyXG4gIHJlZnJlc2hQcm9qZWN0cygpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgcHJlcGFyZURpdiwgcmVtb3ZlUHJvamVjdFJvd3MgfTtcclxuIiwiaW1wb3J0IHsgVG9EbyB9IGZyb20gXCIuL21vZHVsZXMvdG9kb1wiO1xyXG5pbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL21vZHVsZXMvbGlzdFwiO1xyXG5pbXBvcnQgeyByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cywgcmVuZGVyVG9Eb3MgfSBmcm9tIFwiLi9tb2R1bGVzL2NvbnRlbnRcIjtcclxuaW1wb3J0IGluaXRCdXR0b25zIGZyb20gXCIuL21vZHVsZXMvYnV0dG9uc1wiO1xyXG5cclxuY29uc29sZS5sb2coVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbmxldCB0ZDIgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIFllbGFuXCIsXHJcbiAgXCJQdWxsIFllbGFuIGJjIG1vbW15XCIsXHJcbiAgXCI1LzEwLzIyXCIsXHJcbiAgXCJNZWRpdW1cIixcclxuICBcIlB1bGxzXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMik7XHJcbmxldCB0ZDEgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIEF5YWthXCIsXHJcbiAgXCJVc2UgYWxsIG1lYW5zIG5lY2Vzc2FyeSB0byBwdWxsIEF5YWthXCIsXHJcbiAgXCI0LzE5LzIyXCIsXHJcbiAgXCJIaWdoXCIsXHJcbiAgXCJBc2NlbnNpb25cIlxyXG4pO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQxKTtcclxubGV0IHRkMyA9IG5ldyBUb0RvKFwiUm9sbCBmb3IgQXlhdG9cIiwgXCIgcHVsbCBBeWF0b1wiLCBcIjQvMTkvMjJcIiwgXCJMb3dcIiwgXCJQdWxsc1wiKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMyk7XHJcbnNldFByaW9BcnJheXMoKTtcclxucmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbmluaXRCdXR0b25zKCk7XHJcbnJlbmRlclByb2plY3RzRm9yVGFza01lbnVzKCk7XHJcblxyXG4vKlxyXG5Ob3RlczpcclxuLU9uIGFkZCB0YXNrIGZvcm0gbmVlZCBhIHBsYWNlIHRvIHNlbGVjdCB3aGljaCBwcm9qZWN0IHRvIGFkZCB0aGUgdG8gZG8gdG8uIEFsbG93IGZvciBtdWx0aXBsZSBwcm9qZWN0IHNlbGVjdGlvbiAoTWF5YmUgbm90KVxyXG4tTmVlZCBhbiBlZGl0IHRhc2sgYnV0dG9uIG9uIGVhY2ggdGFzayByb3dcclxuLU5lZWQgdG8gZmlndXJlIG91dCB3aGVyZSB0byBjcmVhdGUgbmV3IHByb2plY3RzXHJcbi1WaWV3IGFsbCB0YXNrcyBuZWVkcyB0byBkaXNwbGF5IHByb2plY3QgbmFtZXNcclxuXHJcblBsYW4gb2YgYXR0YWNrOlxyXG4qQWRkIGEgZmV3IGR1bW15IHRvIGRvIG9iamVjdHMgYW5kIGdldCB0aGVtIHJlbmRlcmluZyB0byB0aGUgZG9tXHJcbipTZXQgdXAgdGhlIGFkZCB0YXNrIGJ1dHRvbiBcclxuKlNldCB1cCB0YXNrIGVkaXRpbmcgPC0tIE1vZGFsIHdpdGggdGhlIHRhc2tzIGRhdGEgcHJlLWZpbGxlZCBpbnRvIGEgZm9ybS4gXHJcbi0tTmVlZCBhIGRpc2NhcmQgY2hhbmdlIGJ1dHRvbiBcclxuKipOZWVkIGEgc2F2ZSBjaGFuZ2UgYnV0dG9uIFxyXG4qU2V0IHVwIHNvcnRpbmcgXHJcbi0tTWF5YmUgYWRkIHdoaWNoIHdheSB0byBiZSBzb3J0ZWQ/IFN0cmVjaCBnb2FsP1xyXG4qU2V0IHVwIHJldmVydGluZyBzb3J0aW5nIDwtLSBSZSByZW5kZXIgZnJvbSBtYXN0ZXIgYnkgY2hlY2tpbmcgaXNTb3J0aW5nIGZvciBmYWxzZVxyXG4tU2V0IHVwIHByb2plY3RzXHJcbioqIEFkZCBwcm9qZWN0IGJ1dHRvblxyXG4qKiBBZGQgcHJvamVjdCBzZWxlY3Rpb24gb24gYWRkIHRhc2sgZm9ybVxyXG4tLSBFZGl0IFByb2plY3RzIE1vZGFsLiAoPylcclxuLS0gQWRkIHByb2plY3Qgdmlld3MgPC0tIENhbiBkZWZpbml0ZWx5IGRvXHJcbi0tIFJlIHJlbmRlciB0YWJsZSB3aXRoIGEgZmlsdGVyZWQgYXJyYXkgZm9yIHRoZSBwcm9qZWN0IHRoZXkgd2FudCB0byB2aWV3LiBcclxuXHJcblxyXG5Tb3J0aW5nIE1vZGFsOlxyXG4qKkRyb3Bkb3duIHdpdGggZGVmYXVsdCwgbG93IHRvIGhpZ2ggcHJpb3JpdHksIGhpZ2ggdG8gbG93LCBwcm9qZWN0ICh3aGljaCBqdXN0IGdyb3VwcyB0aGUgdGFza3MgYnkgcHJvamVjdHMpXHJcbioqKiBUbyBkbyB0aGUgbGFzdCBvbmUsIGl0ZXJhdGUgdGhyb3VnaCBwcm9qZWN0cyBhcnJheSBmaWx0ZXJpbmcgdGhlIG1haW4gYXJyYXkgYW5kIHJlbmRlcmluZyB0aGUgcmVzdWx0aW5nIGFycmF5IFxyXG5cclxuKipjaGFuZ2Ugc29ydGluZyBtb2RhbCB0byBhIGRyb3Bkb3duIHcvb3V0IG1vZGFsICsgb25jaGFuZ2UgcmF0aGVyIHRoYW4gYSBzdWJtaXRcclxuXHJcbi0tUHJvamVjdHMgY29sbGFwc2libGUgb24gc2lkZWJhciBvciBhIGRyb3AgZG93bj8gb3IgYSBtb2RhbD8gb3I/Pz8gU29tZXRoaW5nIHRvIHZpZXcgb25seSB0YXNrcyBvZiBhIHByb2plY3QuIFxyXG4qKkJ1dHRvbi9SYWRpbyBmb3IgbWFya2luZyBhIHRhc2sgY29tcGxldGUgdGhhdCBjcm9zc2VzIG91dCB0aGUgcm93XHJcbioqQ2hhbmdlIGJ1dHRvbnMgdG8gaWNvbnMgb2Ygc29tZSBzb3J0LiBQZW5jaWwgZm9yIGVkaXQsIHRyYXNoY2FuIGZvciBkZWxldGVcclxuXHJcbi1DU1MgZm9yIE1vZGFsc1xyXG4tQ2hhbmdlIE5ldyB0YXNrL3Byb2plY3RzIHRvIGJ1dHRvbnMgZm9yIHN0eWxpc3RpYyBwdXJwb3Nlcy4gU2hvdWxkbid0IGNoYW5nZSBmdW5jdGlvbmFsaXR5XHJcblxyXG5cclxuLUNoYW5nZSB0YWJsZSByZW5kZXJpbmcgdG8gYWxsIG9jY3VyIGluIEpTXHJcbi1Qcm9qZWN0cyBidXR0b24gaW4gc2lkZSBiYXIgcmVuZGVycyB0YWJsZSB3aXRoIHByb2plY3QgbmFtZSArIGJ1dHRvbnMgZm9yIGVkaXQgKyBkZWxldGVcclxuXHJcbiovXHJcbiIsImltcG9ydCB7IGFkZFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XHJcbmltcG9ydCB7XHJcbiAgcmVtb3ZlSGVhZGVycyxcclxuICByZW5kZXJOZXdQcm9qZWN0cyxcclxuICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyxcclxuICByZW5kZXJUb0RvcyxcclxuICBzb3J0Q29udGVudCxcclxufSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IGFkZFByb2plY3QsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBwcmVwYXJlRGl2LCByZW1vdmVQcm9qZWN0Um93cyB9IGZyb20gXCIuL3Byb2plY3RWaWV3XCI7XHJcbmNvbnN0IGluaXRCdXR0b25zID0gKCkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcbiAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgbW9kYWxcIik7XHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBzb3J0TW9kYWwpIHtcclxuICAgICAgc29ydE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9O1xyXG4gIGxldCBzdWJtaXRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC10YXNrLWJ0blwiKTtcclxuICBzdWJtaXRidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFRvRG8oKTtcclxuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgfTtcclxuXHJcbiAgLy8gbGV0IHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUYXNrQnRuXCIpO1xyXG4gIC8vIHNvcnRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAvLyAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIC8vIH07XHJcblxyXG4gIGxldCBzdWJtaXRTb3J0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtc29ydC1idG5cIik7XHJcbiAgc3VibWl0U29ydEJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHNvcnRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKS52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUeXBlXCIpLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gIH07XHJcblxyXG4gIGxldCBzb3J0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKTtcclxuICBzb3J0U2VsZWN0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xyXG4gICAgbGV0IHNvcnRUeXBlID0gc29ydFNlbGVjdC52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWRkUHJvakJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXByb2plY3QtYnRuXCIpO1xyXG4gIGFkZFByb2pCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFByb2plY3QoKTtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzKCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHByb2plY3RWaWV3QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0LXZpZXdcIik7XHJcbiAgcHJvamVjdFZpZXdCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByZXBhcmVEaXYoKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWxsVGFza3NCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbC10YXNrc1wiKTtcclxuICBhbGxUYXNrc0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmVtb3ZlSGVhZGVycygpO1xyXG4gICAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0QnV0dG9ucztcclxuIl0sIm5hbWVzIjpbIlRvRG9MaXN0IiwibWFzdGVyTGlzdCIsImxvd1ByaW8iLCJtZWRQcmlvIiwiaGlnaFByaW8iLCJpc1NvcnRlZCIsInByb2plY3RzIiwic2V0UHJpb0FycmF5cyIsImZpbHRlciIsInRhc2tzIiwicHJpb3JpdHkiLCJyZW5kZXJUb0RvcyIsImFycmF5IiwiaGVhZGVyQXJyIiwidGFza0hlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWFkZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwicHJlcGVuZCIsInMiLCJsZW5ndGgiLCJ0aCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiaSIsInJlbmRlclJvdyIsImRlbEJ0bnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVGFzayIsImVkaXRCdG5zIiwiayIsImVkaXRUYXNrIiwiY29tcGxldGVCdG5zIiwibCIsImlkIiwiY29tcGxldGVUYXNrIiwidGFibGVCb2R5IiwicXVlcnlTZWxlY3RvciIsImRrIiwicm93Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwidGl0bGUiLCJ0YXNrTmFtZSIsImRlc2NyaXB0aW9uIiwicHJvamVjdCIsImR1ZURhdGUiLCJwcmlvIiwiYnV0dG9ucyIsImRlbEJ0biIsImNvbXBCdG4iLCJlZGl0QnRuIiwicmVtb3ZlUm93cyIsImNvbnRlbnREaXYiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJlIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsImZpbHRlckFyciIsInRhc2siLCJyZWZyZXNoQ29udGVudCIsInJvd0lkIiwiY29tcGxldGUiLCJyZW1vdmUiLCJzb3J0Q29udGVudCIsInNvcnRUeXBlIiwicHJvakFyciIsInJlbmRlclByb2plY3RzRm9yVGFza01lbnVzIiwicHJvamVjdElucHV0RGl2IiwiZWRpdFByb2pEaXYiLCJjaGlsZE5vZGVzIiwibGFzdENoaWxkIiwib3B0IiwidmFsdWUiLCJyZW1vdmVIZWFkZXJzIiwiaGVhZGVyIiwiVG9EbyIsInRoaXMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4Iiwib25jbGljayIsInJlbmRlclByb2plY3RzIiwicmVuZGVyUHJvamVjdFJvdyIsImRlbGV0ZUJ1dHRvbnMiLCJyZW1vdmVQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJyZW1vdmVQcm9qZWN0Um93cyIsImZpbHRlcmVkQXJyIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJhZGRQcm9qIiwic29ydE1vZGFsIiwid2luZG93IiwiZXZlbnQiLCJ0YXNrRGVzYyIsInRhc2tEYXRlIiwidGFza1ByaW8iLCJuZXdUYXNrIiwiYWRkVG9EbyIsInNlbGVjdGVkSW5kZXgiLCJzb3J0U2VsZWN0Iiwib25jaGFuZ2UiLCJwcm9qSW5wdXQiLCJhZGRQcm9qZWN0IiwidGFibGVEaXYiLCJwcm9qZWN0SGVhZGVycyIsInJlbmRlclByb2plY3RIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==