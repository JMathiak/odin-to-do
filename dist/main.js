(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},l=e=>{let t=["Task Name","Description","Project","Due Date","Priority",""],l=document.getElementById("task-table"),n=document.createElement("tr");l.prepend(n);for(let e=0;e<t.length;e++){let l=document.createElement("th");l.innerHTML=t[e],n.appendChild(l)}for(let t=0;t<e.length;t++)o(t,e);const s=document.getElementsByClassName("del-btn");console.log(s);for(let e=0;e<s.length;e++)console.log("here"),s[e].addEventListener("click",i);const r=document.getElementsByClassName("edit-btn");for(let e=0;e<r.length;e++)r[e].addEventListener("click",u);const a=document.getElementsByClassName("comp-btn");for(let e=0;e<a.length;e++)console.log(a[e].id),a[e].id,a[e].addEventListener("click",d)},o=(e,t)=>{let l=document.querySelector("#task-table-body"),o=t[e].id,n=document.createElement("tr");1==t[e].complete&&n.classList.add("complete"),n.setAttribute("data-key",o),n.id="task-"+o,n.classList.add("task-item");let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].project,n.appendChild(s);let r=document.createElement("td");r.innerHTML=t[e].dueDate,n.appendChild(r);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let c=document.createElement("td");c.setAttribute("data-key",o);let m=document.createElement("button"),u=document.createElement("button");c.appendChild(u),u.setAttribute("type","button"),u.innerHTML='<i class="fa-solid fa-check"></i>',u.classList.add("comp-btn"),u.id=o,c.appendChild(m),m.setAttribute("type","button"),m.innerHTML='<i class="fa-solid fa-trash"></i>',m.classList.add("del-btn");let p=document.createElement("button");c.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-pencil"></i>',p.classList.add("edit-btn"),n.appendChild(c),l.appendChild(n)},n=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=l=>{let o=l.target.parentNode.parentNode.getAttribute("data-key");console.log("here",o);let n=e.masterList.filter((e=>e.id!=o));e.masterList=n,t(),s(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=t=>{console.log("Complete Task");let l=t.target.parentNode.parentNode.getAttribute("data-key");console.log(l);let o='[data-key="'+l+'"]',n=document.querySelector(o);console.log(n);for(let t=0;t<e.masterList.length;t++)e.masterList[t].id==l&&(!1===e.masterList[t].complete?(n.classList.add("complete"),e.masterList[t].complete=!0):!0===e.masterList[t].complete&&(n.classList.remove("complete"),e.masterList[t].complete=!1));console.log(n.classList)},s=()=>{n(),l(e.masterList)},r=t=>{if("default"===t&&(n(),l(e.masterList)),"lowToHigh"===t&&(n(),l(e.lowPrio),l(e.medPrio),l(e.highPrio)),"highToLow"===t&&(n(),l(e.highPrio),l(e.medPrio),l(e.lowPrio)),"projectSorting"===t){n();for(let t=0;t<e.projects.length;t++){let o=e.masterList.filter((l=>l.project==e.projects[t]));console.log(o),l(o.filter((e=>"High"===e.priority))),l(o.filter((e=>"Medium"===e.priority))),l(o.filter((e=>"Low"===e.priority)))}}},a=()=>{let t=document.getElementById("projectInput"),l=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;l.childNodes.length>2;)l.removeChild(l.lastChild);for(let l=0;l<e.projects.length;l++){let o=document.createElement("option");o.value=e.projects[l],o.innerHTML=e.projects[l],t.appendChild(o)}for(let t=0;t<e.projects.length;t++){let o=document.createElement("option");o.value=e.projects[t],o.innerHTML=e.projects[t],l.appendChild(o)}},c=()=>{let e=document.getElementById("task-table");e.removeChild(e.firstChild)},m=function(e,t,l,o,n){this.taskName=e,this.description=t,this.dueDate=l,this.priority=o,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},u=t=>{let l=document.getElementById("editModal");l.style.display="block";let o=t.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),o==e.masterList[t].id&&(n=t);console.log("id ",o),console.log("index ",n),document.getElementById("taskNameEdit").value=e.masterList[n].taskName,document.getElementById("descriptionEdit").value=e.masterList[n].description,document.getElementById("dateEdit").value=e.masterList[n].dueDate,document.getElementById("priorityEdit").value=e.masterList[n].priority,document.getElementById("projectEdit").value=e.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[n].taskName=document.getElementById("taskNameEdit").value,e.masterList[n].description=document.getElementById("descriptionEdit").value,e.masterList[n].dueDate=document.getElementById("dateEdit").value,e.masterList[n].priority=document.getElementById("priorityEdit").value,e.masterList[n].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),s(),l.style.display="none"}},p=()=>{document.getElementById("task-table-body");for(let t=0;t<e.projects.length;t++)y(t);const t=document.getElementsByClassName("del-btn");for(let e=0;e<t.length;e++)t[e].addEventListener("click",h)},y=t=>{let l=document.querySelector("#task-table-body"),o=document.createElement("tr");o.setAttribute("data-key",t),o.id="task-"+t,o.classList.add("task-item");let n=document.createElement("td");n.innerHTML=e.projects[t],o.appendChild(n);let i=document.createElement("td");i.setAttribute("data-key",t);let d=document.createElement("button");i.appendChild(d),d.setAttribute("type","button"),d.innerHTML='<i class="fa-solid fa-trash"></i>',d.classList.add("del-btn"),d.id=t,o.appendChild(i),l.appendChild(o)},g=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},h=t=>{let l=t.target.parentNode.id;console.log(l);let o=e.projects[l];console.log(o);let n=e.projects.filter((e=>e!=o));e.projects=n,g(),p()};console.log(e.masterList);let E=new m("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(E);let L=new m("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Ascension");e.masterList.push(L);let I=new m("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(I),t(),l(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),i=document.getElementById("editModal"),d=document.getElementById("projectModal"),u=document.getElementById("newProject"),y=document.getElementById("sortModal");u.onclick=function(){d.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0),e.target==i&&(i.style.display="none"),e.target==d&&(d.style.display="none",document.getElementById("projectName").value=""),e.target==y&&(y.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,l=document.getElementById("descriptionInput").value,o=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new m(t,l,o,n,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?s():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("submit-sort-btn").onclick=function(){let e=document.getElementById("sortType").value;r(e),document.getElementById("sortModal").style.display="none",document.getElementById("sortType").selectedIndex=0};let h=document.getElementById("sortType");h.onchange=function(){console.log("here");let e=h.value;r(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),d.style.display="none",document.getElementById("projectName").value="",a()},document.getElementById("project-view").onclick=function(){n(),c(),(()=>{let e=document.getElementById("task-table"),t=["Project Name",""],l=document.createElement("tr");e.prepend(l);for(let e=0;e<t.length;e++){let o=document.createElement("th");o.innerHTML=t[e],l.appendChild(o)}})(),p()},document.getElementById("all-tasks").onclick=function(){c(),g(),l(e.masterList)},document.getElementById("complete-tasks").onclick=function(){c(),g(),l(e.masterList.filter((e=>1==e.complete)))},document.getElementById("incomplete-tasks").onclick=function(){c(),g(),l(e.masterList.filter((e=>0==e.complete)))}})(),a()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxvQkFDOUI2RSxRQUFVLFdBQzFCWCxJQUNBaUIsSUFDQXhGLEVBQVlYLEVBQVNDLFdBQVdPLFFBQVE0RCxHQUEwQixHQUFqQkEsRUFBS3ZCLGNEakYxRCxHQUNBOEIsSyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9saXN0LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9jb250ZW50LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy90b2RvLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9wcm9qZWN0Vmlldy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9idXR0b25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRvRG9MaXN0ID0gKCgpID0+IHtcclxuICBsZXQgaXNTb3J0ZWQgPSBmYWxzZTtcclxuICBsZXQgbWFzdGVyTGlzdCA9IFtdO1xyXG4gIGxldCBsb3dQcmlvID0gW107XHJcbiAgbGV0IG1lZFByaW8gPSBbXTtcclxuICBsZXQgaGlnaFByaW8gPSBbXTtcclxuICBsZXQgcHJvamVjdHMgPSBbXCJOb25lXCIsIFwiUHVsbHNcIiwgXCJBc2NlbnNpb25cIl07XHJcbiAgcmV0dXJuIHsgbWFzdGVyTGlzdCwgbG93UHJpbywgbWVkUHJpbywgaGlnaFByaW8sIGlzU29ydGVkLCBwcm9qZWN0cyB9O1xyXG59KSgpO1xyXG5cclxuY29uc3Qgc2V0UHJpb0FycmF5cyA9ICgpID0+IHtcclxuICBUb0RvTGlzdC5oaWdoUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJIaWdoXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcclxuICBsZXQgcHJvaklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZTtcclxuICBUb0RvTGlzdC5wcm9qZWN0cy5wdXNoKHByb2pJbnB1dCk7XHJcbn07XHJcbmV4cG9ydCB7IFRvRG9MaXN0LCBzZXRQcmlvQXJyYXlzLCBhZGRQcm9qZWN0IH07XHJcbiIsImltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBlZGl0VGFzaywgVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuY29uc3QgcmVuZGVyVG9Eb3MgPSAoYXJyYXkpID0+IHtcclxuICBsZXQgaGVhZGVyQXJyID0gW1xyXG4gICAgXCJUYXNrIE5hbWVcIixcclxuICAgIFwiRGVzY3JpcHRpb25cIixcclxuICAgIFwiUHJvamVjdFwiLFxyXG4gICAgXCJEdWUgRGF0ZVwiLFxyXG4gICAgXCJQcmlvcml0eVwiLFxyXG4gICAgXCJcIixcclxuICBdO1xyXG4gIGxldCB0YXNrSGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlXCIpO1xyXG4gIGxldCBoZWFkZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgdGFza0hlYWRlci5wcmVwZW5kKGhlYWRlckRpdik7XHJcbiAgZm9yIChsZXQgcyA9IDA7IHMgPCBoZWFkZXJBcnIubGVuZ3RoOyBzKyspIHtcclxuICAgIGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgIHRoLmlubmVySFRNTCA9IGhlYWRlckFycltzXTtcclxuICAgIGhlYWRlckRpdi5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgIHJlbmRlclJvdyhpLCBhcnJheSk7XHJcbiAgfVxyXG4gIGNvbnN0IGRlbEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGVsLWJ0blwiKTtcclxuICBjb25zb2xlLmxvZyhkZWxCdG5zKTtcclxuICBmb3IgKGxldCBqID0gMDsgaiA8IGRlbEJ0bnMubGVuZ3RoOyBqKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcclxuICAgIGRlbEJ0bnNbal0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbW92ZVRhc2spO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWRpdEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWRpdC1idG5cIik7XHJcbiAgZm9yIChsZXQgayA9IDA7IGsgPCBlZGl0QnRucy5sZW5ndGg7IGsrKykge1xyXG4gICAgZWRpdEJ0bnNba10uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVkaXRUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbXBsZXRlQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb21wLWJ0blwiKTtcclxuICBmb3IgKGxldCBsID0gMDsgbCA8IGNvbXBsZXRlQnRucy5sZW5ndGg7IGwrKykge1xyXG4gICAgY29uc29sZS5sb2coY29tcGxldGVCdG5zW2xdLmlkKTtcclxuICAgIGxldCBidG5JZCA9IGNvbXBsZXRlQnRuc1tsXS5pZDtcclxuICAgIGNvbXBsZXRlQnRuc1tsXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29tcGxldGVUYXNrKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJSb3cgPSAoaSwgYXJyYXkpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcblxyXG4gIC8vRGF0YSBrZXk/IDwtLSBOZWVkIHRvIGFkZCB0aGUgZGF0YSBrZXkgdG8gZWFjaCBkaXYuXHJcbiAgbGV0IGRrID0gYXJyYXlbaV0uaWQ7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICBpZiAoYXJyYXlbaV0uY29tcGxldGUgPT0gdHJ1ZSkge1xyXG4gICAgcm93LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZVwiKTtcclxuICB9XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuICByb3cuaWQgPSBcInRhc2stXCIgKyBkaztcclxuICByb3cuY2xhc3NMaXN0LmFkZChcInRhc2staXRlbVwiKTtcclxuICBsZXQgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgdGl0bGUuaW5uZXJIVE1MID0gYXJyYXlbaV0udGFza05hbWU7XHJcbiAgcm93LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGFycmF5W2ldLmRlc2NyaXB0aW9uO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XHJcblxyXG4gIGxldCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByb2plY3QuaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJvamVjdDtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJvamVjdCk7XHJcblxyXG4gIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGR1ZURhdGUuaW5uZXJIVE1MID0gYXJyYXlbaV0uZHVlRGF0ZTtcclxuICByb3cuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XHJcblxyXG4gIGxldCBwcmlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByaW8uaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJpb3JpdHk7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByaW8pO1xyXG5cclxuICAvL05lZWQgdG8gY3JlYXRlIGJ1dHRvbnNcclxuXHJcbiAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgYnV0dG9ucy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcbiAgbGV0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgbGV0IGNvbXBCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoY29tcEJ0bik7XHJcbiAgY29tcEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGNvbXBCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hlY2tcIj48L2k+YDtcclxuICBjb21wQnRuLmNsYXNzTGlzdC5hZGQoXCJjb21wLWJ0blwiKTtcclxuICBjb21wQnRuLmlkID0gZGs7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT5gO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wZW5jaWxcIj48L2k+YDtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUm93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXNrID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coXCJoZXJlXCIsIGlkKTtcclxuICBsZXQgZmlsdGVyQXJyID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT0gaWQpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QgPSBmaWx0ZXJBcnI7XHJcbiAgc2V0UHJpb0FycmF5cygpO1xyXG4gIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG59O1xyXG5cclxuY29uc3QgY29tcGxldGVUYXNrID0gKGUpID0+IHtcclxuICBjb25zb2xlLmxvZyhcIkNvbXBsZXRlIFRhc2tcIik7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGNvbnNvbGUubG9nKGlkKTtcclxuICBsZXQgcm93SWQgPSBcIltkYXRhLWtleT1cIiArIGBcImAgKyBpZCArIGBcIl1gO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvd0lkKTtcclxuICBjb25zb2xlLmxvZyhyb3cpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5hZGQoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID09PSB0cnVlKSB7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC5yZW1vdmUoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgY29uc29sZS5sb2cocm93LmNsYXNzTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCByZWZyZXNoQ29udGVudCA9ICgpID0+IHtcclxuICByZW1vdmVSb3dzKCk7XHJcbiAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCBzb3J0Q29udGVudCA9IChzb3J0VHlwZSkgPT4ge1xyXG4gIGlmIChzb3J0VHlwZSA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG4gIH1cclxuICBpZiAoc29ydFR5cGUgPT09IFwibG93VG9IaWdoXCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgfVxyXG5cclxuICBpZiAoc29ydFR5cGUgPT09IFwiaGlnaFRvTG93XCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubG93UHJpbyk7XHJcbiAgfVxyXG5cclxuICBpZiAoc29ydFR5cGUgPT09IFwicHJvamVjdFNvcnRpbmdcIikge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgcHJvakFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAgICh0YXNrcykgPT4gdGFza3MucHJvamVjdCA9PSBUb0RvTGlzdC5wcm9qZWN0c1tpXVxyXG4gICAgICApO1xyXG4gICAgICBjb25zb2xlLmxvZyhwcm9qQXJyKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJIaWdoXCIpKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIikpO1xyXG4gICAgICByZW5kZXJUb0Rvcyhwcm9qQXJyLmZpbHRlcigodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkxvd1wiKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMgPSAoKSA9PiB7XHJcbiAgbGV0IHByb2plY3RJbnB1dERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdElucHV0XCIpO1xyXG4gIGxldCBlZGl0UHJvakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdEVkaXRcIik7XHJcbiAgd2hpbGUgKHByb2plY3RJbnB1dERpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIHByb2plY3RJbnB1dERpdi5yZW1vdmVDaGlsZChwcm9qZWN0SW5wdXREaXYubGFzdENoaWxkKTtcclxuICB9XHJcbiAgd2hpbGUgKGVkaXRQcm9qRGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMikge1xyXG4gICAgZWRpdFByb2pEaXYucmVtb3ZlQ2hpbGQoZWRpdFByb2pEaXYubGFzdENoaWxkKTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIHByb2plY3RJbnB1dERpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBqID0gMDsgaiA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2pdO1xyXG4gICAgZWRpdFByb2pEaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVIZWFkZXJzID0gKCkgPT4ge1xyXG4gIGxldCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGFibGVcIik7XHJcbiAgaGVhZGVyLnJlbW92ZUNoaWxkKGhlYWRlci5maXJzdENoaWxkKTtcclxufTtcclxuZXhwb3J0IHtcclxuICByZW5kZXJUb0RvcyxcclxuICByZWZyZXNoQ29udGVudCxcclxuICBzb3J0Q29udGVudCxcclxuICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyxcclxuICBjb21wbGV0ZVRhc2ssXHJcbiAgcmVtb3ZlUm93cyxcclxuICByZW1vdmVIZWFkZXJzLFxyXG59O1xyXG5cclxuLy9Vc2UgcXVlcnkgc2VsZWN0b3IgdG8gZ2V0IGFycmF5IG9mIGRpdnMgdGhhdCBoYXMgdGhlIGRhdGEgYXR0cmlidXRlIEkgd2FudCB0byByZW1vdmVcclxuIiwiaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IHJlZnJlc2hDb250ZW50LCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuXHJcbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGFza05hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCkge1xyXG4gIHRoaXMudGFza05hbWUgPSB0YXNrTmFtZTtcclxuICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgdGhpcy5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkVG9EbyA9ICgpID0+IHtcclxuICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS52YWx1ZTtcclxuXHJcbiAgbGV0IG5ld1Rhc2sgPSBuZXcgVG9Ebyh0YXNrTmFtZSwgdGFza0Rlc2MsIHRhc2tEYXRlLCB0YXNrUHJpbywgXCJkZWZhdWx0XCIpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChuZXdUYXNrKTtcclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIikge1xyXG4gICAgVG9Eb0xpc3QubG93UHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIikge1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNvcnRDb250ZW50KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZWRpdFRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBsZXQgaW5kZXggPSAwO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc29sZS5sb2coXCJUREwgSURcIiwgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCk7XHJcbiAgICBpZiAoaWQgPT0gVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCkge1xyXG4gICAgICBpbmRleCA9IGk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcImlkIFwiLCBpZCk7XHJcbiAgY29uc29sZS5sb2coXCJpbmRleCBcIiwgaW5kZXgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnRhc2tOYW1lO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25FZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZHVlRGF0ZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcmlvcml0eTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3Q7XHJcblxyXG4gIGxldCBzYXZlQ2hhbmdlc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LWVkaXQtYnRuXCIpO1xyXG4gIHNhdmVDaGFuZ2VzQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb24gPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHkgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3QgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICAgICk7XHJcblxyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgVG9EbywgYWRkVG9EbywgZWRpdFRhc2sgfTtcclxuLy9Ib3cgdG8gaGFuZGxlIHByb2plY3RzP1xyXG4vL0hhdmUgYW4gb3ZlcmFjcmNoaW5nIGFycmF5IHRoYXQgaG9sZHMgb2JqZWN0cyBhbmQgc3ViYXJyYXlzIGZvciBlYWNoIHByb2plY3Q/IDwtLSBTZWVtcyBsaWtlbHlcclxuLy8gSGF2ZSBhbiBvdmVyYXJjaGluZyBhcnJheSBhbmQgZmlsdGVyIHdoZW4gbmVjZXNzYXJ5IGZvciBwcm9qZWN0c1xyXG4iLCJpbXBvcnQge1xyXG4gIHJlbW92ZUhlYWRlcnMsXHJcbiAgcmVtb3ZlUm93cyxcclxuICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyxcclxufSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5cclxuY29uc3QgcHJlcGFyZURpdiA9ICgpID0+IHtcclxuICByZW1vdmVSb3dzKCk7XHJcbiAgcmVtb3ZlSGVhZGVycygpO1xyXG4gIHJlbmRlclByb2plY3RIZWFkZXJzKCk7XHJcbiAgcmVuZGVyUHJvamVjdHMoKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RIZWFkZXJzID0gKCkgPT4ge1xyXG4gIGxldCB0YWJsZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay10YWJsZVwiKTtcclxuICBsZXQgcHJvamVjdEhlYWRlcnMgPSBbXCJQcm9qZWN0IE5hbWVcIiwgXCJcIl07XHJcbiAgbGV0IGhlYWRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICB0YWJsZURpdi5wcmVwZW5kKGhlYWRlckRpdik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0SGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgdGguaW5uZXJIVE1MID0gcHJvamVjdEhlYWRlcnNbaV07XHJcbiAgICBoZWFkZXJEaXYuYXBwZW5kQ2hpbGQodGgpO1xyXG4gIH1cclxufTtcclxuY29uc3QgcmVuZGVyUHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICBmb3IgKGxldCBqID0gMDsgaiA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICByZW5kZXJQcm9qZWN0Um93KGopO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWwtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZGVsZXRlQnV0dG9ucy5sZW5ndGg7IGsrKykge1xyXG4gICAgZGVsZXRlQnV0dG9uc1trXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVtb3ZlUHJvamVjdCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdFJvdyA9IChpKSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGkpO1xyXG4gIHJvdy5pZCA9IFwidGFzay1cIiArIGk7XHJcbiAgcm93LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW1cIik7XHJcblxyXG4gIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0TmFtZS5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xyXG5cclxuICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBidXR0b25zLnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGkpO1xyXG5cclxuICBsZXQgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGRlbEJ0bik7XHJcbiAgZGVsQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZGVsQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPmA7XHJcbiAgZGVsQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWwtYnRuXCIpO1xyXG4gIGRlbEJ0bi5pZCA9IGk7XHJcblxyXG4gIC8vIGxldCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAvLyBidXR0b25zLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gIC8vIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICAvLyBlZGl0QnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBlbmNpbFwiPjwvaT5gO1xyXG4gIC8vIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnRuXCIpO1xyXG4gIC8vIGVkaXRCdG4uaWQgPSBpO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChidXR0b25zKTtcclxuXHJcbiAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVQcm9qZWN0Um93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZWZyZXNoUHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICByZW5kZXJQcm9qZWN0cygpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUHJvamVjdCA9IChlKSA9PiB7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5pZDtcclxuICBjb25zb2xlLmxvZyhpZCk7XHJcbiAgbGV0IHRhcmdldCA9IFRvRG9MaXN0LnByb2plY3RzW2lkXTtcclxuICBjb25zb2xlLmxvZyh0YXJnZXQpO1xyXG4gIGxldCBmaWx0ZXJlZEFyciA9IFRvRG9MaXN0LnByb2plY3RzLmZpbHRlcigodGFzaykgPT4gdGFzayAhPSB0YXJnZXQpO1xyXG4gIFRvRG9MaXN0LnByb2plY3RzID0gZmlsdGVyZWRBcnI7XHJcbiAgcmVmcmVzaFByb2plY3RzKCk7XHJcbn07XHJcblxyXG5leHBvcnQgeyBwcmVwYXJlRGl2LCByZW1vdmVQcm9qZWN0Um93cyB9O1xyXG4iLCJpbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vbW9kdWxlcy90b2RvXCI7XHJcbmltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbW9kdWxlcy9saXN0XCI7XHJcbmltcG9ydCB7IHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzLCByZW5kZXJUb0RvcyB9IGZyb20gXCIuL21vZHVsZXMvY29udGVudFwiO1xyXG5pbXBvcnQgaW5pdEJ1dHRvbnMgZnJvbSBcIi4vbW9kdWxlcy9idXR0b25zXCI7XHJcblxyXG5jb25zb2xlLmxvZyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxubGV0IHRkMiA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgWWVsYW5cIixcclxuICBcIlB1bGwgWWVsYW4gYmMgbW9tbXlcIixcclxuICBcIjUvMTAvMjJcIixcclxuICBcIk1lZGl1bVwiLFxyXG4gIFwiUHVsbHNcIlxyXG4pO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQyKTtcclxubGV0IHRkMSA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgQXlha2FcIixcclxuICBcIlVzZSBhbGwgbWVhbnMgbmVjZXNzYXJ5IHRvIHB1bGwgQXlha2FcIixcclxuICBcIjQvMTkvMjJcIixcclxuICBcIkhpZ2hcIixcclxuICBcIkFzY2Vuc2lvblwiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDEpO1xyXG5sZXQgdGQzID0gbmV3IFRvRG8oXCJSb2xsIGZvciBBeWF0b1wiLCBcIiBwdWxsIEF5YXRvXCIsIFwiNC8xOS8yMlwiLCBcIkxvd1wiLCBcIlB1bGxzXCIpO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQzKTtcclxuc2V0UHJpb0FycmF5cygpO1xyXG5yZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuaW5pdEJ1dHRvbnMoKTtcclxucmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMoKTtcclxuXHJcbi8qXHJcbk5vdGVzOlxyXG4tT24gYWRkIHRhc2sgZm9ybSBuZWVkIGEgcGxhY2UgdG8gc2VsZWN0IHdoaWNoIHByb2plY3QgdG8gYWRkIHRoZSB0byBkbyB0by4gQWxsb3cgZm9yIG11bHRpcGxlIHByb2plY3Qgc2VsZWN0aW9uIChNYXliZSBub3QpXHJcbi1OZWVkIGFuIGVkaXQgdGFzayBidXR0b24gb24gZWFjaCB0YXNrIHJvd1xyXG4tTmVlZCB0byBmaWd1cmUgb3V0IHdoZXJlIHRvIGNyZWF0ZSBuZXcgcHJvamVjdHNcclxuLVZpZXcgYWxsIHRhc2tzIG5lZWRzIHRvIGRpc3BsYXkgcHJvamVjdCBuYW1lc1xyXG5cclxuUGxhbiBvZiBhdHRhY2s6XHJcbipBZGQgYSBmZXcgZHVtbXkgdG8gZG8gb2JqZWN0cyBhbmQgZ2V0IHRoZW0gcmVuZGVyaW5nIHRvIHRoZSBkb21cclxuKlNldCB1cCB0aGUgYWRkIHRhc2sgYnV0dG9uIFxyXG4qU2V0IHVwIHRhc2sgZWRpdGluZyA8LS0gTW9kYWwgd2l0aCB0aGUgdGFza3MgZGF0YSBwcmUtZmlsbGVkIGludG8gYSBmb3JtLiBcclxuLS1OZWVkIGEgZGlzY2FyZCBjaGFuZ2UgYnV0dG9uIFxyXG4qKk5lZWQgYSBzYXZlIGNoYW5nZSBidXR0b24gXHJcbipTZXQgdXAgc29ydGluZyBcclxuLS1NYXliZSBhZGQgd2hpY2ggd2F5IHRvIGJlIHNvcnRlZD8gU3RyZWNoIGdvYWw/XHJcbipTZXQgdXAgcmV2ZXJ0aW5nIHNvcnRpbmcgPC0tIFJlIHJlbmRlciBmcm9tIG1hc3RlciBieSBjaGVja2luZyBpc1NvcnRpbmcgZm9yIGZhbHNlXHJcbi1TZXQgdXAgcHJvamVjdHNcclxuKiogQWRkIHByb2plY3QgYnV0dG9uXHJcbioqIEFkZCBwcm9qZWN0IHNlbGVjdGlvbiBvbiBhZGQgdGFzayBmb3JtXHJcbi0tIEVkaXQgUHJvamVjdHMgTW9kYWwuICg/KVxyXG4tLSBBZGQgcHJvamVjdCB2aWV3cyA8LS0gQ2FuIGRlZmluaXRlbHkgZG9cclxuLS0gUmUgcmVuZGVyIHRhYmxlIHdpdGggYSBmaWx0ZXJlZCBhcnJheSBmb3IgdGhlIHByb2plY3QgdGhleSB3YW50IHRvIHZpZXcuIFxyXG5cclxuXHJcblNvcnRpbmcgTW9kYWw6XHJcbioqRHJvcGRvd24gd2l0aCBkZWZhdWx0LCBsb3cgdG8gaGlnaCBwcmlvcml0eSwgaGlnaCB0byBsb3csIHByb2plY3QgKHdoaWNoIGp1c3QgZ3JvdXBzIHRoZSB0YXNrcyBieSBwcm9qZWN0cylcclxuKioqIFRvIGRvIHRoZSBsYXN0IG9uZSwgaXRlcmF0ZSB0aHJvdWdoIHByb2plY3RzIGFycmF5IGZpbHRlcmluZyB0aGUgbWFpbiBhcnJheSBhbmQgcmVuZGVyaW5nIHRoZSByZXN1bHRpbmcgYXJyYXkgXHJcblxyXG4qKmNoYW5nZSBzb3J0aW5nIG1vZGFsIHRvIGEgZHJvcGRvd24gdy9vdXQgbW9kYWwgKyBvbmNoYW5nZSByYXRoZXIgdGhhbiBhIHN1Ym1pdFxyXG5cclxuLS1Qcm9qZWN0cyBjb2xsYXBzaWJsZSBvbiBzaWRlYmFyIG9yIGEgZHJvcCBkb3duPyBvciBhIG1vZGFsPyBvcj8/PyBTb21ldGhpbmcgdG8gdmlldyBvbmx5IHRhc2tzIG9mIGEgcHJvamVjdC4gXHJcbioqQnV0dG9uL1JhZGlvIGZvciBtYXJraW5nIGEgdGFzayBjb21wbGV0ZSB0aGF0IGNyb3NzZXMgb3V0IHRoZSByb3dcclxuKipDaGFuZ2UgYnV0dG9ucyB0byBpY29ucyBvZiBzb21lIHNvcnQuIFBlbmNpbCBmb3IgZWRpdCwgdHJhc2hjYW4gZm9yIGRlbGV0ZVxyXG5cclxuKkNTUyBmb3IgTW9kYWxzXHJcblxyXG5cclxuXHJcbipDaGFuZ2UgdGFibGUgcmVuZGVyaW5nIHRvIGFsbCBvY2N1ciBpbiBKU1xyXG4tUHJvamVjdHMgYnV0dG9uIGluIHNpZGUgYmFyIHJlbmRlcnMgdGFibGUgd2l0aCBwcm9qZWN0IG5hbWUgKyBidXR0b25zIGZvciBlZGl0ICsgZGVsZXRlXHJcblxyXG4qL1xyXG4iLCJpbXBvcnQgeyBhZGRUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5pbXBvcnQge1xyXG4gIHJlbW92ZUhlYWRlcnMsXHJcbiAgcmVuZGVyTmV3UHJvamVjdHMsXHJcbiAgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsXHJcbiAgcmVuZGVyVG9Eb3MsXHJcbiAgc29ydENvbnRlbnQsXHJcbn0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBhZGRQcm9qZWN0LCBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgcHJlcGFyZURpdiwgcmVtb3ZlUHJvamVjdFJvd3MgfSBmcm9tIFwiLi9wcm9qZWN0Vmlld1wiO1xyXG5jb25zdCBpbml0QnV0dG9ucyA9ICgpID0+IHtcclxuICBsZXQgdGFza01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTW9kYWxcIik7XHJcbiAgbGV0IHRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Rhc2tCdG5cIik7XHJcbiAgbGV0IGVkaXRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG4gIGxldCBwcm9qZWN0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RNb2RhbFwiKTtcclxuICBsZXQgYWRkUHJvaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3UHJvamVjdFwiKTtcclxuICBsZXQgc29ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0TW9kYWxcIik7XHJcbiAgYWRkUHJvai5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfTtcclxuICB0YXNrQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0YXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHRhc2tNb2RhbCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsb3NlIG1vZGFsXCIpO1xyXG4gICAgICB0YXNrTW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gc29ydE1vZGFsKSB7XHJcbiAgICAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuICBsZXQgc3VibWl0YnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtdGFzay1idG5cIik7XHJcbiAgc3VibWl0YnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhZGRUb0RvKCk7XHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tNb2RhbFwiKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUlucHV0XCIpLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gIH07XHJcblxyXG4gIC8vIGxldCBzb3J0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VGFza0J0blwiKTtcclxuICAvLyBzb3J0QnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gICBsZXQgc29ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0TW9kYWxcIik7XHJcbiAgLy8gICBzb3J0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAvLyB9O1xyXG5cclxuICBsZXQgc3VibWl0U29ydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXNvcnQtYnRuXCIpO1xyXG4gIHN1Ym1pdFNvcnRCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBzb3J0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFR5cGVcIikudmFsdWU7XHJcbiAgICBzb3J0Q29udGVudChzb3J0VHlwZSk7XHJcbiAgICBsZXQgc29ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0TW9kYWxcIik7XHJcbiAgICBzb3J0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICB9O1xyXG5cclxuICBsZXQgc29ydFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFR5cGVcIik7XHJcbiAgc29ydFNlbGVjdC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcclxuICAgIGxldCBzb3J0VHlwZSA9IHNvcnRTZWxlY3QudmFsdWU7XHJcbiAgICBzb3J0Q29udGVudChzb3J0VHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGFkZFByb2pCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1wcm9qZWN0LWJ0blwiKTtcclxuICBhZGRQcm9qQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhZGRQcm9qZWN0KCk7XHJcbiAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cygpO1xyXG4gIH07XHJcblxyXG4gIGxldCBwcm9qZWN0Vmlld0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC12aWV3XCIpO1xyXG4gIHByb2plY3RWaWV3QnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBwcmVwYXJlRGl2KCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGFsbFRhc2tzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGwtdGFza3NcIik7XHJcbiAgYWxsVGFza3NCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhlYWRlcnMoKTtcclxuICAgIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuICB9O1xyXG5cclxuICBsZXQgY29tcGxldGVkVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcGxldGUtdGFza3NcIik7XHJcbiAgY29tcGxldGVkVGFza0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmVtb3ZlSGVhZGVycygpO1xyXG4gICAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmNvbXBsZXRlID09IHRydWUpKTtcclxuICB9O1xyXG5cclxuICBsZXQgaW5jb21wbGV0ZVRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluY29tcGxldGUtdGFza3NcIik7XHJcbiAgaW5jb21wbGV0ZVRhc2tCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhlYWRlcnMoKTtcclxuICAgIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcigodGFzaykgPT4gdGFzay5jb21wbGV0ZSA9PSBmYWxzZSkpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0QnV0dG9ucztcclxuIl0sIm5hbWVzIjpbIlRvRG9MaXN0IiwibWFzdGVyTGlzdCIsImxvd1ByaW8iLCJtZWRQcmlvIiwiaGlnaFByaW8iLCJpc1NvcnRlZCIsInByb2plY3RzIiwic2V0UHJpb0FycmF5cyIsImZpbHRlciIsInRhc2tzIiwicHJpb3JpdHkiLCJyZW5kZXJUb0RvcyIsImFycmF5IiwiaGVhZGVyQXJyIiwidGFza0hlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWFkZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwicHJlcGVuZCIsInMiLCJsZW5ndGgiLCJ0aCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiaSIsInJlbmRlclJvdyIsImRlbEJ0bnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVGFzayIsImVkaXRCdG5zIiwiayIsImVkaXRUYXNrIiwiY29tcGxldGVCdG5zIiwibCIsImlkIiwiY29tcGxldGVUYXNrIiwidGFibGVCb2R5IiwicXVlcnlTZWxlY3RvciIsImRrIiwicm93IiwiY29tcGxldGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJ0aXRsZSIsInRhc2tOYW1lIiwiZGVzY3JpcHRpb24iLCJwcm9qZWN0IiwiZHVlRGF0ZSIsInByaW8iLCJidXR0b25zIiwiZGVsQnRuIiwiY29tcEJ0biIsImVkaXRCdG4iLCJyZW1vdmVSb3dzIiwiY29udGVudERpdiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZ2V0QXR0cmlidXRlIiwiZmlsdGVyQXJyIiwidGFzayIsInJlZnJlc2hDb250ZW50Iiwicm93SWQiLCJyZW1vdmUiLCJzb3J0Q29udGVudCIsInNvcnRUeXBlIiwicHJvakFyciIsInJlbmRlclByb2plY3RzRm9yVGFza01lbnVzIiwicHJvamVjdElucHV0RGl2IiwiZWRpdFByb2pEaXYiLCJjaGlsZE5vZGVzIiwibGFzdENoaWxkIiwib3B0IiwidmFsdWUiLCJyZW1vdmVIZWFkZXJzIiwiaGVhZGVyIiwiVG9EbyIsInRoaXMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4Iiwib25jbGljayIsInJlbmRlclByb2plY3RzIiwicmVuZGVyUHJvamVjdFJvdyIsImRlbGV0ZUJ1dHRvbnMiLCJyZW1vdmVQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJyZW1vdmVQcm9qZWN0Um93cyIsImZpbHRlcmVkQXJyIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tNb2RhbCIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJhZGRQcm9qIiwic29ydE1vZGFsIiwid2luZG93IiwiZXZlbnQiLCJzZWxlY3RlZEluZGV4IiwidGFza0Rlc2MiLCJ0YXNrRGF0ZSIsInRhc2tQcmlvIiwibmV3VGFzayIsImFkZFRvRG8iLCJzb3J0U2VsZWN0Iiwib25jaGFuZ2UiLCJwcm9qSW5wdXQiLCJhZGRQcm9qZWN0IiwidGFibGVEaXYiLCJwcm9qZWN0SGVhZGVycyIsInJlbmRlclByb2plY3RIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==