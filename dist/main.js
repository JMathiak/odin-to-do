(()=>{"use strict";var e={d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Xp:()=>s,FK:()=>m,ou:()=>n,uB:()=>a});const o={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},l=()=>{o.highPrio=o.masterList.filter((e=>"High"===e.priority)),o.medPrio=o.masterList.filter((e=>"Medium"===e.priority)),o.lowPrio=o.masterList.filter((e=>"Low"===e.priority))},n=e=>{for(let t=0;t<e.length;t++)i(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",r);const o=document.getElementsByClassName("edit-btn");for(let e=0;e<o.length;e++)o[e].addEventListener("click",u)},i=(e,t)=>{let o=document.querySelector("#task-table-body"),l=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",l);let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let r=document.createElement("td");r.innerHTML=t[e].project,n.appendChild(r);let s=document.createElement("td");s.innerHTML=t[e].dueDate,n.appendChild(s);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let m=document.createElement("td"),c=document.createElement("button"),u=document.createElement("button");m.appendChild(u),u.setAttribute("type","button"),u.innerHTML='<i class="fa-solid fa-check"></i>',u.classList.add("comp-btn"),m.appendChild(c),c.setAttribute("type","button"),c.innerHTML='<i class="fa-solid fa-trash"></i>',c.classList.add("del-btn");let p=document.createElement("button");m.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-pencil"></i>',p.classList.add("edit-btn"),n.appendChild(m),o.appendChild(n)},d=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},r=e=>{let t=e.target.parentNode.parentNode.getAttribute("data-key");console.log("here",t);let n=o.masterList.filter((e=>e.id!=t));o.masterList=n,l(),s(),console.log(o.highPrio),console.log(o.medPrio),console.log(o.lowPrio)},s=()=>{d(),n(o.masterList)},a=e=>{if("default"===e&&(d(),n(o.masterList)),"lowToHigh"===e&&(d(),n(o.lowPrio),n(o.medPrio),n(o.highPrio)),"highToLow"===e&&(d(),n(o.highPrio),n(o.medPrio),n(o.lowPrio)),"projectSorting"===e){d();for(let e=0;e<o.projects.length;e++){let t=o.masterList.filter((t=>t.project==o.projects[e]));console.log(t),n(t)}}},m=()=>{let e=document.getElementById("projectInput"),t=document.getElementById("projectEdit");for(;e.childNodes.length>2;)e.removeChild(e.lastChild);for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(let t=0;t<o.projects.length;t++){let l=document.createElement("option");l.value=o.projects[t],l.innerHTML=o.projects[t],e.appendChild(l)}for(let e=0;e<o.projects.length;e++){let l=document.createElement("option");l.value=o.projects[e],l.innerHTML=o.projects[e],t.appendChild(l)}},c=function(e,t,o,l,n){this.taskName=e,this.description=t,this.dueDate=o,this.priority=l,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},u=e=>{let t=document.getElementById("editModal");t.style.display="block";let l=e.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let e=0;e<o.masterList.length;e++)console.log("TDL ID",o.masterList[e].id),l==o.masterList[e].id&&(n=e);console.log("id ",l),console.log("index ",n),document.getElementById("taskNameEdit").value=o.masterList[n].taskName,document.getElementById("descriptionEdit").value=o.masterList[n].description,document.getElementById("dateEdit").value=o.masterList[n].dueDate,document.getElementById("priorityEdit").value=o.masterList[n].priority,document.getElementById("projectEdit").value=o.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){o.masterList[n].taskName=document.getElementById("taskNameEdit").value,o.masterList[n].description=document.getElementById("descriptionEdit").value,o.masterList[n].dueDate=document.getElementById("dateEdit").value,o.masterList[n].priority=document.getElementById("priorityEdit").value,o.masterList[n].project=document.getElementById("projectEdit").value,o.highPrio=o.masterList.filter((e=>"High"===e.priority)),o.medPrio=o.masterList.filter((e=>"Medium"===e.priority)),o.lowPrio=o.masterList.filter((e=>"Low"===e.priority)),s(),t.style.display="none"}};console.log(o.masterList);let p=new c("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");o.masterList.push(p);let y=new c("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Ascension");o.masterList.push(y);let g=new c("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");o.masterList.push(g),l(),n(o.masterList),(()=>{let e=document.getElementById("taskModal"),l=document.getElementById("newTaskBtn"),n=document.getElementById("editModal"),i=document.getElementById("projectModal"),d=document.getElementById("newProject"),r=document.getElementById("sortModal");d.onclick=function(){i.style.display="block"},l.onclick=function(){e.style.display="block"},window.onclick=function(t){t.target==e&&(console.log("close modal"),e.style.display="none"),t.target==n&&(n.style.display="none"),t.target==i&&(i.style.display="none"),t.target==r&&(r.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let e=document.getElementById("taskNameInput").value,t=document.getElementById("descriptionInput").value,l=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new c(e,t,l,n,"default");o.masterList.push(i),"Low"===i.priority&&o.lowPrio.push(i),"Medium"===i.priority&&o.medPrio.push(i),"High"===i.priority&&o.highPrio.push(i),console.log(o.isSorted),!1===o.isSorted?s():a()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("submit-sort-btn").onclick=function(){let e=document.getElementById("sortType").value;a(e),document.getElementById("sortModal").style.display="none",document.getElementById("sortType").selectedIndex=0};let m=document.getElementById("sortType");m.onchange=function(){console.log("here");let e=m.value;a(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let e=document.getElementById("projectName").value;o.projects.push(e)})(),i.style.display="none",document.getElementById("projectName").value="",(0,t.renderNewProjects)()}})(),m()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUytDLGVBQWUsc0JBQzlCZSxRQUFVLFdKM0NKLE1BQ2pCLElBQUlvQixFQUFZbEYsU0FBUytDLGVBQWUsZUFBZWpFLE1BQ3ZEQyxFQUFTTSxTQUFTMkUsS0FBS2tCLElJMENyQkMsR0FDQWQsRUFBYVYsTUFBTUMsUUFBVSxPQUM3QjVELFNBQVMrQyxlQUFlLGVBQWVqRSxNQUFRLElBQy9DLElBQUFzRyx1QkQzQ0osR0FDQXZDLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvLWRvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tdG8tZG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tdG8tZG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLXRvLWRvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IFRvRG9MaXN0ID0gKCgpID0+IHtcclxuICBsZXQgaXNTb3J0ZWQgPSBmYWxzZTtcclxuICBsZXQgbWFzdGVyTGlzdCA9IFtdO1xyXG4gIGxldCBsb3dQcmlvID0gW107XHJcbiAgbGV0IG1lZFByaW8gPSBbXTtcclxuICBsZXQgaGlnaFByaW8gPSBbXTtcclxuICBsZXQgcHJvamVjdHMgPSBbXCJOb25lXCIsIFwiUHVsbHNcIiwgXCJBc2NlbnNpb25cIl07XHJcbiAgcmV0dXJuIHsgbWFzdGVyTGlzdCwgbG93UHJpbywgbWVkUHJpbywgaGlnaFByaW8sIGlzU29ydGVkLCBwcm9qZWN0cyB9O1xyXG59KSgpO1xyXG5cclxuY29uc3Qgc2V0UHJpb0FycmF5cyA9ICgpID0+IHtcclxuICBUb0RvTGlzdC5oaWdoUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJIaWdoXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcclxuICBsZXQgcHJvaklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZTtcclxuICBUb0RvTGlzdC5wcm9qZWN0cy5wdXNoKHByb2pJbnB1dCk7XHJcbn07XHJcbmV4cG9ydCB7IFRvRG9MaXN0LCBzZXRQcmlvQXJyYXlzLCBhZGRQcm9qZWN0IH07XHJcbiIsImltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBlZGl0VGFzaywgVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuY29uc3QgcmVuZGVyVG9Eb3MgPSAoYXJyYXkpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJSb3coaSwgYXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBkZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgY29uc29sZS5sb2coZGVsQnRucyk7XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkZWxCdG5zLmxlbmd0aDsgaisrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBkZWxCdG5zW2pdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWRpdEJ0bnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGVkaXRCdG5zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VGFzayk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUm93ID0gKGksIGFycmF5KSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICAvL0RhdGEga2V5PyA8LS0gTmVlZCB0byBhZGQgdGhlIGRhdGEga2V5IHRvIGVhY2ggZGl2LlxyXG4gIGxldCBkayA9IGFycmF5W2ldLmlkO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuXHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHRpdGxlLmlubmVySFRNTCA9IGFycmF5W2ldLnRhc2tOYW1lO1xyXG4gIHJvdy5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBhcnJheVtpXS5kZXNjcmlwdGlvbjtcclxuICByb3cuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG5cclxuICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0LmlubmVySFRNTCA9IGFycmF5W2ldLnByb2plY3Q7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByb2plY3QpO1xyXG5cclxuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkdWVEYXRlLmlubmVySFRNTCA9IGFycmF5W2ldLmR1ZURhdGU7XHJcbiAgcm93LmFwcGVuZENoaWxkKGR1ZURhdGUpO1xyXG5cclxuICBsZXQgcHJpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcmlvLmlubmVySFRNTCA9IGFycmF5W2ldLnByaW9yaXR5O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcmlvKTtcclxuXHJcbiAgLy9OZWVkIHRvIGNyZWF0ZSBidXR0b25zXHJcblxyXG4gIGxldCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGxldCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGxldCBjb21wQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGNvbXBCdG4pO1xyXG4gIGNvbXBCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBjb21wQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNoZWNrXCI+PC9pPmA7XHJcbiAgY29tcEJ0bi5jbGFzc0xpc3QuYWRkKFwiY29tcC1idG5cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT5gO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wZW5jaWxcIj48L2k+YDtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUm93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXNrID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coXCJoZXJlXCIsIGlkKTtcclxuICBsZXQgZmlsdGVyQXJyID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT0gaWQpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QgPSBmaWx0ZXJBcnI7XHJcbiAgc2V0UHJpb0FycmF5cygpO1xyXG4gIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUm93cygpO1xyXG4gIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG59O1xyXG5cclxuY29uc3Qgc29ydENvbnRlbnQgPSAoc29ydFR5cGUpID0+IHtcclxuICBpZiAoc29ydFR5cGUgPT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuICB9XHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImxvd1RvSGlnaFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5sb3dQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImhpZ2hUb0xvd1wiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcInByb2plY3RTb3J0aW5nXCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHByb2pBcnIgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgICAodGFza3MpID0+IHRhc2tzLnByb2plY3QgPT0gVG9Eb0xpc3QucHJvamVjdHNbaV1cclxuICAgICAgKTtcclxuICAgICAgY29uc29sZS5sb2cocHJvakFycik7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RzID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qZWN0SW5wdXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJbnB1dFwiKTtcclxuICBsZXQgZWRpdFByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpO1xyXG4gIHdoaWxlIChwcm9qZWN0SW5wdXREaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBwcm9qZWN0SW5wdXREaXYucmVtb3ZlQ2hpbGQocHJvamVjdElucHV0RGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIHdoaWxlIChlZGl0UHJvakRpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIGVkaXRQcm9qRGl2LnJlbW92ZUNoaWxkKGVkaXRQcm9qRGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBwcm9qZWN0SW5wdXREaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIGVkaXRQcm9qRGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgeyByZW5kZXJUb0RvcywgcmVmcmVzaENvbnRlbnQsIHNvcnRDb250ZW50LCByZW5kZXJQcm9qZWN0cyB9O1xyXG5cclxuLy9Vc2UgcXVlcnkgc2VsZWN0b3IgdG8gZ2V0IGFycmF5IG9mIGRpdnMgdGhhdCBoYXMgdGhlIGRhdGEgYXR0cmlidXRlIEkgd2FudCB0byByZW1vdmVcclxuIiwiaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IHJlZnJlc2hDb250ZW50LCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuXHJcbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGFza05hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCkge1xyXG4gIHRoaXMudGFza05hbWUgPSB0YXNrTmFtZTtcclxuICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgdGhpcy5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkVG9EbyA9ICgpID0+IHtcclxuICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS52YWx1ZTtcclxuXHJcbiAgbGV0IG5ld1Rhc2sgPSBuZXcgVG9Ebyh0YXNrTmFtZSwgdGFza0Rlc2MsIHRhc2tEYXRlLCB0YXNrUHJpbywgXCJkZWZhdWx0XCIpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChuZXdUYXNrKTtcclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIikge1xyXG4gICAgVG9Eb0xpc3QubG93UHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIikge1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNvcnRDb250ZW50KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZWRpdFRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBsZXQgaW5kZXggPSAwO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc29sZS5sb2coXCJUREwgSURcIiwgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCk7XHJcbiAgICBpZiAoaWQgPT0gVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCkge1xyXG4gICAgICBpbmRleCA9IGk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcImlkIFwiLCBpZCk7XHJcbiAgY29uc29sZS5sb2coXCJpbmRleCBcIiwgaW5kZXgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnRhc2tOYW1lO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25FZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZHVlRGF0ZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcmlvcml0eTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3Q7XHJcblxyXG4gIGxldCBzYXZlQ2hhbmdlc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LWVkaXQtYnRuXCIpO1xyXG4gIHNhdmVDaGFuZ2VzQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb24gPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHkgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3QgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICAgICk7XHJcblxyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgVG9EbywgYWRkVG9EbywgZWRpdFRhc2sgfTtcclxuLy9Ib3cgdG8gaGFuZGxlIHByb2plY3RzP1xyXG4vL0hhdmUgYW4gb3ZlcmFjcmNoaW5nIGFycmF5IHRoYXQgaG9sZHMgb2JqZWN0cyBhbmQgc3ViYXJyYXlzIGZvciBlYWNoIHByb2plY3Q/IDwtLSBTZWVtcyBsaWtlbHlcclxuLy8gSGF2ZSBhbiBvdmVyYXJjaGluZyBhcnJheSBhbmQgZmlsdGVyIHdoZW4gbmVjZXNzYXJ5IGZvciBwcm9qZWN0c1xyXG4iLCJpbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vbW9kdWxlcy90b2RvXCI7XHJcbmltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbW9kdWxlcy9saXN0XCI7XHJcbmltcG9ydCB7IHJlbmRlclByb2plY3RzLCByZW5kZXJUb0RvcyB9IGZyb20gXCIuL21vZHVsZXMvY29udGVudFwiO1xyXG5pbXBvcnQgaW5pdEJ1dHRvbnMgZnJvbSBcIi4vbW9kdWxlcy9idXR0b25zXCI7XHJcblxyXG5jb25zb2xlLmxvZyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxubGV0IHRkMiA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgWWVsYW5cIixcclxuICBcIlB1bGwgWWVsYW4gYmMgbW9tbXlcIixcclxuICBcIjUvMTAvMjJcIixcclxuICBcIk1lZGl1bVwiLFxyXG4gIFwiUHVsbHNcIlxyXG4pO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQyKTtcclxubGV0IHRkMSA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgQXlha2FcIixcclxuICBcIlVzZSBhbGwgbWVhbnMgbmVjZXNzYXJ5IHRvIHB1bGwgQXlha2FcIixcclxuICBcIjQvMTkvMjJcIixcclxuICBcIkhpZ2hcIixcclxuICBcIkFzY2Vuc2lvblwiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDEpO1xyXG5sZXQgdGQzID0gbmV3IFRvRG8oXCJSb2xsIGZvciBBeWF0b1wiLCBcIiBwdWxsIEF5YXRvXCIsIFwiNC8xOS8yMlwiLCBcIkxvd1wiLCBcIlB1bGxzXCIpO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQzKTtcclxuc2V0UHJpb0FycmF5cygpO1xyXG5yZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuaW5pdEJ1dHRvbnMoKTtcclxucmVuZGVyUHJvamVjdHMoKTtcclxuXHJcbi8qXHJcbk5vdGVzOlxyXG4tT24gYWRkIHRhc2sgZm9ybSBuZWVkIGEgcGxhY2UgdG8gc2VsZWN0IHdoaWNoIHByb2plY3QgdG8gYWRkIHRoZSB0byBkbyB0by4gQWxsb3cgZm9yIG11bHRpcGxlIHByb2plY3Qgc2VsZWN0aW9uIChNYXliZSBub3QpXHJcbi1OZWVkIGFuIGVkaXQgdGFzayBidXR0b24gb24gZWFjaCB0YXNrIHJvd1xyXG4tTmVlZCB0byBmaWd1cmUgb3V0IHdoZXJlIHRvIGNyZWF0ZSBuZXcgcHJvamVjdHNcclxuLVZpZXcgYWxsIHRhc2tzIG5lZWRzIHRvIGRpc3BsYXkgcHJvamVjdCBuYW1lc1xyXG5cclxuUGxhbiBvZiBhdHRhY2s6XHJcbipBZGQgYSBmZXcgZHVtbXkgdG8gZG8gb2JqZWN0cyBhbmQgZ2V0IHRoZW0gcmVuZGVyaW5nIHRvIHRoZSBkb21cclxuKlNldCB1cCB0aGUgYWRkIHRhc2sgYnV0dG9uIFxyXG4qU2V0IHVwIHRhc2sgZWRpdGluZyA8LS0gTW9kYWwgd2l0aCB0aGUgdGFza3MgZGF0YSBwcmUtZmlsbGVkIGludG8gYSBmb3JtLiBcclxuLS1OZWVkIGEgZGlzY2FyZCBjaGFuZ2UgYnV0dG9uIFxyXG4qKk5lZWQgYSBzYXZlIGNoYW5nZSBidXR0b24gXHJcbipTZXQgdXAgc29ydGluZyBcclxuLS1NYXliZSBhZGQgd2hpY2ggd2F5IHRvIGJlIHNvcnRlZD8gU3RyZWNoIGdvYWw/XHJcbipTZXQgdXAgcmV2ZXJ0aW5nIHNvcnRpbmcgPC0tIFJlIHJlbmRlciBmcm9tIG1hc3RlciBieSBjaGVja2luZyBpc1NvcnRpbmcgZm9yIGZhbHNlXHJcbi1TZXQgdXAgcHJvamVjdHNcclxuKiogQWRkIHByb2plY3QgYnV0dG9uXHJcbioqIEFkZCBwcm9qZWN0IHNlbGVjdGlvbiBvbiBhZGQgdGFzayBmb3JtXHJcbi0tIEVkaXQgUHJvamVjdHMgTW9kYWwuICg/KVxyXG4tLSBBZGQgcHJvamVjdCB2aWV3cyA8LS0gQ2FuIGRlZmluaXRlbHkgZG9cclxuLS0gUmUgcmVuZGVyIHRhYmxlIHdpdGggYSBmaWx0ZXJlZCBhcnJheSBmb3IgdGhlIHByb2plY3QgdGhleSB3YW50IHRvIHZpZXcuIFxyXG5cclxuXHJcblNvcnRpbmcgTW9kYWw6XHJcbioqRHJvcGRvd24gd2l0aCBkZWZhdWx0LCBsb3cgdG8gaGlnaCBwcmlvcml0eSwgaGlnaCB0byBsb3csIHByb2plY3QgKHdoaWNoIGp1c3QgZ3JvdXBzIHRoZSB0YXNrcyBieSBwcm9qZWN0cylcclxuKioqIFRvIGRvIHRoZSBsYXN0IG9uZSwgaXRlcmF0ZSB0aHJvdWdoIHByb2plY3RzIGFycmF5IGZpbHRlcmluZyB0aGUgbWFpbiBhcnJheSBhbmQgcmVuZGVyaW5nIHRoZSByZXN1bHRpbmcgYXJyYXkgXHJcblxyXG4qKmNoYW5nZSBzb3J0aW5nIG1vZGFsIHRvIGEgZHJvcGRvd24gdy9vdXQgbW9kYWwgKyBvbmNoYW5nZSByYXRoZXIgdGhhbiBhIHN1Ym1pdFxyXG5cclxuLS1Qcm9qZWN0cyBjb2xsYXBzaWJsZSBvbiBzaWRlYmFyIG9yIGEgZHJvcCBkb3duPyBvciBhIG1vZGFsPyBvcj8/PyBTb21ldGhpbmcgdG8gdmlldyBvbmx5IHRhc2tzIG9mIGEgcHJvamVjdC4gXHJcbi0tQnV0dG9uL1JhZGlvIGZvciBtYXJraW5nIGEgdGFzayBjb21wbGV0ZSB0aGF0IGNyb3NzZXMgb3V0IHRoZSByb3dcclxuLS1DaGFuZ2UgYnV0dG9ucyB0byBpY29ucyBvZiBzb21lIHNvcnQuIFBlbmNpbCBmb3IgZWRpdCwgdHJhc2hjYW4gZm9yIGRlbGV0ZVxyXG5cclxuKi9cclxuIiwiaW1wb3J0IHsgYWRkVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuaW1wb3J0IHsgcmVuZGVyTmV3UHJvamVjdHMsIHJlbmRlclByb2plY3RzLCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgYWRkUHJvamVjdCwgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmNvbnN0IGluaXRCdXR0b25zID0gKCkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcbiAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgbW9kYWxcIik7XHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBzb3J0TW9kYWwpIHtcclxuICAgICAgc29ydE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9O1xyXG4gIGxldCBzdWJtaXRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC10YXNrLWJ0blwiKTtcclxuICBzdWJtaXRidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFRvRG8oKTtcclxuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgfTtcclxuXHJcbiAgLy8gbGV0IHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUYXNrQnRuXCIpO1xyXG4gIC8vIHNvcnRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAvLyAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIC8vIH07XHJcblxyXG4gIGxldCBzdWJtaXRTb3J0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtc29ydC1idG5cIik7XHJcbiAgc3VibWl0U29ydEJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHNvcnRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKS52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUeXBlXCIpLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gIH07XHJcblxyXG4gIGxldCBzb3J0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKTtcclxuICBzb3J0U2VsZWN0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xyXG4gICAgbGV0IHNvcnRUeXBlID0gc29ydFNlbGVjdC52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWRkUHJvakJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXByb2plY3QtYnRuXCIpO1xyXG4gIGFkZFByb2pCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFByb2plY3QoKTtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJlbmRlck5ld1Byb2plY3RzKCk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRCdXR0b25zO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiVG9Eb0xpc3QiLCJtYXN0ZXJMaXN0IiwibG93UHJpbyIsIm1lZFByaW8iLCJoaWdoUHJpbyIsImlzU29ydGVkIiwicHJvamVjdHMiLCJzZXRQcmlvQXJyYXlzIiwiZmlsdGVyIiwidGFza3MiLCJwcmlvcml0eSIsInJlbmRlclRvRG9zIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwicmVuZGVyUm93IiwiZGVsQnRucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVRhc2siLCJlZGl0QnRucyIsImsiLCJlZGl0VGFzayIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJkayIsImlkIiwicm93IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRpdGxlIiwiaW5uZXJIVE1MIiwidGFza05hbWUiLCJhcHBlbmRDaGlsZCIsImRlc2NyaXB0aW9uIiwicHJvamVjdCIsImR1ZURhdGUiLCJwcmlvIiwiYnV0dG9ucyIsImRlbEJ0biIsImNvbXBCdG4iLCJjbGFzc0xpc3QiLCJhZGQiLCJlZGl0QnRuIiwicmVtb3ZlUm93cyIsImNvbnRlbnREaXYiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJlIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsImZpbHRlckFyciIsInRhc2siLCJyZWZyZXNoQ29udGVudCIsInNvcnRDb250ZW50Iiwic29ydFR5cGUiLCJwcm9qQXJyIiwicmVuZGVyUHJvamVjdHMiLCJwcm9qZWN0SW5wdXREaXYiLCJnZXRFbGVtZW50QnlJZCIsImVkaXRQcm9qRGl2IiwiY2hpbGROb2RlcyIsImxhc3RDaGlsZCIsIm9wdCIsIlRvRG8iLCJ0aGlzIiwiY29tcGxldGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4Iiwib25jbGljayIsInRkMiIsInB1c2giLCJ0ZDEiLCJ0ZDMiLCJ0YXNrQnV0dG9uIiwiZWRpdE1vZGFsIiwicHJvamVjdE1vZGFsIiwiYWRkUHJvaiIsInNvcnRNb2RhbCIsIndpbmRvdyIsImV2ZW50IiwidGFza0Rlc2MiLCJ0YXNrRGF0ZSIsInRhc2tQcmlvIiwibmV3VGFzayIsImFkZFRvRG8iLCJzZWxlY3RlZEluZGV4Iiwic29ydFNlbGVjdCIsIm9uY2hhbmdlIiwicHJvaklucHV0IiwiYWRkUHJvamVjdCIsInJlbmRlck5ld1Byb2plY3RzIl0sInNvdXJjZVJvb3QiOiIifQ==