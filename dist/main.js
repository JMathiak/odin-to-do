(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=e=>{for(let t=0;t<e.length;t++)o(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",n);const i=document.getElementsByClassName("edit-btn");for(let e=0;e<i.length;e++)i[e].addEventListener("click",r)},o=(e,t)=>{let o=document.querySelector("#task-table-body"),i=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",i);let l=document.createElement("td");l.innerHTML=t[e].taskName,n.appendChild(l);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].dueDate,n.appendChild(s);let r=document.createElement("td");r.innerHTML=t[e].priority,n.appendChild(r);let a=document.createElement("td"),m=document.createElement("button");a.appendChild(m),m.setAttribute("type","button"),m.innerHTML="Delete",m.classList.add("del-btn");let c=document.createElement("button");a.appendChild(c),c.setAttribute("type","button"),c.innerHTML="Edit",c.classList.add("edit-btn"),n.appendChild(a),o.appendChild(n)},i=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},n=t=>{let o=t.target.parentNode.parentNode.getAttribute("data-key");console.log("here",o);let i=e.masterList.filter((e=>e.id!=o)),n=e.lowPrio.filter((e=>e.id!=o));e.lowPrio=n;let d=e.medPrio.filter((e=>e.id!=o));e.medPrio=d;let s=e.highPrio.filter((e=>e.id!=o));e.highPrio=s,e.masterList=i,l()},l=()=>{i(),t(e.masterList)},d=()=>{!0===e.isSorted?(i(),t(e.highPrio),t(e.medPrio),t(e.lowPrio)):!1===e.isSorted&&l()},s=function(e,t,o,i,n){this.taskName=e,this.description=t,this.dueDate=o,this.priority=i,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},r=t=>{let o=document.getElementById("editModal");o.style.display="block";let i=t.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),i==e.masterList[t].id&&(n=t);console.log("id ",i),console.log("index ",n),document.getElementById("taskNameEdit").value=e.masterList[n].taskName,document.getElementById("descriptionEdit").value=e.masterList[n].description,document.getElementById("dateEdit").value=e.masterList[n].dueDate,document.getElementById("priorityEdit").value=e.masterList[n].priority,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[n].taskName=document.getElementById("taskNameEdit").value,e.masterList[n].description=document.getElementById("descriptionEdit").value,e.masterList[n].dueDate=document.getElementById("dateEdit").value,e.masterList[n].priority=document.getElementById("priorityEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),l(),o.style.display="none"}};console.log(e.masterList);let a=new s("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium");e.masterList.push(a);let m=new s("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High");e.masterList.push(m);let c=new s("Roll for Ayato"," pull Ayato","4/19/22","Low");e.masterList.push(c),e.lowPrio.push(c),e.medPrio.push(a),e.highPrio.push(m),t(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),i=document.getElementById("editModal");o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==i&&(i.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,o=document.getElementById("descriptionInput").value,i=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,r=new s(t,o,i,n,"default");e.masterList.push(r),"Low"===r.priority&&e.lowPrio.push(r),"Medium"===r.priority&&e.medPrio.push(r),"High"===r.priority&&e.highPrio.push(r),console.log(e.isSorted),!1===e.isSorted?l():d()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("sortTaskBtn").onclick=function(){e.isSorted=!e.isSorted,console.log(e.isSorted),d()}})(),(()=>{console.log("Render Projs");let t=document.getElementById("projectInput");for(let o=0;o<e.projects.length;o++){let i=document.createElement("option");i.value=e.projects[o],i.innerHTML=e.projects[o],t.appendChild(i)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSTFELEVBQUksRUFBR0EsRUFBSVQsRUFBU00sU0FBU0ksT0FBUUQsSUFBSyxDQUNqRCxJQUFJK0UsRUFBTTNFLFNBQVNlLGNBQWMsVUFDakM0RCxFQUFJakIsTUFBUXZFLEVBQVNNLFNBQVNHLEdBQzlCK0UsRUFBSXpELFVBQVkvQixFQUFTTSxTQUFTRyxHQUNsQzhFLEVBQVF0RCxZQUFZdUQsS0U5RXhCQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUb0RvTGlzdCA9ICgoKSA9PiB7XHJcbiAgbGV0IGlzU29ydGVkID0gZmFsc2U7XHJcbiAgbGV0IG1hc3Rlckxpc3QgPSBbXTtcclxuICBsZXQgbG93UHJpbyA9IFtdO1xyXG4gIGxldCBtZWRQcmlvID0gW107XHJcbiAgbGV0IGhpZ2hQcmlvID0gW107XHJcbiAgbGV0IHByb2plY3RzID0gW1wiTm9uZVwiLCBcIlB1bGxzXCIsIFwiQXNjZW5zaW9uXCJdO1xyXG4gIHJldHVybiB7IG1hc3Rlckxpc3QsIGxvd1ByaW8sIG1lZFByaW8sIGhpZ2hQcmlvLCBpc1NvcnRlZCwgcHJvamVjdHMgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCB7IFRvRG9MaXN0IH07XHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBlZGl0VGFzayB9IGZyb20gXCIuL3RvZG9cIjtcclxuY29uc3QgcmVuZGVyVG9Eb3MgPSAoYXJyYXkpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJSb3coaSwgYXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBkZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgY29uc29sZS5sb2coZGVsQnRucyk7XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkZWxCdG5zLmxlbmd0aDsgaisrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBkZWxCdG5zW2pdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWRpdEJ0bnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGVkaXRCdG5zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VGFzayk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUm93ID0gKGksIGFycmF5KSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICAvL0RhdGEga2V5PyA8LS0gTmVlZCB0byBhZGQgdGhlIGRhdGEga2V5IHRvIGVhY2ggZGl2LlxyXG4gIGxldCBkayA9IGFycmF5W2ldLmlkO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuXHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHRpdGxlLmlubmVySFRNTCA9IGFycmF5W2ldLnRhc2tOYW1lO1xyXG4gIHJvdy5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBhcnJheVtpXS5kZXNjcmlwdGlvbjtcclxuICByb3cuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG5cclxuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkdWVEYXRlLmlubmVySFRNTCA9IGFycmF5W2ldLmR1ZURhdGU7XHJcbiAgcm93LmFwcGVuZENoaWxkKGR1ZURhdGUpO1xyXG5cclxuICBsZXQgcHJpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcmlvLmlubmVySFRNTCA9IGFycmF5W2ldLnByaW9yaXR5O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcmlvKTtcclxuXHJcbiAgLy9OZWVkIHRvIGNyZWF0ZSBidXR0b25zXHJcblxyXG4gIGxldCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGxldCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcclxuICBkZWxCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBkZWxCdG4uaW5uZXJIVE1MID0gXCJEZWxldGVcIjtcclxuICBkZWxCdG4uY2xhc3NMaXN0LmFkZChcImRlbC1idG5cIik7XHJcbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XHJcbiAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGVkaXRCdG4uaW5uZXJIVE1MID0gXCJFZGl0XCI7XHJcbiAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIik7XHJcbiAgcm93LmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xyXG5cclxuICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVJvd3MgPSAoKSA9PiB7XHJcbiAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICB3aGlsZSAoY29udGVudERpdi5maXJzdENoaWxkKSB7XHJcbiAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKGNvbnRlbnREaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVGFzayA9IChlKSA9PiB7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGNvbnNvbGUubG9nKFwiaGVyZVwiLCBpZCk7XHJcbiAgbGV0IGZpbHRlckFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBsZXQgbG93RmlsdGVyID0gVG9Eb0xpc3QubG93UHJpby5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT0gaWQpO1xyXG4gIFRvRG9MaXN0Lmxvd1ByaW8gPSBsb3dGaWx0ZXI7XHJcbiAgbGV0IG1lZEZpbHRlciA9IFRvRG9MaXN0Lm1lZFByaW8uZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBUb0RvTGlzdC5tZWRQcmlvID0gbWVkRmlsdGVyO1xyXG4gIGxldCBoaWdoRmlsdGVyID0gVG9Eb0xpc3QuaGlnaFByaW8uZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBUb0RvTGlzdC5oaWdoUHJpbyA9IGhpZ2hGaWx0ZXI7XHJcbiAgVG9Eb0xpc3QubWFzdGVyTGlzdCA9IGZpbHRlckFycjtcclxuICByZWZyZXNoQ29udGVudCgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUm93cygpO1xyXG4gIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG59O1xyXG5cclxuY29uc3Qgc29ydENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgaWYgKFRvRG9MaXN0LmlzU29ydGVkID09PSB0cnVlKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gIH0gZWxzZSBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RzID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiUmVuZGVyIFByb2pzXCIpO1xyXG4gIGxldCBwcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICAgIHByb2pEaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCB7IHJlbmRlclRvRG9zLCByZWZyZXNoQ29udGVudCwgc29ydENvbnRlbnQsIHJlbmRlclByb2plY3RzIH07XHJcblxyXG4vL1VzZSBxdWVyeSBzZWxlY3RvciB0byBnZXQgYXJyYXkgb2YgZGl2cyB0aGF0IGhhcyB0aGUgZGF0YSBhdHRyaWJ1dGUgSSB3YW50IHRvIHJlbW92ZVxyXG4iLCJpbXBvcnQgeyBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVmcmVzaENvbnRlbnQsIHNvcnRDb250ZW50IH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5cclxuY29uc3QgVG9EbyA9IGZ1bmN0aW9uICh0YXNrTmFtZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSB7XHJcbiAgdGhpcy50YXNrTmFtZSA9IHRhc2tOYW1lO1xyXG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xyXG4gIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7XHJcbiAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcclxuICB0aGlzLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRUb0RvID0gKCkgPT4ge1xyXG4gIGxldCB0YXNrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0Rlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tQcmlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUlucHV0XCIpLnZhbHVlO1xyXG5cclxuICBsZXQgbmV3VGFzayA9IG5ldyBUb0RvKHRhc2tOYW1lLCB0YXNrRGVzYywgdGFza0RhdGUsIHRhc2tQcmlvLCBcImRlZmF1bHRcIik7XHJcbiAgVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKG5ld1Rhc2spO1xyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkxvd1wiKSB7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIikge1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiKSB7XHJcbiAgICBUb0RvTGlzdC5oaWdoUHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5pc1NvcnRlZCk7XHJcbiAgaWYgKFRvRG9MaXN0LmlzU29ydGVkID09PSBmYWxzZSkge1xyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc29ydENvbnRlbnQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBlZGl0VGFzayA9IChlKSA9PiB7XHJcbiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TW9kYWxcIik7XHJcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGxldCBpbmRleCA9IDA7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5tYXN0ZXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlRETCBJRFwiLCBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmlkKTtcclxuICAgIGlmIChpZCA9PSBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmlkKSB7XHJcbiAgICAgIGluZGV4ID0gaTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiaWQgXCIsIGlkKTtcclxuICBjb25zb2xlLmxvZyhcImluZGV4IFwiLCBpbmRleCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb247XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5O1xyXG5cclxuICBsZXQgc2F2ZUNoYW5nZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5oaWdoUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJIaWdoXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5tZWRQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICAgKTtcclxuXHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBUb0RvLCBhZGRUb0RvLCBlZGl0VGFzayB9O1xyXG4vL0hvdyB0byBoYW5kbGUgcHJvamVjdHM/XHJcbi8vSGF2ZSBhbiBvdmVyYWNyY2hpbmcgYXJyYXkgdGhhdCBob2xkcyBvYmplY3RzIGFuZCBzdWJhcnJheXMgZm9yIGVhY2ggcHJvamVjdD8gPC0tIFNlZW1zIGxpa2VseVxyXG4vLyBIYXZlIGFuIG92ZXJhcmNoaW5nIGFycmF5IGFuZCBmaWx0ZXIgd2hlbiBuZWNlc3NhcnkgZm9yIHByb2plY3RzXHJcbiIsImltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcclxuaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9tb2R1bGVzL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyUHJvamVjdHMsIHJlbmRlclRvRG9zIH0gZnJvbSBcIi4vbW9kdWxlcy9jb250ZW50XCI7XHJcbmltcG9ydCBpbml0QnV0dG9ucyBmcm9tIFwiLi9tb2R1bGVzL2J1dHRvbnNcIjtcclxuXHJcbmNvbnNvbGUubG9nKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5sZXQgdGQyID0gbmV3IFRvRG8oXHJcbiAgXCJSb2xsIGZvciBZZWxhblwiLFxyXG4gIFwiUHVsbCBZZWxhbiBiYyBtb21teVwiLFxyXG4gIFwiNS8xMC8yMlwiLFxyXG4gIFwiTWVkaXVtXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMik7XHJcbmxldCB0ZDEgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIEF5YWthXCIsXHJcbiAgXCJVc2UgYWxsIG1lYW5zIG5lY2Vzc2FyeSB0byBwdWxsIEF5YWthXCIsXHJcbiAgXCI0LzE5LzIyXCIsXHJcbiAgXCJIaWdoXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMSk7XHJcbmxldCB0ZDMgPSBuZXcgVG9EbyhcIlJvbGwgZm9yIEF5YXRvXCIsIFwiIHB1bGwgQXlhdG9cIiwgXCI0LzE5LzIyXCIsIFwiTG93XCIpO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQzKTtcclxuVG9Eb0xpc3QubG93UHJpby5wdXNoKHRkMyk7XHJcblRvRG9MaXN0Lm1lZFByaW8ucHVzaCh0ZDIpO1xyXG5Ub0RvTGlzdC5oaWdoUHJpby5wdXNoKHRkMSk7XHJcbnJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5pbml0QnV0dG9ucygpO1xyXG5yZW5kZXJQcm9qZWN0cygpO1xyXG4vKlxyXG5Ob3RlczpcclxuLU9uIGFkZCB0YXNrIGZvcm0gbmVlZCBhIHBsYWNlIHRvIHNlbGVjdCB3aGljaCBwcm9qZWN0IHRvIGFkZCB0aGUgdG8gZG8gdG8uIEFsbG93IGZvciBtdWx0aXBsZSBwcm9qZWN0IHNlbGVjdGlvbiAoTWF5YmUgbm90KVxyXG4tTmVlZCBhbiBlZGl0IHRhc2sgYnV0dG9uIG9uIGVhY2ggdGFzayByb3dcclxuLU5lZWQgdG8gZmlndXJlIG91dCB3aGVyZSB0byBjcmVhdGUgbmV3IHByb2plY3RzXHJcbi1WaWV3IGFsbCB0YXNrcyBuZWVkcyB0byBkaXNwbGF5IHByb2plY3QgbmFtZXNcclxuXHJcblBsYW4gb2YgYXR0YWNrOlxyXG4qQWRkIGEgZmV3IGR1bW15IHRvIGRvIG9iamVjdHMgYW5kIGdldCB0aGVtIHJlbmRlcmluZyB0byB0aGUgZG9tXHJcbipTZXQgdXAgdGhlIGFkZCB0YXNrIGJ1dHRvbiBcclxuLVNldCB1cCB0YXNrIGVkaXRpbmcgPC0tIE1vZGFsIHdpdGggdGhlIHRhc2tzIGRhdGEgcHJlLWZpbGxlZCBpbnRvIGEgZm9ybS4gXHJcbi0tRmV0Y2ggdGFzayBieSB1c2luZyByb3cgSUQgd2hpY2ggPT09IHRhc2sgSUQgPC0tIFVzZSBmaWx0ZXJcclxuLS1OZWVkIGEgZGlzY2FyZCBjaGFuZ2UgYnV0dG9uIFxyXG4tLU5lZWQgYSBzYXZlIGNoYW5nZSBidXR0b24gXHJcbipTZXQgdXAgc29ydGluZyBcclxuLS1NYXliZSBhZGQgd2hpY2ggd2F5IHRvIGJlIHNvcnRlZD8gU3RyZWNoIGdvYWw/XHJcbipTZXQgdXAgcmV2ZXJ0aW5nIHNvcnRpbmcgPC0tIFJlIHJlbmRlciBmcm9tIG1hc3RlciBieSBjaGVja2luZyBpc1NvcnRpbmcgZm9yIGZhbHNlXHJcbi1TZXQgdXAgcHJvamVjdHNcclxuLS0gQWRkIHByb2plY3QgYnV0dG9uXHJcbi0tIEFkZCBwcm9qZWN0IHNlbGVjdGlvbiBvbiBhZGQgdGFzayBmb3JtXHJcbi0tIEFkZCBwcm9qZWN0IHZpZXdzXHJcbi0tIFJlIHJlbmRlciB0YWJsZSB3aXRoIGEgZmlsdGVyZWQgYXJyYXkgZm9yIHRoZSBwcm9qZWN0IHRoZXkgd2FudCB0byB2aWV3LiBcclxuXHJcbiovXHJcbiIsImltcG9ydCB7IGFkZFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XHJcbmltcG9ydCB7IHNvcnRDb250ZW50IH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuY29uc3QgaW5pdEJ1dHRvbnMgPSAoKSA9PiB7XHJcbiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTW9kYWxcIik7XHJcbiAgbGV0IHRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Rhc2tCdG5cIik7XHJcbiAgbGV0IGVkaXRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG5cclxuICB0YXNrQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWwpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjbG9zZSBtb2RhbFwiKTtcclxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBlZGl0TW9kYWwpIHtcclxuICAgICAgZWRpdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9O1xyXG4gIGxldCBzdWJtaXRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC10YXNrLWJ0blwiKTtcclxuICBzdWJtaXRidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFRvRG8oKTtcclxuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUYXNrQnRuXCIpO1xyXG4gIHNvcnRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFRvRG9MaXN0LmlzU29ydGVkID0gIVRvRG9MaXN0LmlzU29ydGVkO1xyXG4gICAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gICAgc29ydENvbnRlbnQoKTtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdEJ1dHRvbnM7XHJcbiJdLCJuYW1lcyI6WyJUb0RvTGlzdCIsIm1hc3Rlckxpc3QiLCJsb3dQcmlvIiwibWVkUHJpbyIsImhpZ2hQcmlvIiwiaXNTb3J0ZWQiLCJwcm9qZWN0cyIsInJlbmRlclRvRG9zIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwicmVuZGVyUm93IiwiZGVsQnRucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVRhc2siLCJlZGl0QnRucyIsImsiLCJlZGl0VGFzayIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJkayIsImlkIiwicm93IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRpdGxlIiwiaW5uZXJIVE1MIiwidGFza05hbWUiLCJhcHBlbmRDaGlsZCIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW8iLCJwcmlvcml0eSIsImJ1dHRvbnMiLCJkZWxCdG4iLCJjbGFzc0xpc3QiLCJhZGQiLCJlZGl0QnRuIiwicmVtb3ZlUm93cyIsImNvbnRlbnREaXYiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJlIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsImZpbHRlckFyciIsImZpbHRlciIsInRhc2siLCJsb3dGaWx0ZXIiLCJtZWRGaWx0ZXIiLCJoaWdoRmlsdGVyIiwicmVmcmVzaENvbnRlbnQiLCJzb3J0Q29udGVudCIsIlRvRG8iLCJwcm9qZWN0IiwidGhpcyIsImNvbXBsZXRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW9kYWwiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4IiwidmFsdWUiLCJvbmNsaWNrIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJ3aW5kb3ciLCJldmVudCIsInRhc2tEZXNjIiwidGFza0RhdGUiLCJ0YXNrUHJpbyIsIm5ld1Rhc2siLCJhZGRUb0RvIiwic2VsZWN0ZWRJbmRleCIsInByb2pEaXYiLCJvcHQiLCJyZW5kZXJQcm9qZWN0cyJdLCJzb3VyY2VSb290IjoiIn0=