(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},l=e=>{let t=["Task Name","Description","Project","Due Date","Priority",""],l=document.getElementById("task-table"),n=document.createElement("tr");l.prepend(n);for(let e=0;e<t.length;e++){let l=document.createElement("th");l.innerHTML=t[e],n.appendChild(l)}for(let t=0;t<e.length;t++)o(t,e);const s=document.getElementsByClassName("del-btn");console.log(s);for(let e=0;e<s.length;e++)console.log("here"),s[e].addEventListener("click",i);const r=document.getElementsByClassName("edit-btn");for(let e=0;e<r.length;e++)r[e].addEventListener("click",u);const a=document.getElementsByClassName("comp-btn");for(let e=0;e<a.length;e++)console.log(a[e].id),a[e].id,a[e].addEventListener("click",d)},o=(e,t)=>{let l=document.querySelector("#task-table-body"),o=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",o),n.id="task-"+o,n.classList.add("task-item");let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].project,n.appendChild(s);let r=document.createElement("td");r.innerHTML=t[e].dueDate,n.appendChild(r);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let c=document.createElement("td");c.setAttribute("data-key",o);let m=document.createElement("button"),u=document.createElement("button");c.appendChild(u),u.setAttribute("type","button"),u.innerHTML='<i class="fa-solid fa-check"></i>',u.classList.add("comp-btn"),u.id=o,c.appendChild(m),m.setAttribute("type","button"),m.innerHTML='<i class="fa-solid fa-trash"></i>',m.classList.add("del-btn");let p=document.createElement("button");c.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-pencil"></i>',p.classList.add("edit-btn"),n.appendChild(c),l.appendChild(n)},n=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=l=>{let o=l.target.parentNode.parentNode.getAttribute("data-key");console.log("here",o);let n=e.masterList.filter((e=>e.id!=o));e.masterList=n,t(),s(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=t=>{console.log("Complete Task");let l=t.target.parentNode.parentNode.getAttribute("data-key");console.log(l);let o='[data-key="'+l+'"]',n=document.querySelector(o);console.log(n);for(let t=0;t<e.masterList.length;t++)e.masterList[t].id==l&&(!1===e.masterList[t].complete?(n.classList.add("complete"),e.masterList[t].complete=!0):!0===e.masterList[t].complete&&(n.classList.remove("complete"),e.masterList[t].complete=!1));console.log(n.classList)},s=()=>{n(),l(e.masterList)},r=t=>{if("default"===t&&(n(),l(e.masterList)),"lowToHigh"===t&&(n(),l(e.lowPrio),l(e.medPrio),l(e.highPrio)),"highToLow"===t&&(n(),l(e.highPrio),l(e.medPrio),l(e.lowPrio)),"projectSorting"===t){n();for(let t=0;t<e.projects.length;t++){let o=e.masterList.filter((l=>l.project==e.projects[t]));console.log(o),l(o.filter((e=>"High"===e.priority))),l(o.filter((e=>"Medium"===e.priority))),l(o.filter((e=>"Low"===e.priority)))}}},a=()=>{let t=document.getElementById("projectInput"),l=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;l.childNodes.length>2;)l.removeChild(l.lastChild);for(let l=0;l<e.projects.length;l++){let o=document.createElement("option");o.value=e.projects[l],o.innerHTML=e.projects[l],t.appendChild(o)}for(let t=0;t<e.projects.length;t++){let o=document.createElement("option");o.value=e.projects[t],o.innerHTML=e.projects[t],l.appendChild(o)}},c=()=>{let e=document.getElementById("task-table");e.removeChild(e.firstChild)},m=function(e,t,l,o,n){this.taskName=e,this.description=t,this.dueDate=l,this.priority=o,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},u=t=>{let l=document.getElementById("editModal");l.style.display="block";let o=t.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),o==e.masterList[t].id&&(n=t);console.log("id ",o),console.log("index ",n),document.getElementById("taskNameEdit").value=e.masterList[n].taskName,document.getElementById("descriptionEdit").value=e.masterList[n].description,document.getElementById("dateEdit").value=e.masterList[n].dueDate,document.getElementById("priorityEdit").value=e.masterList[n].priority,document.getElementById("projectEdit").value=e.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[n].taskName=document.getElementById("taskNameEdit").value,e.masterList[n].description=document.getElementById("descriptionEdit").value,e.masterList[n].dueDate=document.getElementById("dateEdit").value,e.masterList[n].priority=document.getElementById("priorityEdit").value,e.masterList[n].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),s(),l.style.display="none"}},p=()=>{document.getElementById("task-table-body");for(let t=0;t<e.projects.length;t++)y(t);const t=document.getElementsByClassName("del-btn");for(let e=0;e<t.length;e++)t[e].addEventListener("click",h)},y=t=>{let l=document.querySelector("#task-table-body"),o=document.createElement("tr");o.setAttribute("data-key",t),o.id="task-"+t,o.classList.add("task-item");let n=document.createElement("td");n.innerHTML=e.projects[t],o.appendChild(n);let i=document.createElement("td");i.setAttribute("data-key",t);let d=document.createElement("button");i.appendChild(d),d.setAttribute("type","button"),d.innerHTML='<i class="fa-solid fa-trash"></i>',d.classList.add("del-btn"),d.id=t;let s=document.createElement("button");i.appendChild(s),s.setAttribute("type","button"),s.innerHTML='<i class="fa-solid fa-pencil"></i>',s.classList.add("edit-btn"),s.id=t,o.appendChild(i),l.appendChild(o)},g=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},h=t=>{let l=t.target.parentNode.id;console.log(l);let o=e.projects[l];console.log(o);let n=e.projects.filter((e=>e!=o));e.projects=n,g(),p()};console.log(e.masterList);let E=new m("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(E);let L=new m("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Ascension");e.masterList.push(L);let f=new m("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(f),t(),l(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),i=document.getElementById("editModal"),d=document.getElementById("projectModal"),u=document.getElementById("newProject"),y=document.getElementById("sortModal");u.onclick=function(){d.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==i&&(i.style.display="none"),e.target==d&&(d.style.display="none"),e.target==y&&(y.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,l=document.getElementById("descriptionInput").value,o=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new m(t,l,o,n,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?s():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("submit-sort-btn").onclick=function(){let e=document.getElementById("sortType").value;r(e),document.getElementById("sortModal").style.display="none",document.getElementById("sortType").selectedIndex=0};let h=document.getElementById("sortType");h.onchange=function(){console.log("here");let e=h.value;r(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),d.style.display="none",document.getElementById("projectName").value="",a()},document.getElementById("project-view").onclick=function(){n(),c(),(()=>{let e=document.getElementById("task-table"),t=["Project Name",""],l=document.createElement("tr");e.prepend(l);for(let e=0;e<t.length;e++){let o=document.createElement("th");o.innerHTML=t[e],l.appendChild(o)}})(),p()},document.getElementById("all-tasks").onclick=function(){c(),g(),l(e.masterList)},document.getElementById("complete-tasks").onclick=function(){c(),g(),l(e.masterList.filter((e=>1==e.complete)))},document.getElementById("incomplete-tasks").onclick=function(){c(),g(),l(e.masterList.filter((e=>0==e.complete)))}})(),a()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBakJBLEVBQUtHLGNENUUxRCxHQUNBSyxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3Byb2plY3RWaWV3LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2J1dHRvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVG9Eb0xpc3QgPSAoKCkgPT4ge1xyXG4gIGxldCBpc1NvcnRlZCA9IGZhbHNlO1xyXG4gIGxldCBtYXN0ZXJMaXN0ID0gW107XHJcbiAgbGV0IGxvd1ByaW8gPSBbXTtcclxuICBsZXQgbWVkUHJpbyA9IFtdO1xyXG4gIGxldCBoaWdoUHJpbyA9IFtdO1xyXG4gIGxldCBwcm9qZWN0cyA9IFtcIk5vbmVcIiwgXCJQdWxsc1wiLCBcIkFzY2Vuc2lvblwiXTtcclxuICByZXR1cm4geyBtYXN0ZXJMaXN0LCBsb3dQcmlvLCBtZWRQcmlvLCBoaWdoUHJpbywgaXNTb3J0ZWQsIHByb2plY3RzIH07XHJcbn0pKCk7XHJcblxyXG5jb25zdCBzZXRQcmlvQXJyYXlzID0gKCkgPT4ge1xyXG4gIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlO1xyXG4gIFRvRG9MaXN0LnByb2plY3RzLnB1c2gocHJvaklucHV0KTtcclxufTtcclxuZXhwb3J0IHsgVG9Eb0xpc3QsIHNldFByaW9BcnJheXMsIGFkZFByb2plY3QgfTtcclxuIiwiaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IGVkaXRUYXNrLCBUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5jb25zdCByZW5kZXJUb0RvcyA9IChhcnJheSkgPT4ge1xyXG4gIGxldCBoZWFkZXJBcnIgPSBbXHJcbiAgICBcIlRhc2sgTmFtZVwiLFxyXG4gICAgXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgXCJQcm9qZWN0XCIsXHJcbiAgICBcIkR1ZSBEYXRlXCIsXHJcbiAgICBcIlByaW9yaXR5XCIsXHJcbiAgICBcIlwiLFxyXG4gIF07XHJcbiAgbGV0IHRhc2tIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGFibGVcIik7XHJcbiAgbGV0IGhlYWRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICB0YXNrSGVhZGVyLnByZXBlbmQoaGVhZGVyRGl2KTtcclxuICBmb3IgKGxldCBzID0gMDsgcyA8IGhlYWRlckFyci5sZW5ndGg7IHMrKykge1xyXG4gICAgbGV0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgdGguaW5uZXJIVE1MID0gaGVhZGVyQXJyW3NdO1xyXG4gICAgaGVhZGVyRGl2LmFwcGVuZENoaWxkKHRoKTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgcmVuZGVyUm93KGksIGFycmF5KTtcclxuICB9XHJcbiAgY29uc3QgZGVsQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWwtYnRuXCIpO1xyXG4gIGNvbnNvbGUubG9nKGRlbEJ0bnMpO1xyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgZGVsQnRucy5sZW5ndGg7IGorKykge1xyXG4gICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xyXG4gICAgZGVsQnRuc1tqXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVtb3ZlVGFzayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0QnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJlZGl0LWJ0blwiKTtcclxuICBmb3IgKGxldCBrID0gMDsgayA8IGVkaXRCdG5zLmxlbmd0aDsgaysrKSB7XHJcbiAgICBlZGl0QnRuc1trXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZWRpdFRhc2spO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29tcGxldGVCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbXAtYnRuXCIpO1xyXG4gIGZvciAobGV0IGwgPSAwOyBsIDwgY29tcGxldGVCdG5zLmxlbmd0aDsgbCsrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhjb21wbGV0ZUJ0bnNbbF0uaWQpO1xyXG4gICAgbGV0IGJ0bklkID0gY29tcGxldGVCdG5zW2xdLmlkO1xyXG4gICAgY29tcGxldGVCdG5zW2xdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjb21wbGV0ZVRhc2spO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclJvdyA9IChpLCBhcnJheSkgPT4ge1xyXG4gIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuXHJcbiAgLy9EYXRhIGtleT8gPC0tIE5lZWQgdG8gYWRkIHRoZSBkYXRhIGtleSB0byBlYWNoIGRpdi5cclxuICBsZXQgZGsgPSBhcnJheVtpXS5pZDtcclxuICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcbiAgcm93LmlkID0gXCJ0YXNrLVwiICsgZGs7XHJcbiAgcm93LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW1cIik7XHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHRpdGxlLmlubmVySFRNTCA9IGFycmF5W2ldLnRhc2tOYW1lO1xyXG4gIHJvdy5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBhcnJheVtpXS5kZXNjcmlwdGlvbjtcclxuICByb3cuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG5cclxuICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0LmlubmVySFRNTCA9IGFycmF5W2ldLnByb2plY3Q7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByb2plY3QpO1xyXG5cclxuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkdWVEYXRlLmlubmVySFRNTCA9IGFycmF5W2ldLmR1ZURhdGU7XHJcbiAgcm93LmFwcGVuZENoaWxkKGR1ZURhdGUpO1xyXG5cclxuICBsZXQgcHJpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcmlvLmlubmVySFRNTCA9IGFycmF5W2ldLnByaW9yaXR5O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcmlvKTtcclxuXHJcbiAgLy9OZWVkIHRvIGNyZWF0ZSBidXR0b25zXHJcblxyXG4gIGxldCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGJ1dHRvbnMuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgZGspO1xyXG4gIGxldCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGxldCBjb21wQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGNvbXBCdG4pO1xyXG4gIGNvbXBCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBjb21wQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNoZWNrXCI+PC9pPmA7XHJcbiAgY29tcEJ0bi5jbGFzc0xpc3QuYWRkKFwiY29tcC1idG5cIik7XHJcbiAgY29tcEJ0bi5pZCA9IGRrO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcclxuICBkZWxCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBkZWxCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2hcIj48L2k+YDtcclxuICBkZWxCdG4uY2xhc3NMaXN0LmFkZChcImRlbC1idG5cIik7XHJcbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XHJcbiAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGVkaXRCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGVuY2lsXCI+PC9pPmA7XHJcbiAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIik7XHJcbiAgcm93LmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xyXG5cclxuICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVJvd3MgPSAoKSA9PiB7XHJcbiAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICB3aGlsZSAoY29udGVudERpdi5maXJzdENoaWxkKSB7XHJcbiAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKGNvbnRlbnREaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVGFzayA9IChlKSA9PiB7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGNvbnNvbGUubG9nKFwiaGVyZVwiLCBpZCk7XHJcbiAgbGV0IGZpbHRlckFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0ID0gZmlsdGVyQXJyO1xyXG4gIHNldFByaW9BcnJheXMoKTtcclxuICByZWZyZXNoQ29udGVudCgpO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5sb3dQcmlvKTtcclxufTtcclxuXHJcbmNvbnN0IGNvbXBsZXRlVGFzayA9IChlKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJDb21wbGV0ZSBUYXNrXCIpO1xyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBjb25zb2xlLmxvZyhpZCk7XHJcbiAgbGV0IHJvd0lkID0gXCJbZGF0YS1rZXk9XCIgKyBgXCJgICsgaWQgKyBgXCJdYDtcclxuICBsZXQgcm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihyb3dJZCk7XHJcbiAgY29uc29sZS5sb2cocm93KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0Lm1hc3Rlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmlkID09IGlkKSB7XHJcbiAgICAgIGlmIChUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmNvbXBsZXRlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVcIik7XHJcbiAgICAgICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5jb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5jb21wbGV0ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHJvdy5jbGFzc0xpc3QucmVtb3ZlKFwiY29tcGxldGVcIik7XHJcbiAgICAgICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKHJvdy5jbGFzc0xpc3QpO1xyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaENvbnRlbnQgPSAoKSA9PiB7XHJcbiAgcmVtb3ZlUm93cygpO1xyXG4gIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG59O1xyXG5cclxuY29uc3Qgc29ydENvbnRlbnQgPSAoc29ydFR5cGUpID0+IHtcclxuICBpZiAoc29ydFR5cGUgPT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuICB9XHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImxvd1RvSGlnaFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5sb3dQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImhpZ2hUb0xvd1wiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcInByb2plY3RTb3J0aW5nXCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHByb2pBcnIgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgICAodGFza3MpID0+IHRhc2tzLnByb2plY3QgPT0gVG9Eb0xpc3QucHJvamVjdHNbaV1cclxuICAgICAgKTtcclxuICAgICAgY29uc29sZS5sb2cocHJvakFycik7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIuZmlsdGVyKCh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiSGlnaFwiKSk7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIuZmlsdGVyKCh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIikpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qZWN0SW5wdXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJbnB1dFwiKTtcclxuICBsZXQgZWRpdFByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpO1xyXG4gIHdoaWxlIChwcm9qZWN0SW5wdXREaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBwcm9qZWN0SW5wdXREaXYucmVtb3ZlQ2hpbGQocHJvamVjdElucHV0RGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIHdoaWxlIChlZGl0UHJvakRpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIGVkaXRQcm9qRGl2LnJlbW92ZUNoaWxkKGVkaXRQcm9qRGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBwcm9qZWN0SW5wdXREaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIGVkaXRQcm9qRGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlSGVhZGVycyA9ICgpID0+IHtcclxuICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlXCIpO1xyXG4gIGhlYWRlci5yZW1vdmVDaGlsZChoZWFkZXIuZmlyc3RDaGlsZCk7XHJcbn07XHJcbmV4cG9ydCB7XHJcbiAgcmVuZGVyVG9Eb3MsXHJcbiAgcmVmcmVzaENvbnRlbnQsXHJcbiAgc29ydENvbnRlbnQsXHJcbiAgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsXHJcbiAgY29tcGxldGVUYXNrLFxyXG4gIHJlbW92ZVJvd3MsXHJcbiAgcmVtb3ZlSGVhZGVycyxcclxufTtcclxuXHJcbi8vVXNlIHF1ZXJ5IHNlbGVjdG9yIHRvIGdldCBhcnJheSBvZiBkaXZzIHRoYXQgaGFzIHRoZSBkYXRhIGF0dHJpYnV0ZSBJIHdhbnQgdG8gcmVtb3ZlXHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyByZWZyZXNoQ29udGVudCwgc29ydENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcblxyXG5jb25zdCBUb0RvID0gZnVuY3Rpb24gKHRhc2tOYW1lLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcclxuICB0aGlzLnRhc2tOYW1lID0gdGFza05hbWU7XHJcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcclxuICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gIHRoaXMuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFRvRG8gPSAoKSA9PiB7XHJcbiAgbGV0IHRhc2tOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikudmFsdWU7XHJcblxyXG4gIGxldCBuZXdUYXNrID0gbmV3IFRvRG8odGFza05hbWUsIHRhc2tEZXNjLCB0YXNrRGF0ZSwgdGFza1ByaW8sIFwiZGVmYXVsdFwiKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2gobmV3VGFzayk7XHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTG93XCIpIHtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSB7XHJcbiAgICBUb0RvTGlzdC5tZWRQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJIaWdoXCIpIHtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LmlzU29ydGVkKTtcclxuICBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3J0Q29udGVudCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGVkaXRUYXNrID0gKGUpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgbGV0IGluZGV4ID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0Lm1hc3Rlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiVERMIElEXCIsIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpO1xyXG4gICAgaWYgKGlkID09IFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpIHtcclxuICAgICAgaW5kZXggPSBpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJpZCBcIiwgaWQpO1xyXG4gIGNvbnNvbGUubG9nKFwiaW5kZXggXCIsIGluZGV4KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kZXNjcmlwdGlvbjtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0O1xyXG5cclxuICBsZXQgc2F2ZUNoYW5nZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgICApO1xyXG5cclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCB7IFRvRG8sIGFkZFRvRG8sIGVkaXRUYXNrIH07XHJcbi8vSG93IHRvIGhhbmRsZSBwcm9qZWN0cz9cclxuLy9IYXZlIGFuIG92ZXJhY3JjaGluZyBhcnJheSB0aGF0IGhvbGRzIG9iamVjdHMgYW5kIHN1YmFycmF5cyBmb3IgZWFjaCBwcm9qZWN0PyA8LS0gU2VlbXMgbGlrZWx5XHJcbi8vIEhhdmUgYW4gb3ZlcmFyY2hpbmcgYXJyYXkgYW5kIGZpbHRlciB3aGVuIG5lY2Vzc2FyeSBmb3IgcHJvamVjdHNcclxuIiwiaW1wb3J0IHsgcmVtb3ZlSGVhZGVycywgcmVtb3ZlUm93cyB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcblxyXG5jb25zdCBwcmVwYXJlRGl2ID0gKCkgPT4ge1xyXG4gIHJlbW92ZVJvd3MoKTtcclxuICByZW1vdmVIZWFkZXJzKCk7XHJcbiAgcmVuZGVyUHJvamVjdEhlYWRlcnMoKTtcclxuICByZW5kZXJQcm9qZWN0cygpO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdEhlYWRlcnMgPSAoKSA9PiB7XHJcbiAgbGV0IHRhYmxlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlXCIpO1xyXG4gIGxldCBwcm9qZWN0SGVhZGVycyA9IFtcIlByb2plY3QgTmFtZVwiLCBcIlwiXTtcclxuICBsZXQgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHRhYmxlRGl2LnByZXBlbmQoaGVhZGVyRGl2KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RIZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICB0aC5pbm5lckhUTUwgPSBwcm9qZWN0SGVhZGVyc1tpXTtcclxuICAgIGhlYWRlckRpdi5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlLWJvZHlcIik7XHJcblxyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIHJlbmRlclByb2plY3RSb3coaik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgZm9yIChsZXQgayA9IDA7IGsgPCBkZWxldGVCdXR0b25zLmxlbmd0aDsgaysrKSB7XHJcbiAgICBkZWxldGVCdXR0b25zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVQcm9qZWN0KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJQcm9qZWN0Um93ID0gKGkpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICByb3cuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgaSk7XHJcbiAgcm93LmlkID0gXCJ0YXNrLVwiICsgaTtcclxuICByb3cuY2xhc3NMaXN0LmFkZChcInRhc2staXRlbVwiKTtcclxuXHJcbiAgbGV0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByb2plY3ROYW1lLmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZSk7XHJcblxyXG4gIGxldCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGJ1dHRvbnMuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgaSk7XHJcblxyXG4gIGxldCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcclxuICBkZWxCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBkZWxCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtdHJhc2hcIj48L2k+YDtcclxuICBkZWxCdG4uY2xhc3NMaXN0LmFkZChcImRlbC1idG5cIik7XHJcbiAgZGVsQnRuLmlkID0gaTtcclxuXHJcbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XHJcbiAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGVkaXRCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtcGVuY2lsXCI+PC9pPmA7XHJcbiAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIik7XHJcbiAgZWRpdEJ0bi5pZCA9IGk7XHJcbiAgcm93LmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xyXG5cclxuICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVByb2plY3RSb3dzID0gKCkgPT4ge1xyXG4gIGxldCBjb250ZW50RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcbiAgd2hpbGUgKGNvbnRlbnREaXYuZmlyc3RDaGlsZCkge1xyXG4gICAgY29udGVudERpdi5yZW1vdmVDaGlsZChjb250ZW50RGl2LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlZnJlc2hQcm9qZWN0cyA9ICgpID0+IHtcclxuICByZW1vdmVQcm9qZWN0Um93cygpO1xyXG4gIHJlbmRlclByb2plY3RzKCk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVQcm9qZWN0ID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLmlkO1xyXG4gIGNvbnNvbGUubG9nKGlkKTtcclxuICBsZXQgdGFyZ2V0ID0gVG9Eb0xpc3QucHJvamVjdHNbaWRdO1xyXG4gIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgbGV0IGZpbHRlcmVkQXJyID0gVG9Eb0xpc3QucHJvamVjdHMuZmlsdGVyKCh0YXNrKSA9PiB0YXNrICE9IHRhcmdldCk7XHJcbiAgVG9Eb0xpc3QucHJvamVjdHMgPSBmaWx0ZXJlZEFycjtcclxuICByZWZyZXNoUHJvamVjdHMoKTtcclxufTtcclxuXHJcbmV4cG9ydCB7IHByZXBhcmVEaXYsIHJlbW92ZVByb2plY3RSb3dzIH07XHJcbiIsImltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcclxuaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9tb2R1bGVzL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsIHJlbmRlclRvRG9zIH0gZnJvbSBcIi4vbW9kdWxlcy9jb250ZW50XCI7XHJcbmltcG9ydCBpbml0QnV0dG9ucyBmcm9tIFwiLi9tb2R1bGVzL2J1dHRvbnNcIjtcclxuXHJcbmNvbnNvbGUubG9nKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5sZXQgdGQyID0gbmV3IFRvRG8oXHJcbiAgXCJSb2xsIGZvciBZZWxhblwiLFxyXG4gIFwiUHVsbCBZZWxhbiBiYyBtb21teVwiLFxyXG4gIFwiNS8xMC8yMlwiLFxyXG4gIFwiTWVkaXVtXCIsXHJcbiAgXCJQdWxsc1wiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDIpO1xyXG5sZXQgdGQxID0gbmV3IFRvRG8oXHJcbiAgXCJSb2xsIGZvciBBeWFrYVwiLFxyXG4gIFwiVXNlIGFsbCBtZWFucyBuZWNlc3NhcnkgdG8gcHVsbCBBeWFrYVwiLFxyXG4gIFwiNC8xOS8yMlwiLFxyXG4gIFwiSGlnaFwiLFxyXG4gIFwiQXNjZW5zaW9uXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMSk7XHJcbmxldCB0ZDMgPSBuZXcgVG9EbyhcIlJvbGwgZm9yIEF5YXRvXCIsIFwiIHB1bGwgQXlhdG9cIiwgXCI0LzE5LzIyXCIsIFwiTG93XCIsIFwiUHVsbHNcIik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDMpO1xyXG5zZXRQcmlvQXJyYXlzKCk7XHJcbnJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5pbml0QnV0dG9ucygpO1xyXG5yZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cygpO1xyXG5cclxuLypcclxuTm90ZXM6XHJcbi1PbiBhZGQgdGFzayBmb3JtIG5lZWQgYSBwbGFjZSB0byBzZWxlY3Qgd2hpY2ggcHJvamVjdCB0byBhZGQgdGhlIHRvIGRvIHRvLiBBbGxvdyBmb3IgbXVsdGlwbGUgcHJvamVjdCBzZWxlY3Rpb24gKE1heWJlIG5vdClcclxuLU5lZWQgYW4gZWRpdCB0YXNrIGJ1dHRvbiBvbiBlYWNoIHRhc2sgcm93XHJcbi1OZWVkIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdG8gY3JlYXRlIG5ldyBwcm9qZWN0c1xyXG4tVmlldyBhbGwgdGFza3MgbmVlZHMgdG8gZGlzcGxheSBwcm9qZWN0IG5hbWVzXHJcblxyXG5QbGFuIG9mIGF0dGFjazpcclxuKkFkZCBhIGZldyBkdW1teSB0byBkbyBvYmplY3RzIGFuZCBnZXQgdGhlbSByZW5kZXJpbmcgdG8gdGhlIGRvbVxyXG4qU2V0IHVwIHRoZSBhZGQgdGFzayBidXR0b24gXHJcbipTZXQgdXAgdGFzayBlZGl0aW5nIDwtLSBNb2RhbCB3aXRoIHRoZSB0YXNrcyBkYXRhIHByZS1maWxsZWQgaW50byBhIGZvcm0uIFxyXG4tLU5lZWQgYSBkaXNjYXJkIGNoYW5nZSBidXR0b24gXHJcbioqTmVlZCBhIHNhdmUgY2hhbmdlIGJ1dHRvbiBcclxuKlNldCB1cCBzb3J0aW5nIFxyXG4tLU1heWJlIGFkZCB3aGljaCB3YXkgdG8gYmUgc29ydGVkPyBTdHJlY2ggZ29hbD9cclxuKlNldCB1cCByZXZlcnRpbmcgc29ydGluZyA8LS0gUmUgcmVuZGVyIGZyb20gbWFzdGVyIGJ5IGNoZWNraW5nIGlzU29ydGluZyBmb3IgZmFsc2VcclxuLVNldCB1cCBwcm9qZWN0c1xyXG4qKiBBZGQgcHJvamVjdCBidXR0b25cclxuKiogQWRkIHByb2plY3Qgc2VsZWN0aW9uIG9uIGFkZCB0YXNrIGZvcm1cclxuLS0gRWRpdCBQcm9qZWN0cyBNb2RhbC4gKD8pXHJcbi0tIEFkZCBwcm9qZWN0IHZpZXdzIDwtLSBDYW4gZGVmaW5pdGVseSBkb1xyXG4tLSBSZSByZW5kZXIgdGFibGUgd2l0aCBhIGZpbHRlcmVkIGFycmF5IGZvciB0aGUgcHJvamVjdCB0aGV5IHdhbnQgdG8gdmlldy4gXHJcblxyXG5cclxuU29ydGluZyBNb2RhbDpcclxuKipEcm9wZG93biB3aXRoIGRlZmF1bHQsIGxvdyB0byBoaWdoIHByaW9yaXR5LCBoaWdoIHRvIGxvdywgcHJvamVjdCAod2hpY2gganVzdCBncm91cHMgdGhlIHRhc2tzIGJ5IHByb2plY3RzKVxyXG4qKiogVG8gZG8gdGhlIGxhc3Qgb25lLCBpdGVyYXRlIHRocm91Z2ggcHJvamVjdHMgYXJyYXkgZmlsdGVyaW5nIHRoZSBtYWluIGFycmF5IGFuZCByZW5kZXJpbmcgdGhlIHJlc3VsdGluZyBhcnJheSBcclxuXHJcbioqY2hhbmdlIHNvcnRpbmcgbW9kYWwgdG8gYSBkcm9wZG93biB3L291dCBtb2RhbCArIG9uY2hhbmdlIHJhdGhlciB0aGFuIGEgc3VibWl0XHJcblxyXG4tLVByb2plY3RzIGNvbGxhcHNpYmxlIG9uIHNpZGViYXIgb3IgYSBkcm9wIGRvd24/IG9yIGEgbW9kYWw/IG9yPz8/IFNvbWV0aGluZyB0byB2aWV3IG9ubHkgdGFza3Mgb2YgYSBwcm9qZWN0LiBcclxuKipCdXR0b24vUmFkaW8gZm9yIG1hcmtpbmcgYSB0YXNrIGNvbXBsZXRlIHRoYXQgY3Jvc3NlcyBvdXQgdGhlIHJvd1xyXG4qKkNoYW5nZSBidXR0b25zIHRvIGljb25zIG9mIHNvbWUgc29ydC4gUGVuY2lsIGZvciBlZGl0LCB0cmFzaGNhbiBmb3IgZGVsZXRlXHJcblxyXG4tQ1NTIGZvciBNb2RhbHNcclxuLUNoYW5nZSBOZXcgdGFzay9wcm9qZWN0cyB0byBidXR0b25zIGZvciBzdHlsaXN0aWMgcHVycG9zZXMuIFNob3VsZG4ndCBjaGFuZ2UgZnVuY3Rpb25hbGl0eVxyXG5cclxuXHJcbi1DaGFuZ2UgdGFibGUgcmVuZGVyaW5nIHRvIGFsbCBvY2N1ciBpbiBKU1xyXG4tUHJvamVjdHMgYnV0dG9uIGluIHNpZGUgYmFyIHJlbmRlcnMgdGFibGUgd2l0aCBwcm9qZWN0IG5hbWUgKyBidXR0b25zIGZvciBlZGl0ICsgZGVsZXRlXHJcblxyXG4qL1xyXG4iLCJpbXBvcnQgeyBhZGRUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5pbXBvcnQge1xyXG4gIHJlbW92ZUhlYWRlcnMsXHJcbiAgcmVuZGVyTmV3UHJvamVjdHMsXHJcbiAgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsXHJcbiAgcmVuZGVyVG9Eb3MsXHJcbiAgc29ydENvbnRlbnQsXHJcbn0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBhZGRQcm9qZWN0LCBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgcHJlcGFyZURpdiwgcmVtb3ZlUHJvamVjdFJvd3MgfSBmcm9tIFwiLi9wcm9qZWN0Vmlld1wiO1xyXG5jb25zdCBpbml0QnV0dG9ucyA9ICgpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tNb2RhbFwiKTtcclxuICBsZXQgdGFza0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3VGFza0J0blwiKTtcclxuICBsZXQgZWRpdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TW9kYWxcIik7XHJcbiAgbGV0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE1vZGFsXCIpO1xyXG4gIGxldCBhZGRQcm9qID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdQcm9qZWN0XCIpO1xyXG4gIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICBhZGRQcm9qLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHRhc2tCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfTtcclxuICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBtb2RhbCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsb3NlIG1vZGFsXCIpO1xyXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IGVkaXRNb2RhbCkge1xyXG4gICAgICBlZGl0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBwcm9qZWN0TW9kYWwpIHtcclxuICAgICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gc29ydE1vZGFsKSB7XHJcbiAgICAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgfTtcclxuICBsZXQgc3VibWl0YnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtdGFzay1idG5cIik7XHJcbiAgc3VibWl0YnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhZGRUb0RvKCk7XHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tNb2RhbFwiKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUlucHV0XCIpLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gIH07XHJcblxyXG4gIC8vIGxldCBzb3J0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VGFza0J0blwiKTtcclxuICAvLyBzb3J0QnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gICBsZXQgc29ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0TW9kYWxcIik7XHJcbiAgLy8gICBzb3J0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAvLyB9O1xyXG5cclxuICBsZXQgc3VibWl0U29ydEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXNvcnQtYnRuXCIpO1xyXG4gIHN1Ym1pdFNvcnRCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBzb3J0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFR5cGVcIikudmFsdWU7XHJcbiAgICBzb3J0Q29udGVudChzb3J0VHlwZSk7XHJcbiAgICBsZXQgc29ydE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0TW9kYWxcIik7XHJcbiAgICBzb3J0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICB9O1xyXG5cclxuICBsZXQgc29ydFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFR5cGVcIik7XHJcbiAgc29ydFNlbGVjdC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcclxuICAgIGxldCBzb3J0VHlwZSA9IHNvcnRTZWxlY3QudmFsdWU7XHJcbiAgICBzb3J0Q29udGVudChzb3J0VHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGFkZFByb2pCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1wcm9qZWN0LWJ0blwiKTtcclxuICBhZGRQcm9qQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBhZGRQcm9qZWN0KCk7XHJcbiAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cygpO1xyXG4gIH07XHJcblxyXG4gIGxldCBwcm9qZWN0Vmlld0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC12aWV3XCIpO1xyXG4gIHByb2plY3RWaWV3QnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBwcmVwYXJlRGl2KCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGFsbFRhc2tzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGwtdGFza3NcIik7XHJcbiAgYWxsVGFza3NCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhlYWRlcnMoKTtcclxuICAgIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuICB9O1xyXG5cclxuICBsZXQgY29tcGxldGVkVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcGxldGUtdGFza3NcIik7XHJcbiAgY29tcGxldGVkVGFza0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmVtb3ZlSGVhZGVycygpO1xyXG4gICAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmNvbXBsZXRlID09IHRydWUpKTtcclxuICB9O1xyXG5cclxuICBsZXQgaW5jb21wbGV0ZVRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluY29tcGxldGUtdGFza3NcIik7XHJcbiAgaW5jb21wbGV0ZVRhc2tCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhlYWRlcnMoKTtcclxuICAgIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcigodGFzaykgPT4gdGFzay5jb21wbGV0ZSA9PSBmYWxzZSkpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBpbml0QnV0dG9ucztcclxuIl0sIm5hbWVzIjpbIlRvRG9MaXN0IiwibWFzdGVyTGlzdCIsImxvd1ByaW8iLCJtZWRQcmlvIiwiaGlnaFByaW8iLCJpc1NvcnRlZCIsInByb2plY3RzIiwic2V0UHJpb0FycmF5cyIsImZpbHRlciIsInRhc2tzIiwicHJpb3JpdHkiLCJyZW5kZXJUb0RvcyIsImFycmF5IiwiaGVhZGVyQXJyIiwidGFza0hlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWFkZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwicHJlcGVuZCIsInMiLCJsZW5ndGgiLCJ0aCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiaSIsInJlbmRlclJvdyIsImRlbEJ0bnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVGFzayIsImVkaXRCdG5zIiwiayIsImVkaXRUYXNrIiwiY29tcGxldGVCdG5zIiwibCIsImlkIiwiY29tcGxldGVUYXNrIiwidGFibGVCb2R5IiwicXVlcnlTZWxlY3RvciIsImRrIiwicm93Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwidGl0bGUiLCJ0YXNrTmFtZSIsImRlc2NyaXB0aW9uIiwicHJvamVjdCIsImR1ZURhdGUiLCJwcmlvIiwiYnV0dG9ucyIsImRlbEJ0biIsImNvbXBCdG4iLCJlZGl0QnRuIiwicmVtb3ZlUm93cyIsImNvbnRlbnREaXYiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJlIiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsImdldEF0dHJpYnV0ZSIsImZpbHRlckFyciIsInRhc2siLCJyZWZyZXNoQ29udGVudCIsInJvd0lkIiwiY29tcGxldGUiLCJyZW1vdmUiLCJzb3J0Q29udGVudCIsInNvcnRUeXBlIiwicHJvakFyciIsInJlbmRlclByb2plY3RzRm9yVGFza01lbnVzIiwicHJvamVjdElucHV0RGl2IiwiZWRpdFByb2pEaXYiLCJjaGlsZE5vZGVzIiwibGFzdENoaWxkIiwib3B0IiwidmFsdWUiLCJyZW1vdmVIZWFkZXJzIiwiaGVhZGVyIiwiVG9EbyIsInRoaXMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtb2RhbCIsInN0eWxlIiwiZGlzcGxheSIsImluZGV4Iiwib25jbGljayIsInJlbmRlclByb2plY3RzIiwicmVuZGVyUHJvamVjdFJvdyIsImRlbGV0ZUJ1dHRvbnMiLCJyZW1vdmVQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJyZW1vdmVQcm9qZWN0Um93cyIsImZpbHRlcmVkQXJyIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJhZGRQcm9qIiwic29ydE1vZGFsIiwid2luZG93IiwiZXZlbnQiLCJ0YXNrRGVzYyIsInRhc2tEYXRlIiwidGFza1ByaW8iLCJuZXdUYXNrIiwiYWRkVG9EbyIsInNlbGVjdGVkSW5kZXgiLCJzb3J0U2VsZWN0Iiwib25jaGFuZ2UiLCJwcm9qSW5wdXQiLCJhZGRQcm9qZWN0IiwidGFibGVEaXYiLCJwcm9qZWN0SGVhZGVycyIsInJlbmRlclByb2plY3RIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==