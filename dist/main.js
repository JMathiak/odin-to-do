(()=>{"use strict";var e={d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Xp:()=>s,FK:()=>m,ou:()=>n,uB:()=>a});const o={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},l=()=>{o.highPrio=o.masterList.filter((e=>"High"===e.priority)),o.medPrio=o.masterList.filter((e=>"Medium"===e.priority)),o.lowPrio=o.masterList.filter((e=>"Low"===e.priority))},n=e=>{for(let t=0;t<e.length;t++)i(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",r);const o=document.getElementsByClassName("edit-btn");for(let e=0;e<o.length;e++)o[e].addEventListener("click",u)},i=(e,t)=>{let o=document.querySelector("#task-table-body"),l=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",l);let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let r=document.createElement("td");r.innerHTML=t[e].project,n.appendChild(r);let s=document.createElement("td");s.innerHTML=t[e].dueDate,n.appendChild(s);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let m=document.createElement("td"),c=document.createElement("button");m.appendChild(c),c.setAttribute("type","button"),c.innerHTML="Delete",c.classList.add("del-btn");let u=document.createElement("button");m.appendChild(u),u.setAttribute("type","button"),u.innerHTML="Edit",u.classList.add("edit-btn"),n.appendChild(m),o.appendChild(n)},d=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},r=e=>{let t=e.target.parentNode.parentNode.getAttribute("data-key");console.log("here",t);let n=o.masterList.filter((e=>e.id!=t));o.masterList=n,l(),s(),console.log(o.highPrio),console.log(o.medPrio),console.log(o.lowPrio)},s=()=>{d(),n(o.masterList)},a=()=>{!0===o.isSorted?(d(),n(o.highPrio),n(o.medPrio),n(o.lowPrio)):!1===o.isSorted&&s()},m=()=>{let e=document.getElementById("projectInput"),t=document.getElementById("projectEdit");for(;e.childNodes.length>2;)e.removeChild(e.lastChild);for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(let t=0;t<o.projects.length;t++){let l=document.createElement("option");l.value=o.projects[t],l.innerHTML=o.projects[t],e.appendChild(l)}for(let e=0;e<o.projects.length;e++){let l=document.createElement("option");l.value=o.projects[e],l.innerHTML=o.projects[e],t.appendChild(l)}},c=function(e,t,o,l,n){this.taskName=e,this.description=t,this.dueDate=o,this.priority=l,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},u=e=>{let t=document.getElementById("editModal");t.style.display="block";let l=e.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let e=0;e<o.masterList.length;e++)console.log("TDL ID",o.masterList[e].id),l==o.masterList[e].id&&(n=e);console.log("id ",l),console.log("index ",n),document.getElementById("taskNameEdit").value=o.masterList[n].taskName,document.getElementById("descriptionEdit").value=o.masterList[n].description,document.getElementById("dateEdit").value=o.masterList[n].dueDate,document.getElementById("priorityEdit").value=o.masterList[n].priority,document.getElementById("projectEdit").value=o.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){o.masterList[n].taskName=document.getElementById("taskNameEdit").value,o.masterList[n].description=document.getElementById("descriptionEdit").value,o.masterList[n].dueDate=document.getElementById("dateEdit").value,o.masterList[n].priority=document.getElementById("priorityEdit").value,o.masterList[n].project=document.getElementById("projectEdit").value,o.highPrio=o.masterList.filter((e=>"High"===e.priority)),o.medPrio=o.masterList.filter((e=>"Medium"===e.priority)),o.lowPrio=o.masterList.filter((e=>"Low"===e.priority)),s(),t.style.display="none"}};console.log(o.masterList);let p=new c("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");o.masterList.push(p);let y=new c("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Pulls");o.masterList.push(y);let g=new c("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");o.masterList.push(g),l(),n(o.masterList),(()=>{let e=document.getElementById("taskModal"),l=document.getElementById("newTaskBtn"),n=document.getElementById("editModal"),i=document.getElementById("projectModal");document.getElementById("newProject").onclick=function(){i.style.display="block"},l.onclick=function(){e.style.display="block"},window.onclick=function(t){t.target==e&&(console.log("close modal"),e.style.display="none"),t.target==n&&(n.style.display="none"),t.target==i&&(i.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let e=document.getElementById("taskNameInput").value,t=document.getElementById("descriptionInput").value,l=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new c(e,t,l,n,"default");o.masterList.push(i),"Low"===i.priority&&o.lowPrio.push(i),"Medium"===i.priority&&o.medPrio.push(i),"High"===i.priority&&o.highPrio.push(i),console.log(o.isSorted),!1===o.isSorted?s():a()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("sortTaskBtn").onclick=function(){o.isSorted=!o.isSorted,console.log(o.isSorted),a()},document.getElementById("submit-project-btn").onclick=function(){(()=>{let e=document.getElementById("projectName").value;o.projects.push(e)})(),i.style.display="none",document.getElementById("projectName").value="",(0,t.renderNewProjects)()}})(),m()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFSCxFQUF3QixDQUFDUyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NsRlYsRUFBeUJDLElBQ0gsb0JBQVhhLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZUwsRUFBU2EsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEWCxPQUFPQyxlQUFlTCxFQUFTLGFBQWMsQ0FBRWUsT0FBTyxNLHlEQ0x2RCxNQUFNQyxFQU9HLENBQUVDLFdBTFEsR0FLSUMsUUFKUCxHQUlnQkMsUUFIaEIsR0FHeUJDLFNBRnhCLEdBRWtDQyxVQU5sQyxFQU00Q0MsU0FENUMsQ0FBQyxPQUFRLFFBQVMsY0FJN0JDLEVBQWdCLEtBQ3BCUCxFQUFTSSxTQUFXSixFQUFTQyxXQUFXTyxRQUNyQ0MsR0FBNkIsU0FBbkJBLEVBQU1DLFdBRW5CVixFQUFTRyxRQUFVSCxFQUFTQyxXQUFXTyxRQUNwQ0MsR0FBNkIsV0FBbkJBLEVBQU1DLFdBRW5CVixFQUFTRSxRQUFVRixFQUFTQyxXQUFXTyxRQUNwQ0MsR0FBNkIsUUFBbkJBLEVBQU1DLFlDaEJmQyxFQUFlQyxJQUNuQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFDaENFLEVBQVVGLEVBQUdELEdBRWYsTUFBTUksRUFBVUMsU0FBU0MsdUJBQXVCLFdBQ2hEQyxRQUFRQyxJQUFJSixHQUNaLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJTCxFQUFRRixPQUFRTyxJQUNsQ0YsUUFBUUMsSUFBSSxRQUNaSixFQUFRSyxHQUFHQyxpQkFBaUIsUUFBU0MsR0FHdkMsTUFBTUMsRUFBV1AsU0FBU0MsdUJBQXVCLFlBQ2pELElBQUssSUFBSU8sRUFBSSxFQUFHQSxFQUFJRCxFQUFTVixPQUFRVyxJQUNuQ0QsRUFBU0MsR0FBR0gsaUJBQWlCLFFBQVNJLElBSXBDWCxFQUFZLENBQUNGLEVBQUdELEtBQ3BCLElBQUllLEVBQVlWLFNBQVNXLGNBQWMsb0JBR25DQyxFQUFLakIsRUFBTUMsR0FBR2lCLEdBQ2RDLEVBQU1kLFNBQVNlLGNBQWMsTUFDakNELEVBQUlFLGFBQWEsV0FBWUosR0FFN0IsSUFBSUssRUFBUWpCLFNBQVNlLGNBQWMsTUFDbkNFLEVBQU1DLFVBQVl2QixFQUFNQyxHQUFHdUIsU0FDM0JMLEVBQUlNLFlBQVlILEdBRWhCLElBQUlJLEVBQWNyQixTQUFTZSxjQUFjLE1BQ3pDTSxFQUFZSCxVQUFZdkIsRUFBTUMsR0FBR3lCLFlBQ2pDUCxFQUFJTSxZQUFZQyxHQUVoQixJQUFJQyxFQUFVdEIsU0FBU2UsY0FBYyxNQUNyQ08sRUFBUUosVUFBWXZCLEVBQU1DLEdBQUcwQixRQUM3QlIsRUFBSU0sWUFBWUUsR0FFaEIsSUFBSUMsRUFBVXZCLFNBQVNlLGNBQWMsTUFDckNRLEVBQVFMLFVBQVl2QixFQUFNQyxHQUFHMkIsUUFDN0JULEVBQUlNLFlBQVlHLEdBRWhCLElBQUlDLEVBQU94QixTQUFTZSxjQUFjLE1BQ2xDUyxFQUFLTixVQUFZdkIsRUFBTUMsR0FBR0gsU0FDMUJxQixFQUFJTSxZQUFZSSxHQUloQixJQUFJQyxFQUFVekIsU0FBU2UsY0FBYyxNQUNqQ1csRUFBUzFCLFNBQVNlLGNBQWMsVUFDcENVLEVBQVFMLFlBQVlNLEdBQ3BCQSxFQUFPVixhQUFhLE9BQVEsVUFDNUJVLEVBQU9SLFVBQVksU0FDbkJRLEVBQU9DLFVBQVVDLElBQUksV0FDckIsSUFBSUMsRUFBVTdCLFNBQVNlLGNBQWMsVUFDckNVLEVBQVFMLFlBQVlTLEdBQ3BCQSxFQUFRYixhQUFhLE9BQVEsVUFDN0JhLEVBQVFYLFVBQVksT0FDcEJXLEVBQVFGLFVBQVVDLElBQUksWUFDdEJkLEVBQUlNLFlBQVlLLEdBRWhCZixFQUFVVSxZQUFZTixJQUdsQmdCLEVBQWEsS0FDakIsSUFBSUMsRUFBYS9CLFNBQVNXLGNBQWMsb0JBQ3hDLEtBQU9vQixFQUFXQyxZQUNoQkQsRUFBV0UsWUFBWUYsRUFBV0MsYUFJaEMxQixFQUFjNEIsSUFDbEIsSUFBSXJCLEVBQUtxQixFQUFFQyxPQUFPQyxXQUFXQSxXQUFXQyxhQUFhLFlBQ3JEbkMsUUFBUUMsSUFBSSxPQUFRVSxHQUNwQixJQUFJeUIsRUFBWXZELEVBQVNDLFdBQVdPLFFBQVFnRCxHQUFTQSxFQUFLMUIsSUFBTUEsSUFDaEU5QixFQUFTQyxXQUFhc0QsRUFDdEJoRCxJQUNBa0QsSUFDQXRDLFFBQVFDLElBQUlwQixFQUFTSSxVQUNyQmUsUUFBUUMsSUFBSXBCLEVBQVNHLFNBQ3JCZ0IsUUFBUUMsSUFBSXBCLEVBQVNFLFVBR2pCdUQsRUFBaUIsS0FDckJWLElBQ0FwQyxFQUFZWCxFQUFTQyxhQUdqQnlELEVBQWMsTUFDUSxJQUF0QjFELEVBQVNLLFVBQ1gwQyxJQUNBcEMsRUFBWVgsRUFBU0ksVUFDckJPLEVBQVlYLEVBQVNHLFNBQ3JCUSxFQUFZWCxFQUFTRSxXQUNVLElBQXRCRixFQUFTSyxVQUNsQm9ELEtBSUVFLEVBQWlCLEtBQ3JCLElBQUlDLEVBQWtCM0MsU0FBUzRDLGVBQWUsZ0JBQzFDQyxFQUFjN0MsU0FBUzRDLGVBQWUsZUFDMUMsS0FBT0QsRUFBZ0JHLFdBQVdqRCxPQUFTLEdBQ3pDOEMsRUFBZ0JWLFlBQVlVLEVBQWdCSSxXQUU5QyxLQUFPRixFQUFZQyxXQUFXakQsT0FBUyxHQUNyQ2dELEVBQVlaLFlBQVlZLEVBQVlFLFdBRXRDLElBQUssSUFBSW5ELEVBQUksRUFBR0EsRUFBSWIsRUFBU00sU0FBU1EsT0FBUUQsSUFBSyxDQUNqRCxJQUFJb0QsRUFBTWhELFNBQVNlLGNBQWMsVUFDakNpQyxFQUFJbEUsTUFBUUMsRUFBU00sU0FBU08sR0FDOUJvRCxFQUFJOUIsVUFBWW5DLEVBQVNNLFNBQVNPLEdBQ2xDK0MsRUFBZ0J2QixZQUFZNEIsR0FFOUIsSUFBSyxJQUFJNUMsRUFBSSxFQUFHQSxFQUFJckIsRUFBU00sU0FBU1EsT0FBUU8sSUFBSyxDQUNqRCxJQUFJNEMsRUFBTWhELFNBQVNlLGNBQWMsVUFDakNpQyxFQUFJbEUsTUFBUUMsRUFBU00sU0FBU2UsR0FDOUI0QyxFQUFJOUIsVUFBWW5DLEVBQVNNLFNBQVNlLEdBQ2xDeUMsRUFBWXpCLFlBQVk0QixLQ3BIdEJDLEVBQU8sU0FBVTlCLEVBQVVFLEVBQWFFLEVBQVM5QixFQUFVNkIsR0FDL0Q0QixLQUFLL0IsU0FBV0EsRUFDaEIrQixLQUFLN0IsWUFBY0EsRUFDbkI2QixLQUFLM0IsUUFBVUEsRUFDZjJCLEtBQUt6RCxTQUFXQSxFQUNoQnlELEtBQUtDLFVBQVcsRUFDaEJELEtBQUs1QixRQUFVQSxFQUNmNEIsS0FBS3JDLEdBQUt1QyxLQUFLQyxNQUFzQixJQUFoQkQsS0FBS0UsV0E4QnRCN0MsRUFBWXlCLElBQ2hCLElBQUlxQixFQUFRdkQsU0FBUzRDLGVBQWUsYUFDcENXLEVBQU1DLE1BQU1DLFFBQVUsUUFFdEIsSUFBSTVDLEVBQUtxQixFQUFFQyxPQUFPQyxXQUFXQSxXQUFXQyxhQUFhLFlBQ2pEcUIsRUFBUSxFQUNaLElBQUssSUFBSTlELEVBQUksRUFBR0EsRUFBSWIsRUFBU0MsV0FBV2EsT0FBUUQsSUFDOUNNLFFBQVFDLElBQUksU0FBVXBCLEVBQVNDLFdBQVdZLEdBQUdpQixJQUN6Q0EsR0FBTTlCLEVBQVNDLFdBQVdZLEdBQUdpQixLQUMvQjZDLEVBQVE5RCxHQUlaTSxRQUFRQyxJQUFJLE1BQU9VLEdBQ25CWCxRQUFRQyxJQUFJLFNBQVV1RCxHQUN0QjFELFNBQVM0QyxlQUFlLGdCQUFnQjlELE1BQ3RDQyxFQUFTQyxXQUFXMEUsR0FBT3ZDLFNBQzdCbkIsU0FBUzRDLGVBQWUsbUJBQW1COUQsTUFDekNDLEVBQVNDLFdBQVcwRSxHQUFPckMsWUFDN0JyQixTQUFTNEMsZUFBZSxZQUFZOUQsTUFDbENDLEVBQVNDLFdBQVcwRSxHQUFPbkMsUUFDN0J2QixTQUFTNEMsZUFBZSxnQkFBZ0I5RCxNQUN0Q0MsRUFBU0MsV0FBVzBFLEdBQU9qRSxTQUM3Qk8sU0FBUzRDLGVBQWUsZUFBZTlELE1BQ3JDQyxFQUFTQyxXQUFXMEUsR0FBT3BDLFFBRVJ0QixTQUFTNEMsZUFBZSxtQkFDOUJlLFFBQVUsV0FDdkI1RSxFQUFTQyxXQUFXMEUsR0FBT3ZDLFNBQ3pCbkIsU0FBUzRDLGVBQWUsZ0JBQWdCOUQsTUFDMUNDLEVBQVNDLFdBQVcwRSxHQUFPckMsWUFDekJyQixTQUFTNEMsZUFBZSxtQkFBbUI5RCxNQUM3Q0MsRUFBU0MsV0FBVzBFLEdBQU9uQyxRQUN6QnZCLFNBQVM0QyxlQUFlLFlBQVk5RCxNQUN0Q0MsRUFBU0MsV0FBVzBFLEdBQU9qRSxTQUN6Qk8sU0FBUzRDLGVBQWUsZ0JBQWdCOUQsTUFDMUNDLEVBQVNDLFdBQVcwRSxHQUFPcEMsUUFDekJ0QixTQUFTNEMsZUFBZSxlQUFlOUQsTUFDekNDLEVBQVNJLFNBQVdKLEVBQVNDLFdBQVdPLFFBQ3JDZ0QsR0FBMkIsU0FBbEJBLEVBQUs5QyxXQUVqQlYsRUFBU0csUUFBVUgsRUFBU0MsV0FBV08sUUFDcENnRCxHQUEyQixXQUFsQkEsRUFBSzlDLFdBRWpCVixFQUFTRSxRQUFVRixFQUFTQyxXQUFXTyxRQUNwQ2dELEdBQTJCLFFBQWxCQSxFQUFLOUMsV0FHakIrQyxJQUNBZSxFQUFNQyxNQUFNQyxRQUFVLFNDcEYxQnZELFFBQVFDLElBQUlwQixFQUFTQyxZQUNyQixJQUFJNEUsRUFBTSxJQUFJWCxFQUNaLGlCQUNBLHNCQUNBLFVBQ0EsU0FDQSxTQUVGbEUsRUFBU0MsV0FBVzZFLEtBQUtELEdBQ3pCLElBQUlFLEVBQU0sSUFBSWIsRUFDWixpQkFDQSx3Q0FDQSxVQUNBLE9BQ0EsU0FFRmxFLEVBQVNDLFdBQVc2RSxLQUFLQyxHQUN6QixJQUFJQyxFQUFNLElBQUlkLEVBQUssaUJBQWtCLGNBQWUsVUFBVyxNQUFPLFNBQ3RFbEUsRUFBU0MsV0FBVzZFLEtBQUtFLEdBQ3pCekUsSUFDQUksRUFBWVgsRUFBU0MsWUN0QkQsTUFDbEIsSUFBSXVFLEVBQVF2RCxTQUFTNEMsZUFBZSxhQUNoQ29CLEVBQWFoRSxTQUFTNEMsZUFBZSxjQUNyQ3FCLEVBQVlqRSxTQUFTNEMsZUFBZSxhQUNwQ3NCLEVBQWVsRSxTQUFTNEMsZUFBZSxnQkFDN0I1QyxTQUFTNEMsZUFBZSxjQUU5QmUsUUFBVSxXQUNoQk8sRUFBYVYsTUFBTUMsUUFBVSxTQUUvQk8sRUFBV0wsUUFBVSxXQUNuQkosRUFBTUMsTUFBTUMsUUFBVSxTQUV4QlUsT0FBT1IsUUFBVSxTQUFVUyxHQUNyQkEsRUFBTWpDLFFBQVVvQixJQUNsQnJELFFBQVFDLElBQUksZUFDWm9ELEVBQU1DLE1BQU1DLFFBQVUsUUFFcEJXLEVBQU1qQyxRQUFVOEIsSUFDbEJBLEVBQVVULE1BQU1DLFFBQVUsUUFFeEJXLEVBQU1qQyxRQUFVK0IsSUFDbEJBLEVBQWFWLE1BQU1DLFFBQVUsU0FHZHpELFNBQVM0QyxlQUFlLG1CQUM5QmUsUUFBVSxXRmhCVCxNQUNkLElBQUl4QyxFQUFXbkIsU0FBUzRDLGVBQWUsaUJBQWlCOUQsTUFDcER1RixFQUFXckUsU0FBUzRDLGVBQWUsb0JBQW9COUQsTUFDdkR3RixFQUFXdEUsU0FBUzRDLGVBQWUsYUFBYTlELE1BQ2hEeUYsRUFBV3ZFLFNBQVM0QyxlQUFlLGlCQUFpQjlELE1BRXBEMEYsRUFBVSxJQUFJdkIsRUFBSzlCLEVBQVVrRCxFQUFVQyxFQUFVQyxFQUFVLFdBQy9EeEYsRUFBU0MsV0FBVzZFLEtBQUtXLEdBQ0EsUUFBckJBLEVBQVEvRSxVQUNWVixFQUFTRSxRQUFRNEUsS0FBS1csR0FHQyxXQUFyQkEsRUFBUS9FLFVBQ1ZWLEVBQVNHLFFBQVEyRSxLQUFLVyxHQUdDLFNBQXJCQSxFQUFRL0UsVUFDVlYsRUFBU0ksU0FBUzBFLEtBQUtXLEdBRXpCdEUsUUFBUUMsSUFBSXBCLEVBQVNLLFdBQ0ssSUFBdEJMLEVBQVNLLFNBQ1hvRCxJQUVBQyxLRU5BZ0MsR0FDWXpFLFNBQVM0QyxlQUFlLGFBQzlCWSxNQUFNQyxRQUFVLE9BQ3RCekQsU0FBUzRDLGVBQWUsaUJBQWlCOUQsTUFBUSxHQUNqRGtCLFNBQVM0QyxlQUFlLG9CQUFvQjlELE1BQVEsR0FDcERrQixTQUFTNEMsZUFBZSxhQUFhOUQsTUFBUSxHQUM3Q2tCLFNBQVM0QyxlQUFlLGlCQUFpQjhCLGNBQWdCLEdBRzFDMUUsU0FBUzRDLGVBQWUsZUFDOUJlLFFBQVUsV0FDbkI1RSxFQUFTSyxVQUFZTCxFQUFTSyxTQUM5QmMsUUFBUUMsSUFBSXBCLEVBQVNLLFVBQ3JCcUQsS0FHZXpDLFNBQVM0QyxlQUFlLHNCQUM5QmUsUUFBVSxXSnpCSixNQUNqQixJQUFJZ0IsRUFBWTNFLFNBQVM0QyxlQUFlLGVBQWU5RCxNQUN2REMsRUFBU00sU0FBU3dFLEtBQUtjLElJd0JyQkMsR0FDQVYsRUFBYVYsTUFBTUMsUUFBVSxPQUM3QnpELFNBQVM0QyxlQUFlLGVBQWU5RCxNQUFRLElBQy9DLElBQUErRix1QkR6QkosR0FDQW5DLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvLWRvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tdG8tZG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tdG8tZG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLXRvLWRvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IFRvRG9MaXN0ID0gKCgpID0+IHtcclxuICBsZXQgaXNTb3J0ZWQgPSBmYWxzZTtcclxuICBsZXQgbWFzdGVyTGlzdCA9IFtdO1xyXG4gIGxldCBsb3dQcmlvID0gW107XHJcbiAgbGV0IG1lZFByaW8gPSBbXTtcclxuICBsZXQgaGlnaFByaW8gPSBbXTtcclxuICBsZXQgcHJvamVjdHMgPSBbXCJOb25lXCIsIFwiUHVsbHNcIiwgXCJBc2NlbnNpb25cIl07XHJcbiAgcmV0dXJuIHsgbWFzdGVyTGlzdCwgbG93UHJpbywgbWVkUHJpbywgaGlnaFByaW8sIGlzU29ydGVkLCBwcm9qZWN0cyB9O1xyXG59KSgpO1xyXG5cclxuY29uc3Qgc2V0UHJpb0FycmF5cyA9ICgpID0+IHtcclxuICBUb0RvTGlzdC5oaWdoUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJIaWdoXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICApO1xyXG4gIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkUHJvamVjdCA9ICgpID0+IHtcclxuICBsZXQgcHJvaklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZTtcclxuICBUb0RvTGlzdC5wcm9qZWN0cy5wdXNoKHByb2pJbnB1dCk7XHJcbn07XHJcbmV4cG9ydCB7IFRvRG9MaXN0LCBzZXRQcmlvQXJyYXlzLCBhZGRQcm9qZWN0IH07XHJcbiIsImltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBlZGl0VGFzayB9IGZyb20gXCIuL3RvZG9cIjtcclxuY29uc3QgcmVuZGVyVG9Eb3MgPSAoYXJyYXkpID0+IHtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJSb3coaSwgYXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBkZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgY29uc29sZS5sb2coZGVsQnRucyk7XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkZWxCdG5zLmxlbmd0aDsgaisrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBkZWxCdG5zW2pdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWRpdEJ0bnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGVkaXRCdG5zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VGFzayk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUm93ID0gKGksIGFycmF5KSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICAvL0RhdGEga2V5PyA8LS0gTmVlZCB0byBhZGQgdGhlIGRhdGEga2V5IHRvIGVhY2ggZGl2LlxyXG4gIGxldCBkayA9IGFycmF5W2ldLmlkO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuXHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHRpdGxlLmlubmVySFRNTCA9IGFycmF5W2ldLnRhc2tOYW1lO1xyXG4gIHJvdy5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBhcnJheVtpXS5kZXNjcmlwdGlvbjtcclxuICByb3cuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG5cclxuICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0LmlubmVySFRNTCA9IGFycmF5W2ldLnByb2plY3Q7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByb2plY3QpO1xyXG5cclxuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkdWVEYXRlLmlubmVySFRNTCA9IGFycmF5W2ldLmR1ZURhdGU7XHJcbiAgcm93LmFwcGVuZENoaWxkKGR1ZURhdGUpO1xyXG5cclxuICBsZXQgcHJpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcmlvLmlubmVySFRNTCA9IGFycmF5W2ldLnByaW9yaXR5O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcmlvKTtcclxuXHJcbiAgLy9OZWVkIHRvIGNyZWF0ZSBidXR0b25zXHJcblxyXG4gIGxldCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIGxldCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcclxuICBkZWxCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBkZWxCdG4uaW5uZXJIVE1MID0gXCJEZWxldGVcIjtcclxuICBkZWxCdG4uY2xhc3NMaXN0LmFkZChcImRlbC1idG5cIik7XHJcbiAgbGV0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XHJcbiAgZWRpdEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGVkaXRCdG4uaW5uZXJIVE1MID0gXCJFZGl0XCI7XHJcbiAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZWRpdC1idG5cIik7XHJcbiAgcm93LmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xyXG5cclxuICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVJvd3MgPSAoKSA9PiB7XHJcbiAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICB3aGlsZSAoY29udGVudERpdi5maXJzdENoaWxkKSB7XHJcbiAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKGNvbnRlbnREaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlVGFzayA9IChlKSA9PiB7XHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGNvbnNvbGUubG9nKFwiaGVyZVwiLCBpZCk7XHJcbiAgbGV0IGZpbHRlckFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0ID0gZmlsdGVyQXJyO1xyXG4gIHNldFByaW9BcnJheXMoKTtcclxuICByZWZyZXNoQ29udGVudCgpO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5sb3dQcmlvKTtcclxufTtcclxuXHJcbmNvbnN0IHJlZnJlc2hDb250ZW50ID0gKCkgPT4ge1xyXG4gIHJlbW92ZVJvd3MoKTtcclxuICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxufTtcclxuXHJcbmNvbnN0IHNvcnRDb250ZW50ID0gKCkgPT4ge1xyXG4gIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5sb3dQcmlvKTtcclxuICB9IGVsc2UgaWYgKFRvRG9MaXN0LmlzU29ydGVkID09PSBmYWxzZSkge1xyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcclxuICBsZXQgcHJvamVjdElucHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIik7XHJcbiAgbGV0IGVkaXRQcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKTtcclxuICB3aGlsZSAocHJvamVjdElucHV0RGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMikge1xyXG4gICAgcHJvamVjdElucHV0RGl2LnJlbW92ZUNoaWxkKHByb2plY3RJbnB1dERpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICB3aGlsZSAoZWRpdFByb2pEaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBlZGl0UHJvakRpdi5yZW1vdmVDaGlsZChlZGl0UHJvakRpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgcHJvamVjdElucHV0RGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBlZGl0UHJvakRpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IHsgcmVuZGVyVG9Eb3MsIHJlZnJlc2hDb250ZW50LCBzb3J0Q29udGVudCwgcmVuZGVyUHJvamVjdHMgfTtcclxuXHJcbi8vVXNlIHF1ZXJ5IHNlbGVjdG9yIHRvIGdldCBhcnJheSBvZiBkaXZzIHRoYXQgaGFzIHRoZSBkYXRhIGF0dHJpYnV0ZSBJIHdhbnQgdG8gcmVtb3ZlXHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyByZWZyZXNoQ29udGVudCwgc29ydENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcblxyXG5jb25zdCBUb0RvID0gZnVuY3Rpb24gKHRhc2tOYW1lLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcclxuICB0aGlzLnRhc2tOYW1lID0gdGFza05hbWU7XHJcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcclxuICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gIHRoaXMuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFRvRG8gPSAoKSA9PiB7XHJcbiAgbGV0IHRhc2tOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikudmFsdWU7XHJcblxyXG4gIGxldCBuZXdUYXNrID0gbmV3IFRvRG8odGFza05hbWUsIHRhc2tEZXNjLCB0YXNrRGF0ZSwgdGFza1ByaW8sIFwiZGVmYXVsdFwiKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2gobmV3VGFzayk7XHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTG93XCIpIHtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSB7XHJcbiAgICBUb0RvTGlzdC5tZWRQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJIaWdoXCIpIHtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LmlzU29ydGVkKTtcclxuICBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IGZhbHNlKSB7XHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3J0Q29udGVudCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGVkaXRUYXNrID0gKGUpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgbGV0IGluZGV4ID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0Lm1hc3Rlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiVERMIElEXCIsIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpO1xyXG4gICAgaWYgKGlkID09IFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpIHtcclxuICAgICAgaW5kZXggPSBpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJpZCBcIiwgaWQpO1xyXG4gIGNvbnNvbGUubG9nKFwiaW5kZXggXCIsIGluZGV4KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kZXNjcmlwdGlvbjtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0O1xyXG5cclxuICBsZXQgc2F2ZUNoYW5nZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgICApO1xyXG5cclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCB7IFRvRG8sIGFkZFRvRG8sIGVkaXRUYXNrIH07XHJcbi8vSG93IHRvIGhhbmRsZSBwcm9qZWN0cz9cclxuLy9IYXZlIGFuIG92ZXJhY3JjaGluZyBhcnJheSB0aGF0IGhvbGRzIG9iamVjdHMgYW5kIHN1YmFycmF5cyBmb3IgZWFjaCBwcm9qZWN0PyA8LS0gU2VlbXMgbGlrZWx5XHJcbi8vIEhhdmUgYW4gb3ZlcmFyY2hpbmcgYXJyYXkgYW5kIGZpbHRlciB3aGVuIG5lY2Vzc2FyeSBmb3IgcHJvamVjdHNcclxuIiwiaW1wb3J0IHsgVG9EbyB9IGZyb20gXCIuL21vZHVsZXMvdG9kb1wiO1xyXG5pbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL21vZHVsZXMvbGlzdFwiO1xyXG5pbXBvcnQgeyByZW5kZXJQcm9qZWN0cywgcmVuZGVyVG9Eb3MgfSBmcm9tIFwiLi9tb2R1bGVzL2NvbnRlbnRcIjtcclxuaW1wb3J0IGluaXRCdXR0b25zIGZyb20gXCIuL21vZHVsZXMvYnV0dG9uc1wiO1xyXG5cclxuY29uc29sZS5sb2coVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbmxldCB0ZDIgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIFllbGFuXCIsXHJcbiAgXCJQdWxsIFllbGFuIGJjIG1vbW15XCIsXHJcbiAgXCI1LzEwLzIyXCIsXHJcbiAgXCJNZWRpdW1cIixcclxuICBcIlB1bGxzXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMik7XHJcbmxldCB0ZDEgPSBuZXcgVG9EbyhcclxuICBcIlJvbGwgZm9yIEF5YWthXCIsXHJcbiAgXCJVc2UgYWxsIG1lYW5zIG5lY2Vzc2FyeSB0byBwdWxsIEF5YWthXCIsXHJcbiAgXCI0LzE5LzIyXCIsXHJcbiAgXCJIaWdoXCIsXHJcbiAgXCJQdWxsc1wiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDEpO1xyXG5sZXQgdGQzID0gbmV3IFRvRG8oXCJSb2xsIGZvciBBeWF0b1wiLCBcIiBwdWxsIEF5YXRvXCIsIFwiNC8xOS8yMlwiLCBcIkxvd1wiLCBcIlB1bGxzXCIpO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQzKTtcclxuc2V0UHJpb0FycmF5cygpO1xyXG5yZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuaW5pdEJ1dHRvbnMoKTtcclxucmVuZGVyUHJvamVjdHMoKTtcclxuXHJcbi8qXHJcbk5vdGVzOlxyXG4tT24gYWRkIHRhc2sgZm9ybSBuZWVkIGEgcGxhY2UgdG8gc2VsZWN0IHdoaWNoIHByb2plY3QgdG8gYWRkIHRoZSB0byBkbyB0by4gQWxsb3cgZm9yIG11bHRpcGxlIHByb2plY3Qgc2VsZWN0aW9uIChNYXliZSBub3QpXHJcbi1OZWVkIGFuIGVkaXQgdGFzayBidXR0b24gb24gZWFjaCB0YXNrIHJvd1xyXG4tTmVlZCB0byBmaWd1cmUgb3V0IHdoZXJlIHRvIGNyZWF0ZSBuZXcgcHJvamVjdHNcclxuLVZpZXcgYWxsIHRhc2tzIG5lZWRzIHRvIGRpc3BsYXkgcHJvamVjdCBuYW1lc1xyXG5cclxuUGxhbiBvZiBhdHRhY2s6XHJcbipBZGQgYSBmZXcgZHVtbXkgdG8gZG8gb2JqZWN0cyBhbmQgZ2V0IHRoZW0gcmVuZGVyaW5nIHRvIHRoZSBkb21cclxuKlNldCB1cCB0aGUgYWRkIHRhc2sgYnV0dG9uIFxyXG4qU2V0IHVwIHRhc2sgZWRpdGluZyA8LS0gTW9kYWwgd2l0aCB0aGUgdGFza3MgZGF0YSBwcmUtZmlsbGVkIGludG8gYSBmb3JtLiBcclxuLS1OZWVkIGEgZGlzY2FyZCBjaGFuZ2UgYnV0dG9uIFxyXG4qKk5lZWQgYSBzYXZlIGNoYW5nZSBidXR0b24gXHJcbipTZXQgdXAgc29ydGluZyBcclxuLS1NYXliZSBhZGQgd2hpY2ggd2F5IHRvIGJlIHNvcnRlZD8gU3RyZWNoIGdvYWw/XHJcbipTZXQgdXAgcmV2ZXJ0aW5nIHNvcnRpbmcgPC0tIFJlIHJlbmRlciBmcm9tIG1hc3RlciBieSBjaGVja2luZyBpc1NvcnRpbmcgZm9yIGZhbHNlXHJcbi1TZXQgdXAgcHJvamVjdHNcclxuKiogQWRkIHByb2plY3QgYnV0dG9uXHJcbioqIEFkZCBwcm9qZWN0IHNlbGVjdGlvbiBvbiBhZGQgdGFzayBmb3JtXHJcbi0tIEVkaXQgUHJvamVjdHMgTW9kYWwuICg/KVxyXG4tLSBBZGQgcHJvamVjdCB2aWV3cyA8LS0gQ2FuIGRlZmluaXRlbHkgZG9cclxuLS0gUmUgcmVuZGVyIHRhYmxlIHdpdGggYSBmaWx0ZXJlZCBhcnJheSBmb3IgdGhlIHByb2plY3QgdGhleSB3YW50IHRvIHZpZXcuIFxyXG5cclxuKi9cclxuIiwiaW1wb3J0IHsgYWRkVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuaW1wb3J0IHsgcmVuZGVyTmV3UHJvamVjdHMsIHJlbmRlclByb2plY3RzLCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgYWRkUHJvamVjdCwgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmNvbnN0IGluaXRCdXR0b25zID0gKCkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcblxyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgbW9kYWxcIik7XHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgbGV0IHN1Ym1pdGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXRhc2stYnRuXCIpO1xyXG4gIHN1Ym1pdGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkVG9EbygpO1xyXG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTW9kYWxcIik7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICB9O1xyXG5cclxuICBsZXQgc29ydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFRhc2tCdG5cIik7XHJcbiAgc29ydEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QuaXNTb3J0ZWQgPSAhVG9Eb0xpc3QuaXNTb3J0ZWQ7XHJcbiAgICBjb25zb2xlLmxvZyhUb0RvTGlzdC5pc1NvcnRlZCk7XHJcbiAgICBzb3J0Q29udGVudCgpO1xyXG4gIH07XHJcblxyXG4gIGxldCBhZGRQcm9qQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtcHJvamVjdC1idG5cIik7XHJcbiAgYWRkUHJvakJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkUHJvamVjdCgpO1xyXG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE5hbWVcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgcmVuZGVyTmV3UHJvamVjdHMoKTtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdEJ1dHRvbnM7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJUb0RvTGlzdCIsIm1hc3Rlckxpc3QiLCJsb3dQcmlvIiwibWVkUHJpbyIsImhpZ2hQcmlvIiwiaXNTb3J0ZWQiLCJwcm9qZWN0cyIsInNldFByaW9BcnJheXMiLCJmaWx0ZXIiLCJ0YXNrcyIsInByaW9yaXR5IiwicmVuZGVyVG9Eb3MiLCJhcnJheSIsImkiLCJsZW5ndGgiLCJyZW5kZXJSb3ciLCJkZWxCdG5zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVGFzayIsImVkaXRCdG5zIiwiayIsImVkaXRUYXNrIiwidGFibGVCb2R5IiwicXVlcnlTZWxlY3RvciIsImRrIiwiaWQiLCJyb3ciLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidGl0bGUiLCJpbm5lckhUTUwiLCJ0YXNrTmFtZSIsImFwcGVuZENoaWxkIiwiZGVzY3JpcHRpb24iLCJwcm9qZWN0IiwiZHVlRGF0ZSIsInByaW8iLCJidXR0b25zIiwiZGVsQnRuIiwiY2xhc3NMaXN0IiwiYWRkIiwiZWRpdEJ0biIsInJlbW92ZVJvd3MiLCJjb250ZW50RGl2IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJmaWx0ZXJBcnIiLCJ0YXNrIiwicmVmcmVzaENvbnRlbnQiLCJzb3J0Q29udGVudCIsInJlbmRlclByb2plY3RzIiwicHJvamVjdElucHV0RGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJlZGl0UHJvakRpdiIsImNoaWxkTm9kZXMiLCJsYXN0Q2hpbGQiLCJvcHQiLCJUb0RvIiwidGhpcyIsImNvbXBsZXRlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW9kYWwiLCJzdHlsZSIsImRpc3BsYXkiLCJpbmRleCIsIm9uY2xpY2siLCJ0ZDIiLCJwdXNoIiwidGQxIiwidGQzIiwidGFza0J1dHRvbiIsImVkaXRNb2RhbCIsInByb2plY3RNb2RhbCIsIndpbmRvdyIsImV2ZW50IiwidGFza0Rlc2MiLCJ0YXNrRGF0ZSIsInRhc2tQcmlvIiwibmV3VGFzayIsImFkZFRvRG8iLCJzZWxlY3RlZEluZGV4IiwicHJvaklucHV0IiwiYWRkUHJvamVjdCIsInJlbmRlck5ld1Byb2plY3RzIl0sInNvdXJjZVJvb3QiOiIifQ==