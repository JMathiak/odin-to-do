(()=>{"use strict";const e=e=>{let o=["Task Name","Description","Project","Due Date","Priority",""],i=document.getElementById("task-table"),d=document.createElement("tr");i.prepend(d);for(let e=0;e<o.length;e++){let t=document.createElement("th");t.innerHTML=o[e],d.appendChild(t)}for(let o=0;o<e.length;o++)t(o,e);const s=document.getElementsByClassName("del-btn");console.log(s);for(let e=0;e<s.length;e++)console.log("here"),s[e].addEventListener("click",l);const r=document.getElementsByClassName("edit-btn");for(let e=0;e<r.length;e++)r[e].addEventListener("click",L);const a=document.getElementsByClassName("comp-btn");for(let e=0;e<a.length;e++)console.log(a[e].id),a[e].id,a[e].addEventListener("click",n)},t=(e,t)=>{let o=document.querySelector("#task-table-body"),l=t[e].id,n=document.createElement("tr");1==t[e].complete&&n.classList.add("complete"),n.setAttribute("data-key",l),n.id="task-"+l,n.classList.add("task-item");let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].project,n.appendChild(s);let r=document.createElement("td"),a=t[e].dueDate.split("-"),c=a[1]+"-"+a[2]+"-"+a[0];r.innerHTML=c,n.appendChild(r);let m=document.createElement("td");m.innerHTML=t[e].priority,n.appendChild(m);let u=document.createElement("td");u.setAttribute("data-key",l);let p=document.createElement("button"),g=document.createElement("button");u.appendChild(g),g.setAttribute("type","button"),g.innerHTML='<i class="fa-solid fa-check"></i>',g.classList.add("comp-btn"),g.id=l,u.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-trash"></i>',p.classList.add("del-btn");let y=document.createElement("button");u.appendChild(y),y.setAttribute("type","button"),y.innerHTML='<i class="fa-solid fa-pencil"></i>',y.classList.add("edit-btn"),n.appendChild(u),o.appendChild(n)},o=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},l=e=>{let t=e.target.parentNode.parentNode.getAttribute("data-key");console.log("here",t);let o=E.masterList.indexOf(E.masterList.find((e=>e.id==t))),l=E.masterList.filter((e=>e.id!=t));E.masterList=l,h(),i();let n="task-"+o;localStorage.removeItem(n)},n=e=>{console.log("Complete Task");let t=e.target.parentNode.parentNode.getAttribute("data-key");console.log(t);let o='[data-key="'+t+'"]',l=document.querySelector(o);console.log(l);for(let e=0;e<E.masterList.length;e++)E.masterList[e].id==t&&(!1===E.masterList[e].complete?(l.classList.add("complete"),E.masterList[e].complete=!0):!0===E.masterList[e].complete&&(l.classList.remove("complete"),E.masterList[e].complete=!1));console.log(l.classList)},i=()=>{o(),r(),e(E.masterList)},d=t=>{if(r(),"default"===t&&(o(),e(E.masterList)),"lowToHigh"===t&&(o(),e(E.lowPrio),e(E.medPrio),e(E.highPrio)),"highToLow"===t&&(o(),e(E.highPrio),e(E.medPrio),e(E.lowPrio)),"projectSorting"===t){o();for(let t=0;t<E.projects.length;t++){let o=E.masterList.filter((e=>e.project==E.projects[t]));console.log(o),e(o.filter((e=>"High"===e.priority))),e(o.filter((e=>"Medium"===e.priority))),e(o.filter((e=>"Low"===e.priority)))}}},s=()=>{let e=document.getElementById("projectInput"),t=document.getElementById("projectEdit");for(;e.childNodes.length>2;)e.removeChild(e.lastChild);for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(let t=0;t<E.projects.length;t++){let o=document.createElement("option");o.value=E.projects[t],o.innerHTML=E.projects[t],e.appendChild(o)}for(let e=0;e<E.projects.length;e++){let o=document.createElement("option");o.value=E.projects[e],o.innerHTML=E.projects[e],t.appendChild(o)}},r=()=>{let e=document.getElementById("task-table");e.removeChild(e.firstChild)},a=()=>{document.getElementById("task-table-body");for(let e=1;e<E.projects.length;e++)c(e);const e=document.getElementsByClassName("del-btn");for(let t=0;t<e.length;t++)e[t].addEventListener("click",p);const t=document.getElementsByClassName("edit-btn");for(let e=0;e<t.length;e++)t[e].addEventListener("click",g)},c=e=>{let t=document.querySelector("#task-table-body"),o=document.createElement("tr");o.setAttribute("data-key",e),o.id="task-"+e,o.classList.add("task-item");let l=document.createElement("td");l.innerHTML=E.projects[e],o.appendChild(l);let n=document.createElement("td");n.id=e,n.setAttribute("data-key",e);let i=document.createElement("button");n.appendChild(i),i.setAttribute("type","button"),i.innerHTML='<i class="fa-solid fa-trash"></i>',i.classList.add("del-btn"),i.id=e;let d=document.createElement("button");n.appendChild(d),d.setAttribute("type","button"),d.innerHTML='<i class="fa-solid fa-pencil"></i>',d.classList.add("edit-btn"),d.id=e,o.appendChild(n),t.appendChild(o)},m=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},u=()=>{m(),a()},p=e=>{let t=e.target.parentNode.id;console.log(t);let o=E.projects[t];console.log(o);let l=E.projects.filter((e=>e!=o));E.projects=l,u();let n="project-"+t;localStorage.removeItem(n)},g=e=>{let t=document.getElementById("editProjectModal");t.style.display="block",console.log(t);let o=e.target.parentNode.id;console.log(e.target.parentNode);let l=E.projects[o];document.getElementById("editProjectName").value=l,document.getElementById("submit-project-edit-btn").onclick=function(){E.projects[o]=document.getElementById("editProjectName").value;let e=document.getElementById("editProjectName").value;for(let t=0;t<E.masterList.length;t++)E.masterList[t].project===l&&(E.masterList[t].project=e);t.style.display="none",u();let n="project-"+o;localStorage.removeItem(n),localStorage.setItem(n,E.projects[o])}},y=()=>{let e=localStorage.getItem("task-3");console.log(e)},E={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None"],viewingProjects:!1},h=()=>{E.highPrio=E.masterList.filter((e=>"High"===e.priority)),E.medPrio=E.masterList.filter((e=>"Medium"===e.priority)),E.lowPrio=E.masterList.filter((e=>"Low"===e.priority))},I=function(e,t,o,l,n){this.taskName=e,this.description=t,this.dueDate=o,this.priority=l,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},L=e=>{let t=document.getElementById("editModal");t.style.display="block";let o=e.target.parentNode.parentNode.getAttribute("data-key"),l=0;for(let e=0;e<E.masterList.length;e++)console.log("TDL ID",E.masterList[e].id),o==E.masterList[e].id&&(l=e);console.log("id ",o),console.log("index ",l),document.getElementById("taskNameEdit").value=E.masterList[l].taskName,document.getElementById("descriptionEdit").value=E.masterList[l].description,document.getElementById("dateEdit").value=E.masterList[l].dueDate,document.getElementById("priorityEdit").value=E.masterList[l].priority,document.getElementById("projectEdit").value=E.masterList[l].project,document.getElementById("submit-edit-btn").onclick=function(){E.masterList[l].taskName=document.getElementById("taskNameEdit").value,E.masterList[l].description=document.getElementById("descriptionEdit").value,E.masterList[l].dueDate=document.getElementById("dateEdit").value,E.masterList[l].priority=document.getElementById("priorityEdit").value,E.masterList[l].project=document.getElementById("projectEdit").value,E.highPrio=E.masterList.filter((e=>"High"===e.priority)),E.medPrio=E.masterList.filter((e=>"Medium"===e.priority)),E.lowPrio=E.masterList.filter((e=>"Low"===e.priority)),i(),t.style.display="none";let e="task-"+l;localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(E.masterList[l]))}};Object.keys(localStorage).forEach((function(e){if(console.log(localStorage.getItem(e)),e.includes("task")){const t=JSON.parse(localStorage.getItem(e));console.log(t);let o=new I(t.taskName,t.description,t.dueDate,t.priority,t.project);E.masterList.push(o)}e.includes("project")&&E.projects.push(localStorage.getItem(e))})),h(),e(E.masterList),(()=>{let t=document.getElementById("taskModal"),l=document.getElementById("newTaskBtn"),n=document.getElementById("editModal"),c=document.getElementById("projectModal"),p=document.getElementById("newProject"),g=document.getElementById("sortModal"),h=document.getElementById("editProjectModal");p.onclick=function(){c.style.display="block"},l.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0),e.target==n&&(n.style.display="none"),e.target==c&&(c.style.display="none",document.getElementById("projectName").value=""),e.target==g&&(g.style.display="none"),e.target==h&&(h.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let e=document.getElementById("taskNameInput").value,t=document.getElementById("descriptionInput").value,o=document.getElementById("dateInput").value,l=document.getElementById("priorityInput").value,n=document.getElementById("projectInput").value,s=new I(e,t,o,l,n);E.masterList.push(s),"Low"===s.priority&&E.lowPrio.push(s),"Medium"===s.priority&&E.medPrio.push(s),"High"===s.priority&&E.highPrio.push(s),console.log(E.isSorted),console.log(E.viewingProjects),!1===E.viewingProjects&&(!1===E.isSorted?i():d()),((e,t)=>{let o="task-"+e,l=JSON.stringify(t);localStorage.setItem(o,l)})(E.masterList.indexOf(s),s),y()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0};let L=document.getElementById("sortType");L.onchange=function(){console.log("here");let e=L.value;d(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let e=document.getElementById("projectName").value;E.projects.push(e),((e,t)=>{let o="project-"+e;localStorage.setItem(o,t)})(E.projects.indexOf(e),e),y(),1==E.viewingProjects&&u()})(),c.style.display="none",document.getElementById("projectName").value="",s()},document.getElementById("project-view").onclick=function(){E.viewingProjects=!0,o(),r(),(()=>{let e=document.getElementById("task-table"),t=["Project Name",""],o=document.createElement("tr");e.prepend(o);for(let e=0;e<t.length;e++){let l=document.createElement("th");l.innerHTML=t[e],o.appendChild(l)}})(),a()},document.getElementById("all-tasks").onclick=function(){E.viewingProjects=!1,r(),m(),e(E.masterList)},document.getElementById("complete-tasks").onclick=function(){E.viewingProjects=!1,r(),m(),e(E.masterList.filter((e=>1==e.complete)))},document.getElementById("incomplete-tasks").onclick=function(){E.viewingProjects=!1,r(),m(),e(E.masterList.filter((e=>0==e.complete)))}})(),s()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCLEVBQzNCdkMsSUFDQXdCLElBQ0FuRyxFQUFZNkQsRUFBU0MsV0FBV0ssUUFBUUYsR0FBMEIsR0FBakJBLEVBQUsvQixjRHZGMUQsR0FDQWtELEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvY29udGVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvcHJvamVjdFZpZXcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgZWRpdFRhc2ssIFRvRG8gfSBmcm9tIFwiLi90b2RvXCI7XHJcbmNvbnN0IHJlbmRlclRvRG9zID0gKGFycmF5KSA9PiB7XHJcbiAgbGV0IGhlYWRlckFyciA9IFtcclxuICAgIFwiVGFzayBOYW1lXCIsXHJcbiAgICBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICBcIlByb2plY3RcIixcclxuICAgIFwiRHVlIERhdGVcIixcclxuICAgIFwiUHJpb3JpdHlcIixcclxuICAgIFwiXCIsXHJcbiAgXTtcclxuICBsZXQgdGFza0hlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFzay10YWJsZVwiKTtcclxuICBsZXQgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHRhc2tIZWFkZXIucHJlcGVuZChoZWFkZXJEaXYpO1xyXG4gIGZvciAobGV0IHMgPSAwOyBzIDwgaGVhZGVyQXJyLmxlbmd0aDsgcysrKSB7XHJcbiAgICBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICB0aC5pbm5lckhUTUwgPSBoZWFkZXJBcnJbc107XHJcbiAgICBoZWFkZXJEaXYuYXBwZW5kQ2hpbGQodGgpO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICByZW5kZXJSb3coaSwgYXJyYXkpO1xyXG4gIH1cclxuICBjb25zdCBkZWxCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgY29uc29sZS5sb2coZGVsQnRucyk7XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBkZWxCdG5zLmxlbmd0aDsgaisrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBkZWxCdG5zW2pdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdG5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWRpdEJ0bnMubGVuZ3RoOyBrKyspIHtcclxuICAgIGVkaXRCdG5zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0VGFzayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb21wbGV0ZUJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29tcC1idG5cIik7XHJcbiAgZm9yIChsZXQgbCA9IDA7IGwgPCBjb21wbGV0ZUJ0bnMubGVuZ3RoOyBsKyspIHtcclxuICAgIGNvbnNvbGUubG9nKGNvbXBsZXRlQnRuc1tsXS5pZCk7XHJcbiAgICBsZXQgYnRuSWQgPSBjb21wbGV0ZUJ0bnNbbF0uaWQ7XHJcbiAgICBjb21wbGV0ZUJ0bnNbbF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbXBsZXRlVGFzayk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUm93ID0gKGksIGFycmF5KSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG5cclxuICAvL0RhdGEga2V5PyA8LS0gTmVlZCB0byBhZGQgdGhlIGRhdGEga2V5IHRvIGVhY2ggZGl2LlxyXG4gIGxldCBkayA9IGFycmF5W2ldLmlkO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgaWYgKGFycmF5W2ldLmNvbXBsZXRlID09IHRydWUpIHtcclxuICAgIHJvdy5jbGFzc0xpc3QuYWRkKFwiY29tcGxldGVcIik7XHJcbiAgfVxyXG4gIHJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcbiAgcm93LmlkID0gXCJ0YXNrLVwiICsgZGs7XHJcbiAgcm93LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW1cIik7XHJcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHRpdGxlLmlubmVySFRNTCA9IGFycmF5W2ldLnRhc2tOYW1lO1xyXG4gIHJvdy5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBhcnJheVtpXS5kZXNjcmlwdGlvbjtcclxuICByb3cuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xyXG5cclxuICBsZXQgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0LmlubmVySFRNTCA9IGFycmF5W2ldLnByb2plY3Q7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByb2plY3QpO1xyXG5cclxuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBsZXQgc3BsaXREYXRlID0gYXJyYXlbaV0uZHVlRGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgbGV0IGZvcm1hdHRlZERhdGUgPSBzcGxpdERhdGVbMV0gKyBcIi1cIiArIHNwbGl0RGF0ZVsyXSArIFwiLVwiICsgc3BsaXREYXRlWzBdO1xyXG4gIGR1ZURhdGUuaW5uZXJIVE1MID0gZm9ybWF0dGVkRGF0ZTtcclxuICByb3cuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XHJcblxyXG4gIGxldCBwcmlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gIHByaW8uaW5uZXJIVE1MID0gYXJyYXlbaV0ucHJpb3JpdHk7XHJcbiAgcm93LmFwcGVuZENoaWxkKHByaW8pO1xyXG5cclxuICAvL05lZWQgdG8gY3JlYXRlIGJ1dHRvbnNcclxuXHJcbiAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgYnV0dG9ucy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcbiAgbGV0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgbGV0IGNvbXBCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoY29tcEJ0bik7XHJcbiAgY29tcEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGNvbXBCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmEtc29saWQgZmEtY2hlY2tcIj48L2k+YDtcclxuICBjb21wQnRuLmNsYXNzTGlzdC5hZGQoXCJjb21wLWJ0blwiKTtcclxuICBjb21wQnRuLmlkID0gZGs7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChkZWxCdG4pO1xyXG4gIGRlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gIGRlbEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS10cmFzaFwiPjwvaT5gO1xyXG4gIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsLWJ0blwiKTtcclxuICBsZXQgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChlZGl0QnRuKTtcclxuICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZWRpdEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1wZW5jaWxcIj48L2k+YDtcclxuICBlZGl0QnRuLmNsYXNzTGlzdC5hZGQoXCJlZGl0LWJ0blwiKTtcclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUm93cyA9ICgpID0+IHtcclxuICBsZXQgY29udGVudERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIHdoaWxlIChjb250ZW50RGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGNvbnRlbnREaXYucmVtb3ZlQ2hpbGQoY29udGVudERpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXNrID0gKGUpID0+IHtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coXCJoZXJlXCIsIGlkKTtcclxuICBsZXQgaW5kID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5pbmRleE9mKFxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdC5maW5kKCh0YXNrKSA9PiB0YXNrLmlkID09IGlkKVxyXG4gICk7XHJcbiAgbGV0IGZpbHRlckFyciA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9IGlkKTtcclxuICBUb0RvTGlzdC5tYXN0ZXJMaXN0ID0gZmlsdGVyQXJyO1xyXG4gIHNldFByaW9BcnJheXMoKTtcclxuICByZWZyZXNoQ29udGVudCgpO1xyXG5cclxuICBsZXQga2V5ID0gXCJ0YXNrLVwiICsgaW5kO1xyXG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbn07XHJcblxyXG5jb25zdCBjb21wbGV0ZVRhc2sgPSAoZSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiQ29tcGxldGUgVGFza1wiKTtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coaWQpO1xyXG4gIGxldCByb3dJZCA9IFwiW2RhdGEta2V5PVwiICsgYFwiYCArIGlkICsgYFwiXWA7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iocm93SWQpO1xyXG4gIGNvbnNvbGUubG9nKHJvdyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5tYXN0ZXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCA9PSBpZCkge1xyXG4gICAgICBpZiAoVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5jb21wbGV0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICByb3cuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPT09IHRydWUpIHtcclxuICAgICAgICByb3cuY2xhc3NMaXN0LnJlbW92ZShcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjb25zb2xlLmxvZyhyb3cuY2xhc3NMaXN0KTtcclxufTtcclxuXHJcbmNvbnN0IHJlZnJlc2hDb250ZW50ID0gKCkgPT4ge1xyXG4gIHJlbW92ZVJvd3MoKTtcclxuICByZW1vdmVIZWFkZXJzKCk7XHJcbiAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCBzb3J0Q29udGVudCA9IChzb3J0VHlwZSkgPT4ge1xyXG4gIHJlbW92ZUhlYWRlcnMoKTtcclxuICBpZiAoc29ydFR5cGUgPT09IFwiZGVmYXVsdFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuICB9XHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImxvd1RvSGlnaFwiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5sb3dQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImhpZ2hUb0xvd1wiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lmxvd1ByaW8pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNvcnRUeXBlID09PSBcInByb2plY3RTb3J0aW5nXCIpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHByb2pBcnIgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgICAodGFza3MpID0+IHRhc2tzLnByb2plY3QgPT0gVG9Eb0xpc3QucHJvamVjdHNbaV1cclxuICAgICAgKTtcclxuICAgICAgY29uc29sZS5sb2cocHJvakFycik7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIuZmlsdGVyKCh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiSGlnaFwiKSk7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIuZmlsdGVyKCh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpKTtcclxuICAgICAgcmVuZGVyVG9Eb3MocHJvakFyci5maWx0ZXIoKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIikpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qZWN0SW5wdXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJbnB1dFwiKTtcclxuICBsZXQgZWRpdFByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpO1xyXG4gIHdoaWxlIChwcm9qZWN0SW5wdXREaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBwcm9qZWN0SW5wdXREaXYucmVtb3ZlQ2hpbGQocHJvamVjdElucHV0RGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIHdoaWxlIChlZGl0UHJvakRpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIGVkaXRQcm9qRGl2LnJlbW92ZUNoaWxkKGVkaXRQcm9qRGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBwcm9qZWN0SW5wdXREaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIGVkaXRQcm9qRGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlSGVhZGVycyA9ICgpID0+IHtcclxuICBsZXQgaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlXCIpO1xyXG4gIGhlYWRlci5yZW1vdmVDaGlsZChoZWFkZXIuZmlyc3RDaGlsZCk7XHJcbn07XHJcbmV4cG9ydCB7XHJcbiAgcmVuZGVyVG9Eb3MsXHJcbiAgcmVmcmVzaENvbnRlbnQsXHJcbiAgc29ydENvbnRlbnQsXHJcbiAgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsXHJcbiAgY29tcGxldGVUYXNrLFxyXG4gIHJlbW92ZVJvd3MsXHJcbiAgcmVtb3ZlSGVhZGVycyxcclxufTtcclxuXHJcbi8vVXNlIHF1ZXJ5IHNlbGVjdG9yIHRvIGdldCBhcnJheSBvZiBkaXZzIHRoYXQgaGFzIHRoZSBkYXRhIGF0dHJpYnV0ZSBJIHdhbnQgdG8gcmVtb3ZlXHJcbiIsImltcG9ydCB7XHJcbiAgcmVtb3ZlSGVhZGVycyxcclxuICByZW1vdmVSb3dzLFxyXG4gIHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzLFxyXG59IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcblxyXG5jb25zdCBwcmVwYXJlRGl2ID0gKCkgPT4ge1xyXG4gIHJlbW92ZVJvd3MoKTtcclxuICByZW1vdmVIZWFkZXJzKCk7XHJcbiAgcmVuZGVyUHJvamVjdEhlYWRlcnMoKTtcclxuICByZW5kZXJQcm9qZWN0cygpO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdEhlYWRlcnMgPSAoKSA9PiB7XHJcbiAgbGV0IHRhYmxlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlXCIpO1xyXG4gIGxldCBwcm9qZWN0SGVhZGVycyA9IFtcIlByb2plY3QgTmFtZVwiLCBcIlwiXTtcclxuICBsZXQgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHRhYmxlRGl2LnByZXBlbmQoaGVhZGVyRGl2KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3RIZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICB0aC5pbm5lckhUTUwgPSBwcm9qZWN0SGVhZGVyc1tpXTtcclxuICAgIGhlYWRlckRpdi5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgfVxyXG59O1xyXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXRhYmxlLWJvZHlcIik7XHJcblxyXG4gIGZvciAobGV0IGogPSAxOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIHJlbmRlclByb2plY3RSb3coaik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBkZWxldGVCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImRlbC1idG5cIik7XHJcbiAgZm9yIChsZXQgayA9IDA7IGsgPCBkZWxldGVCdXR0b25zLmxlbmd0aDsgaysrKSB7XHJcbiAgICBkZWxldGVCdXR0b25zW2tdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVQcm9qZWN0KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVkaXRCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImVkaXQtYnRuXCIpO1xyXG4gIGZvciAobGV0IGwgPSAwOyBsIDwgZWRpdEJ1dHRvbnMubGVuZ3RoOyBsKyspIHtcclxuICAgIGVkaXRCdXR0b25zW2xdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlZGl0UHJvamVjdCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdFJvdyA9IChpKSA9PiB7XHJcbiAgbGV0IHRhYmxlQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay10YWJsZS1ib2R5XCIpO1xyXG4gIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgcm93LnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGkpO1xyXG4gIHJvdy5pZCA9IFwidGFzay1cIiArIGk7XHJcbiAgcm93LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWl0ZW1cIik7XHJcblxyXG4gIGxldCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBwcm9qZWN0TmFtZS5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tpXTtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xyXG5cclxuICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBidXR0b25zLmlkID0gaTtcclxuICBidXR0b25zLnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGkpO1xyXG5cclxuICBsZXQgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGRlbEJ0bik7XHJcbiAgZGVsQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZGVsQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPmA7XHJcbiAgZGVsQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWwtYnRuXCIpO1xyXG4gIGRlbEJ0bi5pZCA9IGk7XHJcblxyXG4gIGxldCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBlZGl0QnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBlbmNpbFwiPjwvaT5gO1xyXG4gIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnRuXCIpO1xyXG4gIGVkaXRCdG4uaWQgPSBpO1xyXG5cclxuICByb3cuYXBwZW5kQ2hpbGQoYnV0dG9ucyk7XHJcblxyXG4gIHRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlUHJvamVjdFJvd3MgPSAoKSA9PiB7XHJcbiAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuICB3aGlsZSAoY29udGVudERpdi5maXJzdENoaWxkKSB7XHJcbiAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKGNvbnRlbnREaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVmcmVzaFByb2plY3RzID0gKCkgPT4ge1xyXG4gIHJlbW92ZVByb2plY3RSb3dzKCk7XHJcbiAgcmVuZGVyUHJvamVjdHMoKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVByb2plY3QgPSAoZSkgPT4ge1xyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUuaWQ7XHJcbiAgY29uc29sZS5sb2coaWQpO1xyXG4gIGxldCB0YXJnZXQgPSBUb0RvTGlzdC5wcm9qZWN0c1tpZF07XHJcbiAgY29uc29sZS5sb2codGFyZ2V0KTtcclxuICBsZXQgZmlsdGVyZWRBcnIgPSBUb0RvTGlzdC5wcm9qZWN0cy5maWx0ZXIoKHRhc2spID0+IHRhc2sgIT0gdGFyZ2V0KTtcclxuICBUb0RvTGlzdC5wcm9qZWN0cyA9IGZpbHRlcmVkQXJyO1xyXG4gIHJlZnJlc2hQcm9qZWN0cygpO1xyXG4gIGxldCBrZXkgPSBcInByb2plY3QtXCIgKyBpZDtcclxuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG59O1xyXG5cclxuY29uc3QgZWRpdFByb2plY3QgPSAoZSkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFByb2plY3RNb2RhbFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIGNvbnNvbGUubG9nKG1vZGFsKTtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLmlkO1xyXG4gIGNvbnNvbGUubG9nKGUudGFyZ2V0LnBhcmVudE5vZGUpO1xyXG4gIGxldCBvbGRQcm9qZWN0TmFtZSA9IFRvRG9MaXN0LnByb2plY3RzW2lkXTtcclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJvamVjdE5hbWVcIikudmFsdWUgPSBvbGRQcm9qZWN0TmFtZTtcclxuXHJcbiAgbGV0IHNhdmVDaGFuZ2VzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtcHJvamVjdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QucHJvamVjdHNbaWRdID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJvamVjdE5hbWVcIikudmFsdWU7XHJcbiAgICBsZXQgbmV3UHJvaiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFByb2plY3ROYW1lXCIpLnZhbHVlO1xyXG4gICAgZm9yIChsZXQgbSA9IDA7IG0gPCBUb0RvTGlzdC5tYXN0ZXJMaXN0Lmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgIGlmIChUb0RvTGlzdC5tYXN0ZXJMaXN0W21dLnByb2plY3QgPT09IG9sZFByb2plY3ROYW1lKSB7XHJcbiAgICAgICAgVG9Eb0xpc3QubWFzdGVyTGlzdFttXS5wcm9qZWN0ID0gbmV3UHJvajtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgcmVmcmVzaFByb2plY3RzKCk7XHJcbiAgICBsZXQga2V5ID0gXCJwcm9qZWN0LVwiICsgaWQ7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBUb0RvTGlzdC5wcm9qZWN0c1tpZF0pO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBwcmVwYXJlRGl2LCByZW1vdmVQcm9qZWN0Um93cywgcmVmcmVzaFByb2plY3RzIH07XHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5cclxuY29uc3Qgc3RvcmVQcm9qZWN0cyA9IChpbmQsIGlucHV0KSA9PiB7XHJcbiAgbGV0IGtleSA9IFwicHJvamVjdC1cIiArIGluZDtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGlucHV0KTtcclxufTtcclxuXHJcbmNvbnN0IHN0b3JlVGFzayA9IChpbmQsIGlucHV0KSA9PiB7XHJcbiAgbGV0IGtleSA9IFwidGFzay1cIiArIGluZDtcclxuICBsZXQgc3RydW5nID0gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgc3RydW5nKTtcclxufTtcclxuXHJcbmNvbnN0IGxvZ0xvY2FsID0gKCkgPT4ge1xyXG4gIGxldCB0ZXN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0YXNrLTNcIik7XHJcbiAgY29uc29sZS5sb2codGVzdCk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRTdG9yYWdlID0gKCkgPT4ge1xyXG4gIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcclxuICAgIGlmIChrZXkuaW5jbHVkZXMoXCJ0YXNrXCIpKSB7XHJcbiAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKG9iaik7XHJcbiAgICAgIGxldCByZXN0b3JlVGFzayA9IG5ldyBUb0RvKFxyXG4gICAgICAgIG9iai50YXNrTmFtZSxcclxuICAgICAgICBvYmouZGVzY3JpcHRpb24sXHJcbiAgICAgICAgb2JqLmR1ZURhdGUsXHJcbiAgICAgICAgb2JqLnByaW9yaXR5LFxyXG4gICAgICAgIG9iai5wcm9qZWN0XHJcbiAgICAgICk7XHJcbiAgICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChyZXN0b3JlVGFzayk7XHJcbiAgICB9XHJcbiAgICBpZiAoa2V5LmluY2x1ZGVzKFwicHJvamVjdFwiKSkge1xyXG4gICAgICBUb0RvTGlzdC5wcm9qZWN0cy5wdXNoKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5leHBvcnQgeyBzdG9yZVByb2plY3RzLCBzdG9yZVRhc2ssIGxvZ0xvY2FsLCBnZXRTdG9yYWdlIH07XHJcbiIsImltcG9ydCB7IHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzIH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyByZWZyZXNoUHJvamVjdHMgfSBmcm9tIFwiLi9wcm9qZWN0Vmlld1wiO1xyXG5pbXBvcnQgeyBsb2dMb2NhbCwgc3RvcmVQcm9qZWN0cyB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcclxuXHJcbmNvbnN0IFRvRG9MaXN0ID0gKCgpID0+IHtcclxuICBsZXQgaXNTb3J0ZWQgPSBmYWxzZTtcclxuICBsZXQgdmlld2luZ1Byb2plY3RzID0gZmFsc2U7XHJcbiAgbGV0IG1hc3Rlckxpc3QgPSBbXTtcclxuICBsZXQgbG93UHJpbyA9IFtdO1xyXG4gIGxldCBtZWRQcmlvID0gW107XHJcbiAgbGV0IGhpZ2hQcmlvID0gW107XHJcbiAgbGV0IHByb2plY3RzID0gW1wiTm9uZVwiXTtcclxuICByZXR1cm4ge1xyXG4gICAgbWFzdGVyTGlzdCxcclxuICAgIGxvd1ByaW8sXHJcbiAgICBtZWRQcmlvLFxyXG4gICAgaGlnaFByaW8sXHJcbiAgICBpc1NvcnRlZCxcclxuICAgIHByb2plY3RzLFxyXG4gICAgdmlld2luZ1Byb2plY3RzLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5jb25zdCBzZXRQcmlvQXJyYXlzID0gKCkgPT4ge1xyXG4gIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlO1xyXG4gIFRvRG9MaXN0LnByb2plY3RzLnB1c2gocHJvaklucHV0KTtcclxuICBsZXQgaW5kID0gVG9Eb0xpc3QucHJvamVjdHMuaW5kZXhPZihwcm9qSW5wdXQpO1xyXG4gIHN0b3JlUHJvamVjdHMoaW5kLCBwcm9qSW5wdXQpO1xyXG4gIGxvZ0xvY2FsKCk7XHJcbiAgaWYgKFRvRG9MaXN0LnZpZXdpbmdQcm9qZWN0cyA9PSB0cnVlKSB7XHJcbiAgICByZWZyZXNoUHJvamVjdHMoKTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCB7IFRvRG9MaXN0LCBzZXRQcmlvQXJyYXlzLCBhZGRQcm9qZWN0IH07XHJcbiIsImltcG9ydCB7IFRvRG9MaXN0IH0gZnJvbSBcIi4vbGlzdFwiO1xyXG5pbXBvcnQgeyByZWZyZXNoQ29udGVudCwgc29ydENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IGxvZ0xvY2FsLCBzdG9yZVRhc2sgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XHJcblxyXG5jb25zdCBUb0RvID0gZnVuY3Rpb24gKHRhc2tOYW1lLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIHByb2plY3QpIHtcclxuICB0aGlzLnRhc2tOYW1lID0gdGFza05hbWU7XHJcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XHJcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcclxuICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gIHRoaXMuaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFRvRG8gPSAoKSA9PiB7XHJcbiAgbGV0IHRhc2tOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGVzYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza1ByaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tQcm9qID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IG5ld1Rhc2sgPSBuZXcgVG9Ebyh0YXNrTmFtZSwgdGFza0Rlc2MsIHRhc2tEYXRlLCB0YXNrUHJpbywgdGFza1Byb2opO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChuZXdUYXNrKTtcclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIikge1xyXG4gICAgVG9Eb0xpc3QubG93UHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIikge1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gIGNvbnNvbGUubG9nKFRvRG9MaXN0LnZpZXdpbmdQcm9qZWN0cyk7XHJcbiAgaWYgKFRvRG9MaXN0LnZpZXdpbmdQcm9qZWN0cyA9PT0gZmFsc2UpIHtcclxuICAgIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNvcnRDb250ZW50KCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGxldCBpbmQgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmluZGV4T2YobmV3VGFzayk7XHJcbiAgc3RvcmVUYXNrKGluZCwgbmV3VGFzayk7XHJcbiAgbG9nTG9jYWwoKTtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRUYXNrID0gKGUpID0+IHtcclxuICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgbGV0IGluZGV4ID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0Lm1hc3Rlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiVERMIElEXCIsIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpO1xyXG4gICAgaWYgKGlkID09IFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uaWQpIHtcclxuICAgICAgaW5kZXggPSBpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coXCJpZCBcIiwgaWQpO1xyXG4gIGNvbnNvbGUubG9nKFwiaW5kZXggXCIsIGluZGV4KTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kZXNjcmlwdGlvbjtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0O1xyXG5cclxuICBsZXQgc2F2ZUNoYW5nZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1lZGl0LWJ0blwiKTtcclxuICBzYXZlQ2hhbmdlc0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcm9qZWN0ID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgICApO1xyXG5cclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBsZXQga2V5ID0gXCJ0YXNrLVwiICsgaW5kZXg7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XSkpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBUb0RvLCBhZGRUb0RvLCBlZGl0VGFzayB9O1xyXG4vL0hvdyB0byBoYW5kbGUgcHJvamVjdHM/XHJcbi8vSGF2ZSBhbiBvdmVyYWNyY2hpbmcgYXJyYXkgdGhhdCBob2xkcyBvYmplY3RzIGFuZCBzdWJhcnJheXMgZm9yIGVhY2ggcHJvamVjdD8gPC0tIFNlZW1zIGxpa2VseVxyXG4vLyBIYXZlIGFuIG92ZXJhcmNoaW5nIGFycmF5IGFuZCBmaWx0ZXIgd2hlbiBuZWNlc3NhcnkgZm9yIHByb2plY3RzXHJcbiIsImltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcclxuaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9tb2R1bGVzL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsIHJlbmRlclRvRG9zIH0gZnJvbSBcIi4vbW9kdWxlcy9jb250ZW50XCI7XHJcbmltcG9ydCBpbml0QnV0dG9ucyBmcm9tIFwiLi9tb2R1bGVzL2J1dHRvbnNcIjtcclxuaW1wb3J0IHsgZ2V0U3RvcmFnZSB9IGZyb20gXCIuL21vZHVsZXMvc3RvcmFnZVwiO1xyXG5cclxuLy8gY29uc29sZS5sb2coVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbi8vIGxldCB0ZDIgPSBuZXcgVG9EbyhcclxuLy8gICBcIlJvbGwgZm9yIFllbGFuXCIsXHJcbi8vICAgXCJQdWxsIFllbGFuIGJjIG1vbW15XCIsXHJcbi8vICAgXCI1LzEwLzIyXCIsXHJcbi8vICAgXCJNZWRpdW1cIixcclxuLy8gICBcIlB1bGxzXCJcclxuLy8gKTtcclxuLy8gVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMik7XHJcbi8vIGxldCB0ZDEgPSBuZXcgVG9EbyhcclxuLy8gICBcIlJvbGwgZm9yIEF5YWthXCIsXHJcbi8vICAgXCJVc2UgYWxsIG1lYW5zIG5lY2Vzc2FyeSB0byBwdWxsIEF5YWthXCIsXHJcbi8vICAgXCI0LzE5LzIyXCIsXHJcbi8vICAgXCJIaWdoXCIsXHJcbi8vICAgXCJBc2NlbnNpb25cIlxyXG4vLyApO1xyXG4vLyBUb0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQxKTtcclxuLy8gbGV0IHRkMyA9IG5ldyBUb0RvKFwiUm9sbCBmb3IgQXlhdG9cIiwgXCIgcHVsbCBBeWF0b1wiLCBcIjQvMTkvMjJcIiwgXCJMb3dcIiwgXCJQdWxsc1wiKTtcclxuLy8gVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMyk7XHJcbmdldFN0b3JhZ2UoKTtcclxuc2V0UHJpb0FycmF5cygpO1xyXG5yZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxuaW5pdEJ1dHRvbnMoKTtcclxucmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMoKTtcclxuXHJcbi8qXHJcbk5vdGVzOlxyXG4tT24gYWRkIHRhc2sgZm9ybSBuZWVkIGEgcGxhY2UgdG8gc2VsZWN0IHdoaWNoIHByb2plY3QgdG8gYWRkIHRoZSB0byBkbyB0by4gQWxsb3cgZm9yIG11bHRpcGxlIHByb2plY3Qgc2VsZWN0aW9uIChNYXliZSBub3QpXHJcbi1OZWVkIGFuIGVkaXQgdGFzayBidXR0b24gb24gZWFjaCB0YXNrIHJvd1xyXG4tTmVlZCB0byBmaWd1cmUgb3V0IHdoZXJlIHRvIGNyZWF0ZSBuZXcgcHJvamVjdHNcclxuLVZpZXcgYWxsIHRhc2tzIG5lZWRzIHRvIGRpc3BsYXkgcHJvamVjdCBuYW1lc1xyXG5cclxuUGxhbiBvZiBhdHRhY2s6XHJcbipBZGQgYSBmZXcgZHVtbXkgdG8gZG8gb2JqZWN0cyBhbmQgZ2V0IHRoZW0gcmVuZGVyaW5nIHRvIHRoZSBkb21cclxuKlNldCB1cCB0aGUgYWRkIHRhc2sgYnV0dG9uIFxyXG4qU2V0IHVwIHRhc2sgZWRpdGluZyA8LS0gTW9kYWwgd2l0aCB0aGUgdGFza3MgZGF0YSBwcmUtZmlsbGVkIGludG8gYSBmb3JtLiBcclxuLS1OZWVkIGEgZGlzY2FyZCBjaGFuZ2UgYnV0dG9uIFxyXG4qKk5lZWQgYSBzYXZlIGNoYW5nZSBidXR0b24gXHJcbipTZXQgdXAgc29ydGluZyBcclxuLS1NYXliZSBhZGQgd2hpY2ggd2F5IHRvIGJlIHNvcnRlZD8gU3RyZWNoIGdvYWw/XHJcbipTZXQgdXAgcmV2ZXJ0aW5nIHNvcnRpbmcgPC0tIFJlIHJlbmRlciBmcm9tIG1hc3RlciBieSBjaGVja2luZyBpc1NvcnRpbmcgZm9yIGZhbHNlXHJcbi1TZXQgdXAgcHJvamVjdHNcclxuKiogQWRkIHByb2plY3QgYnV0dG9uXHJcbioqIEFkZCBwcm9qZWN0IHNlbGVjdGlvbiBvbiBhZGQgdGFzayBmb3JtXHJcbi0tIEVkaXQgUHJvamVjdHMgTW9kYWwuICg/KVxyXG4tLSBBZGQgcHJvamVjdCB2aWV3cyA8LS0gQ2FuIGRlZmluaXRlbHkgZG9cclxuLS0gUmUgcmVuZGVyIHRhYmxlIHdpdGggYSBmaWx0ZXJlZCBhcnJheSBmb3IgdGhlIHByb2plY3QgdGhleSB3YW50IHRvIHZpZXcuIFxyXG5cclxuXHJcblNvcnRpbmcgTW9kYWw6XHJcbioqRHJvcGRvd24gd2l0aCBkZWZhdWx0LCBsb3cgdG8gaGlnaCBwcmlvcml0eSwgaGlnaCB0byBsb3csIHByb2plY3QgKHdoaWNoIGp1c3QgZ3JvdXBzIHRoZSB0YXNrcyBieSBwcm9qZWN0cylcclxuKioqIFRvIGRvIHRoZSBsYXN0IG9uZSwgaXRlcmF0ZSB0aHJvdWdoIHByb2plY3RzIGFycmF5IGZpbHRlcmluZyB0aGUgbWFpbiBhcnJheSBhbmQgcmVuZGVyaW5nIHRoZSByZXN1bHRpbmcgYXJyYXkgXHJcblxyXG4qKmNoYW5nZSBzb3J0aW5nIG1vZGFsIHRvIGEgZHJvcGRvd24gdy9vdXQgbW9kYWwgKyBvbmNoYW5nZSByYXRoZXIgdGhhbiBhIHN1Ym1pdFxyXG5cclxuLS1Qcm9qZWN0cyBjb2xsYXBzaWJsZSBvbiBzaWRlYmFyIG9yIGEgZHJvcCBkb3duPyBvciBhIG1vZGFsPyBvcj8/PyBTb21ldGhpbmcgdG8gdmlldyBvbmx5IHRhc2tzIG9mIGEgcHJvamVjdC4gXHJcbioqQnV0dG9uL1JhZGlvIGZvciBtYXJraW5nIGEgdGFzayBjb21wbGV0ZSB0aGF0IGNyb3NzZXMgb3V0IHRoZSByb3dcclxuKipDaGFuZ2UgYnV0dG9ucyB0byBpY29ucyBvZiBzb21lIHNvcnQuIFBlbmNpbCBmb3IgZWRpdCwgdHJhc2hjYW4gZm9yIGRlbGV0ZVxyXG5cclxuKkNTUyBmb3IgTW9kYWxzXHJcblxyXG5cclxuXHJcbipDaGFuZ2UgdGFibGUgcmVuZGVyaW5nIHRvIGFsbCBvY2N1ciBpbiBKU1xyXG4tUHJvamVjdHMgYnV0dG9uIGluIHNpZGUgYmFyIHJlbmRlcnMgdGFibGUgd2l0aCBwcm9qZWN0IG5hbWUgKyBidXR0b25zIGZvciBlZGl0ICsgZGVsZXRlXHJcblxyXG4tU2V0IHVwIGRhdGUgcGlja2VyXHJcbi1DbGVhbiB1cCBjb25zb2xlIGxvZ3MgKyBjb2RlIG9yZ2FuaXphdGlvbiAoYWxsIGxldHMgZ3JvdXBlZCB0b2dldGhlciBhdCB0b3Agb2YgbWV0aG9kcylcclxuKi9cclxuIiwiaW1wb3J0IHsgYWRkVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuaW1wb3J0IHtcclxuICByZW1vdmVIZWFkZXJzLFxyXG4gIHJlbmRlck5ld1Byb2plY3RzLFxyXG4gIHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzLFxyXG4gIHJlbmRlclRvRG9zLFxyXG4gIHNvcnRDb250ZW50LFxyXG59IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgYWRkUHJvamVjdCwgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IHByZXBhcmVEaXYsIHJlbW92ZVByb2plY3RSb3dzIH0gZnJvbSBcIi4vcHJvamVjdFZpZXdcIjtcclxuY29uc3QgaW5pdEJ1dHRvbnMgPSAoKSA9PiB7XHJcbiAgbGV0IHRhc2tNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcbiAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIGxldCBlZGl0UHJvak1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJvamVjdE1vZGFsXCIpO1xyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfTtcclxuICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0YXNrTW9kYWwpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjbG9zZSBtb2RhbFwiKTtcclxuICAgICAgdGFza01vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IGVkaXRNb2RhbCkge1xyXG4gICAgICBlZGl0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBwcm9qZWN0TW9kYWwpIHtcclxuICAgICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TmFtZVwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHNvcnRNb2RhbCkge1xyXG4gICAgICBzb3J0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBlZGl0UHJvak1vZGFsKSB7XHJcbiAgICAgIGVkaXRQcm9qTW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgbGV0IHN1Ym1pdGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXRhc2stYnRuXCIpO1xyXG4gIHN1Ym1pdGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkVG9EbygpO1xyXG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTW9kYWxcIik7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICB9O1xyXG5cclxuICAvLyBsZXQgc29ydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFRhc2tCdG5cIik7XHJcbiAgLy8gc29ydEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vICAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIC8vICAgc29ydE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgLy8gfTtcclxuXHJcbiAgLy8gbGV0IHN1Ym1pdFNvcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC1zb3J0LWJ0blwiKTtcclxuICAvLyBzdWJtaXRTb3J0QnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gICBsZXQgc29ydFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUeXBlXCIpLnZhbHVlO1xyXG4gIC8vICAgc29ydENvbnRlbnQoc29ydFR5cGUpO1xyXG4gIC8vICAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIC8vICAgc29ydE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFR5cGVcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgLy8gfTtcclxuXHJcbiAgbGV0IHNvcnRTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUeXBlXCIpO1xyXG4gIHNvcnRTZWxlY3Qub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImhlcmVcIik7XHJcbiAgICBsZXQgc29ydFR5cGUgPSBzb3J0U2VsZWN0LnZhbHVlO1xyXG4gICAgc29ydENvbnRlbnQoc29ydFR5cGUpO1xyXG4gIH07XHJcblxyXG4gIGxldCBhZGRQcm9qQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtcHJvamVjdC1idG5cIik7XHJcbiAgYWRkUHJvakJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkUHJvamVjdCgpO1xyXG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE5hbWVcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMoKTtcclxuICB9O1xyXG5cclxuICBsZXQgcHJvamVjdFZpZXdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3Qtdmlld1wiKTtcclxuICBwcm9qZWN0Vmlld0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3Qudmlld2luZ1Byb2plY3RzID0gdHJ1ZTtcclxuICAgIHByZXBhcmVEaXYoKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWxsVGFza3NCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbC10YXNrc1wiKTtcclxuICBhbGxUYXNrc0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3Qudmlld2luZ1Byb2plY3RzID0gZmFsc2U7XHJcbiAgICByZW1vdmVIZWFkZXJzKCk7XHJcbiAgICByZW1vdmVQcm9qZWN0Um93cygpO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbiAgfTtcclxuXHJcbiAgbGV0IGNvbXBsZXRlZFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXBsZXRlLXRhc2tzXCIpO1xyXG4gIGNvbXBsZXRlZFRhc2tCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFRvRG9MaXN0LnZpZXdpbmdQcm9qZWN0cyA9IGZhbHNlO1xyXG4gICAgcmVtb3ZlSGVhZGVycygpO1xyXG4gICAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmNvbXBsZXRlID09IHRydWUpKTtcclxuICB9O1xyXG5cclxuICBsZXQgaW5jb21wbGV0ZVRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluY29tcGxldGUtdGFza3NcIik7XHJcbiAgaW5jb21wbGV0ZVRhc2tCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFRvRG9MaXN0LnZpZXdpbmdQcm9qZWN0cyA9IGZhbHNlO1xyXG4gICAgcmVtb3ZlSGVhZGVycygpO1xyXG4gICAgcmVtb3ZlUHJvamVjdFJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmNvbXBsZXRlID09IGZhbHNlKSk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRCdXR0b25zO1xyXG4iXSwibmFtZXMiOlsicmVuZGVyVG9Eb3MiLCJhcnJheSIsImhlYWRlckFyciIsInRhc2tIZWFkZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaGVhZGVyRGl2IiwiY3JlYXRlRWxlbWVudCIsInByZXBlbmQiLCJzIiwibGVuZ3RoIiwidGgiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImkiLCJyZW5kZXJSb3ciLCJkZWxCdG5zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVRhc2siLCJlZGl0QnRucyIsImsiLCJlZGl0VGFzayIsImNvbXBsZXRlQnRucyIsImwiLCJpZCIsImNvbXBsZXRlVGFzayIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJkayIsInJvdyIsImNvbXBsZXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwidGl0bGUiLCJ0YXNrTmFtZSIsImRlc2NyaXB0aW9uIiwicHJvamVjdCIsImR1ZURhdGUiLCJzcGxpdERhdGUiLCJzcGxpdCIsImZvcm1hdHRlZERhdGUiLCJwcmlvIiwicHJpb3JpdHkiLCJidXR0b25zIiwiZGVsQnRuIiwiY29tcEJ0biIsImVkaXRCdG4iLCJyZW1vdmVSb3dzIiwiY29udGVudERpdiIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiZ2V0QXR0cmlidXRlIiwiaW5kIiwiVG9Eb0xpc3QiLCJtYXN0ZXJMaXN0IiwiaW5kZXhPZiIsImZpbmQiLCJ0YXNrIiwiZmlsdGVyQXJyIiwiZmlsdGVyIiwic2V0UHJpb0FycmF5cyIsInJlZnJlc2hDb250ZW50Iiwia2V5IiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInJvd0lkIiwicmVtb3ZlIiwicmVtb3ZlSGVhZGVycyIsInNvcnRDb250ZW50Iiwic29ydFR5cGUiLCJsb3dQcmlvIiwibWVkUHJpbyIsImhpZ2hQcmlvIiwicHJvamVjdHMiLCJwcm9qQXJyIiwidGFza3MiLCJyZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyIsInByb2plY3RJbnB1dERpdiIsImVkaXRQcm9qRGl2IiwiY2hpbGROb2RlcyIsImxhc3RDaGlsZCIsIm9wdCIsInZhbHVlIiwiaGVhZGVyIiwicmVuZGVyUHJvamVjdHMiLCJyZW5kZXJQcm9qZWN0Um93IiwiZGVsZXRlQnV0dG9ucyIsInJlbW92ZVByb2plY3QiLCJlZGl0QnV0dG9ucyIsImVkaXRQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJyZW1vdmVQcm9qZWN0Um93cyIsInJlZnJlc2hQcm9qZWN0cyIsImZpbHRlcmVkQXJyIiwibW9kYWwiLCJzdHlsZSIsImRpc3BsYXkiLCJvbGRQcm9qZWN0TmFtZSIsIm9uY2xpY2siLCJuZXdQcm9qIiwibSIsInNldEl0ZW0iLCJsb2dMb2NhbCIsInRlc3QiLCJnZXRJdGVtIiwiaXNTb3J0ZWQiLCJ2aWV3aW5nUHJvamVjdHMiLCJUb0RvIiwidGhpcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImluZGV4IiwiSlNPTiIsInN0cmluZ2lmeSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJvYmoiLCJwYXJzZSIsInJlc3RvcmVUYXNrIiwicHVzaCIsInRhc2tNb2RhbCIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJhZGRQcm9qIiwic29ydE1vZGFsIiwiZWRpdFByb2pNb2RhbCIsIndpbmRvdyIsImV2ZW50Iiwic2VsZWN0ZWRJbmRleCIsInRhc2tEZXNjIiwidGFza0RhdGUiLCJ0YXNrUHJpbyIsInRhc2tQcm9qIiwibmV3VGFzayIsImlucHV0Iiwic3RydW5nIiwic3RvcmVUYXNrIiwiYWRkVG9EbyIsInNvcnRTZWxlY3QiLCJvbmNoYW5nZSIsInByb2pJbnB1dCIsInN0b3JlUHJvamVjdHMiLCJhZGRQcm9qZWN0IiwidGFibGVEaXYiLCJwcm9qZWN0SGVhZGVycyIsInJlbmRlclByb2plY3RIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==