(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},o=e=>{for(let t=0;t<e.length;t++)n(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",i);const o=document.getElementsByClassName("edit-btn");for(let e=0;e<o.length;e++)o[e].addEventListener("click",a)},n=(e,t)=>{let o=document.querySelector("#task-table-body"),n=t[e].id,l=document.createElement("tr");l.setAttribute("data-key",n);let i=document.createElement("td");i.innerHTML=t[e].taskName,l.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,l.appendChild(d);let r=document.createElement("td");r.innerHTML=t[e].project,l.appendChild(r);let s=document.createElement("td");s.innerHTML=t[e].dueDate,l.appendChild(s);let a=document.createElement("td");a.innerHTML=t[e].priority,l.appendChild(a);let m=document.createElement("td"),c=document.createElement("button");m.appendChild(c),c.setAttribute("type","button"),c.innerHTML="Delete",c.classList.add("del-btn");let u=document.createElement("button");m.appendChild(u),u.setAttribute("type","button"),u.innerHTML="Edit",u.classList.add("edit-btn"),l.appendChild(m),o.appendChild(l)},l=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=o=>{let n=o.target.parentNode.parentNode.getAttribute("data-key");console.log("here",n);let l=e.masterList.filter((e=>e.id!=n));e.masterList=l,t(),d(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=()=>{l(),o(e.masterList)},r=()=>{!0===e.isSorted?(l(),o(e.highPrio),o(e.medPrio),o(e.lowPrio)):!1===e.isSorted&&d()},s=function(e,t,o,n,l){this.taskName=e,this.description=t,this.dueDate=o,this.priority=n,this.complete=!1,this.project=l,this.id=Math.floor(1e3*Math.random())},a=t=>{let o=document.getElementById("editModal");o.style.display="block";let n=t.target.parentNode.parentNode.getAttribute("data-key"),l=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),n==e.masterList[t].id&&(l=t);console.log("id ",n),console.log("index ",l),document.getElementById("taskNameEdit").value=e.masterList[l].taskName,document.getElementById("descriptionEdit").value=e.masterList[l].description,document.getElementById("dateEdit").value=e.masterList[l].dueDate,document.getElementById("priorityEdit").value=e.masterList[l].priority,document.getElementById("projectEdit").value=e.masterList[l].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[l].taskName=document.getElementById("taskNameEdit").value,e.masterList[l].description=document.getElementById("descriptionEdit").value,e.masterList[l].dueDate=document.getElementById("dateEdit").value,e.masterList[l].priority=document.getElementById("priorityEdit").value,e.masterList[l].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),d(),o.style.display="none"}};console.log(e.masterList);let m=new s("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(m);let c=new s("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Pulls");e.masterList.push(c);let u=new s("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(u),t(),o(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),n=document.getElementById("editModal"),l=document.getElementById("projectModal");document.getElementById("newProject").onclick=function(){l.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==n&&(n.style.display="none"),e.target==l&&(l.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,o=document.getElementById("descriptionInput").value,n=document.getElementById("dateInput").value,l=document.getElementById("priorityInput").value,i=new s(t,o,n,l,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?d():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("sortTaskBtn").onclick=function(){e.isSorted=!e.isSorted,console.log(e.isSorted),r()},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),l.style.display="none",document.getElementById("projectName").value="",(()=>{let t=document.getElementById("projectInput"),o=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;o.childNodes.length>2;)o.removeChild(o.lastChild);for(let o=0;o<e.projects.length;o++){let n=document.createElement("option");n.value=e.projects[o],n.innerHTML=e.projects[o],t.appendChild(n)}for(let t=0;t<e.projects.length;t++){let n=document.createElement("option");n.value=e.projects[t],n.innerHTML=e.projects[t],o.appendChild(n)}})()}})(),(()=>{console.log("Render Projs");let t=document.getElementById("projectInput"),o=document.getElementById("projectEdit");for(let o=0;o<e.projects.length;o++){let n=document.createElement("option");n.value=e.projects[o],n.innerHTML=e.projects[o],t.appendChild(n)}for(let t=0;t<e.projects.length;t++){let n=document.createElement("option");n.value=e.projects[t],n.innerHTML=e.projects[t],o.appendChild(n)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTTSxTQUFTZSxHQUNsQ3FFLEVBQVlyRCxZQUFZd0QsS0d0RnhCQyxLRHpCSixHRjBFdUIsTUFDckIzRSxRQUFRQyxJQUFJLGdCQUNaLElBQUkyRSxFQUFVOUUsU0FBU2lELGVBQWUsZ0JBQ2xDd0IsRUFBY3pFLFNBQVNpRCxlQUFlLGVBQzFDLElBQUssSUFBSXJELEVBQUksRUFBR0EsRUFBSWIsRUFBU00sU0FBU1EsT0FBUUQsSUFBSyxDQUNqRCxJQUFJZ0YsRUFBTTVFLFNBQVNlLGNBQWMsVUFDakM2RCxFQUFJdkIsTUFBUXRFLEVBQVNNLFNBQVNPLEdBQzlCZ0YsRUFBSTFELFVBQVluQyxFQUFTTSxTQUFTTyxHQUNsQ2tGLEVBQVExRCxZQUFZd0QsR0FFdEIsSUFBSyxJQUFJeEUsRUFBSSxFQUFHQSxFQUFJckIsRUFBU00sU0FBU1EsT0FBUU8sSUFBSyxDQUNqRCxJQUFJd0UsRUFBTTVFLFNBQVNlLGNBQWMsVUFDakM2RCxFQUFJdkIsTUFBUXRFLEVBQVNNLFNBQVNlLEdBQzlCd0UsRUFBSTFELFVBQVluQyxFQUFTTSxTQUFTZSxHQUNsQ3FFLEVBQVlyRCxZQUFZd0QsS0V2RjVCRyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2xpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvLWRvLy4vc3JjL21vZHVsZXMvYnV0dG9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUb0RvTGlzdCA9ICgoKSA9PiB7XHJcbiAgbGV0IGlzU29ydGVkID0gZmFsc2U7XHJcbiAgbGV0IG1hc3Rlckxpc3QgPSBbXTtcclxuICBsZXQgbG93UHJpbyA9IFtdO1xyXG4gIGxldCBtZWRQcmlvID0gW107XHJcbiAgbGV0IGhpZ2hQcmlvID0gW107XHJcbiAgbGV0IHByb2plY3RzID0gW1wiTm9uZVwiLCBcIlB1bGxzXCIsIFwiQXNjZW5zaW9uXCJdO1xyXG4gIHJldHVybiB7IG1hc3Rlckxpc3QsIGxvd1ByaW8sIG1lZFByaW8sIGhpZ2hQcmlvLCBpc1NvcnRlZCwgcHJvamVjdHMgfTtcclxufSkoKTtcclxuXHJcbmNvbnN0IHNldFByaW9BcnJheXMgPSAoKSA9PiB7XHJcbiAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgKTtcclxuICBUb0RvTGlzdC5tZWRQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiXHJcbiAgKTtcclxuICBUb0RvTGlzdC5sb3dQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkxvd1wiXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZFByb2plY3QgPSAoKSA9PiB7XHJcbiAgbGV0IHByb2pJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE5hbWVcIikudmFsdWU7XHJcbiAgVG9Eb0xpc3QucHJvamVjdHMucHVzaChwcm9qSW5wdXQpO1xyXG59O1xyXG5leHBvcnQgeyBUb0RvTGlzdCwgc2V0UHJpb0FycmF5cywgYWRkUHJvamVjdCB9O1xyXG4iLCJpbXBvcnQgeyBzZXRQcmlvQXJyYXlzLCBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgZWRpdFRhc2sgfSBmcm9tIFwiLi90b2RvXCI7XHJcbmNvbnN0IHJlbmRlclRvRG9zID0gKGFycmF5KSA9PiB7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgcmVuZGVyUm93KGksIGFycmF5KTtcclxuICB9XHJcbiAgY29uc3QgZGVsQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWwtYnRuXCIpO1xyXG4gIGNvbnNvbGUubG9nKGRlbEJ0bnMpO1xyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgZGVsQnRucy5sZW5ndGg7IGorKykge1xyXG4gICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xyXG4gICAgZGVsQnRuc1tqXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVtb3ZlVGFzayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0QnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJlZGl0LWJ0blwiKTtcclxuICBmb3IgKGxldCBrID0gMDsgayA8IGVkaXRCdG5zLmxlbmd0aDsgaysrKSB7XHJcbiAgICBlZGl0QnRuc1trXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZWRpdFRhc2spO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclJvdyA9IChpLCBhcnJheSkgPT4ge1xyXG4gIGxldCB0YWJsZUJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stdGFibGUtYm9keVwiKTtcclxuXHJcbiAgLy9EYXRhIGtleT8gPC0tIE5lZWQgdG8gYWRkIHRoZSBkYXRhIGtleSB0byBlYWNoIGRpdi5cclxuICBsZXQgZGsgPSBhcnJheVtpXS5pZDtcclxuICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gIHJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLCBkayk7XHJcblxyXG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICB0aXRsZS5pbm5lckhUTUwgPSBhcnJheVtpXS50YXNrTmFtZTtcclxuICByb3cuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cclxuICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYXJyYXlbaV0uZGVzY3JpcHRpb247XHJcbiAgcm93LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcclxuXHJcbiAgbGV0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgcHJvamVjdC5pbm5lckhUTUwgPSBhcnJheVtpXS5wcm9qZWN0O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcm9qZWN0KTtcclxuXHJcbiAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgZHVlRGF0ZS5pbm5lckhUTUwgPSBhcnJheVtpXS5kdWVEYXRlO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChkdWVEYXRlKTtcclxuXHJcbiAgbGV0IHByaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgcHJpby5pbm5lckhUTUwgPSBhcnJheVtpXS5wcmlvcml0eTtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJpbyk7XHJcblxyXG4gIC8vTmVlZCB0byBjcmVhdGUgYnV0dG9uc1xyXG5cclxuICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBsZXQgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGRlbEJ0bik7XHJcbiAgZGVsQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZGVsQnRuLmlubmVySFRNTCA9IFwiRGVsZXRlXCI7XHJcbiAgZGVsQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWwtYnRuXCIpO1xyXG4gIGxldCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBlZGl0QnRuLmlubmVySFRNTCA9IFwiRWRpdFwiO1xyXG4gIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnRuXCIpO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChidXR0b25zKTtcclxuXHJcbiAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVSb3dzID0gKCkgPT4ge1xyXG4gIGxldCBjb250ZW50RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcbiAgd2hpbGUgKGNvbnRlbnREaXYuZmlyc3RDaGlsZCkge1xyXG4gICAgY29udGVudERpdi5yZW1vdmVDaGlsZChjb250ZW50RGl2LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBjb25zb2xlLmxvZyhcImhlcmVcIiwgaWQpO1xyXG4gIGxldCBmaWx0ZXJBcnIgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcigodGFzaykgPT4gdGFzay5pZCAhPSBpZCk7XHJcbiAgVG9Eb0xpc3QubWFzdGVyTGlzdCA9IGZpbHRlckFycjtcclxuICBzZXRQcmlvQXJyYXlzKCk7XHJcbiAgcmVmcmVzaENvbnRlbnQoKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QubG93UHJpbyk7XHJcbn07XHJcblxyXG5jb25zdCByZWZyZXNoQ29udGVudCA9ICgpID0+IHtcclxuICByZW1vdmVSb3dzKCk7XHJcbiAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbn07XHJcblxyXG5jb25zdCBzb3J0Q29udGVudCA9ICgpID0+IHtcclxuICBpZiAoVG9Eb0xpc3QuaXNTb3J0ZWQgPT09IHRydWUpIHtcclxuICAgIHJlbW92ZVJvd3MoKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0Lm1lZFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubG93UHJpbyk7XHJcbiAgfSBlbHNlIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUHJvamVjdHMgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJSZW5kZXIgUHJvanNcIik7XHJcbiAgbGV0IHByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJbnB1dFwiKTtcclxuICBsZXQgZWRpdFByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBwcm9qRGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBlZGl0UHJvakRpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbmRlck5ld1Byb2plY3RzID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qZWN0SW5wdXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RJbnB1dFwiKTtcclxuICBsZXQgZWRpdFByb2pEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpO1xyXG4gIHdoaWxlIChwcm9qZWN0SW5wdXREaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBwcm9qZWN0SW5wdXREaXYucmVtb3ZlQ2hpbGQocHJvamVjdElucHV0RGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIHdoaWxlIChlZGl0UHJvakRpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDIpIHtcclxuICAgIGVkaXRQcm9qRGl2LnJlbW92ZUNoaWxkKGVkaXRQcm9qRGl2Lmxhc3RDaGlsZCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbaV07XHJcbiAgICBwcm9qZWN0SW5wdXREaXYuYXBwZW5kQ2hpbGQob3B0KTtcclxuICB9XHJcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBUb0RvTGlzdC5wcm9qZWN0cy5sZW5ndGg7IGorKykge1xyXG4gICAgbGV0IG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICBvcHQudmFsdWUgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIG9wdC5pbm5lckhUTUwgPSBUb0RvTGlzdC5wcm9qZWN0c1tqXTtcclxuICAgIGVkaXRQcm9qRGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQge1xyXG4gIHJlbmRlclRvRG9zLFxyXG4gIHJlZnJlc2hDb250ZW50LFxyXG4gIHNvcnRDb250ZW50LFxyXG4gIHJlbmRlclByb2plY3RzLFxyXG4gIHJlbmRlck5ld1Byb2plY3RzLFxyXG59O1xyXG5cclxuLy9Vc2UgcXVlcnkgc2VsZWN0b3IgdG8gZ2V0IGFycmF5IG9mIGRpdnMgdGhhdCBoYXMgdGhlIGRhdGEgYXR0cmlidXRlIEkgd2FudCB0byByZW1vdmVcclxuIiwiaW1wb3J0IHsgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IHJlZnJlc2hDb250ZW50LCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuXHJcbmNvbnN0IFRvRG8gPSBmdW5jdGlvbiAodGFza05hbWUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgcHJvamVjdCkge1xyXG4gIHRoaXMudGFza05hbWUgPSB0YXNrTmFtZTtcclxuICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcclxuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XHJcbiAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xyXG4gIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcbiAgdGhpcy5pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkVG9EbyA9ICgpID0+IHtcclxuICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlO1xyXG4gIGxldCB0YXNrUHJpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS52YWx1ZTtcclxuXHJcbiAgbGV0IG5ld1Rhc2sgPSBuZXcgVG9Ebyh0YXNrTmFtZSwgdGFza0Rlc2MsIHRhc2tEYXRlLCB0YXNrUHJpbywgXCJkZWZhdWx0XCIpO1xyXG4gIFRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaChuZXdUYXNrKTtcclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIikge1xyXG4gICAgVG9Eb0xpc3QubG93UHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiTWVkaXVtXCIpIHtcclxuICAgIFRvRG9MaXN0Lm1lZFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcblxyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkhpZ2hcIikge1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8ucHVzaChuZXdUYXNrKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QuaXNTb3J0ZWQpO1xyXG4gIGlmIChUb0RvTGlzdC5pc1NvcnRlZCA9PT0gZmFsc2UpIHtcclxuICAgIHJlZnJlc2hDb250ZW50KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNvcnRDb250ZW50KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZWRpdFRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1vZGFsXCIpO1xyXG4gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBsZXQgaW5kZXggPSAwO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgVG9Eb0xpc3QubWFzdGVyTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc29sZS5sb2coXCJUREwgSURcIiwgVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCk7XHJcbiAgICBpZiAoaWQgPT0gVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCkge1xyXG4gICAgICBpbmRleCA9IGk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcImlkIFwiLCBpZCk7XHJcbiAgY29uc29sZS5sb2coXCJpbmRleCBcIiwgaW5kZXgpO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnRhc2tOYW1lO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25FZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmRlc2NyaXB0aW9uO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZHVlRGF0ZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcmlvcml0eTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3Q7XHJcblxyXG4gIGxldCBzYXZlQ2hhbmdlc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LWVkaXQtYnRuXCIpO1xyXG4gIHNhdmVDaGFuZ2VzQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS50YXNrTmFtZSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb24gPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uRWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLmR1ZURhdGUgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJpb3JpdHkgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5RWRpdFwiKS52YWx1ZTtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByb2plY3QgPVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QuaGlnaFByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICAgKTtcclxuICAgIFRvRG9MaXN0Lmxvd1ByaW8gPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcihcclxuICAgICAgKHRhc2spID0+IHRhc2sucHJpb3JpdHkgPT09IFwiTG93XCJcclxuICAgICk7XHJcblxyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgVG9EbywgYWRkVG9EbywgZWRpdFRhc2sgfTtcclxuLy9Ib3cgdG8gaGFuZGxlIHByb2plY3RzP1xyXG4vL0hhdmUgYW4gb3ZlcmFjcmNoaW5nIGFycmF5IHRoYXQgaG9sZHMgb2JqZWN0cyBhbmQgc3ViYXJyYXlzIGZvciBlYWNoIHByb2plY3Q/IDwtLSBTZWVtcyBsaWtlbHlcclxuLy8gSGF2ZSBhbiBvdmVyYXJjaGluZyBhcnJheSBhbmQgZmlsdGVyIHdoZW4gbmVjZXNzYXJ5IGZvciBwcm9qZWN0c1xyXG4iLCJpbXBvcnQgeyBUb0RvIH0gZnJvbSBcIi4vbW9kdWxlcy90b2RvXCI7XHJcbmltcG9ydCB7IHNldFByaW9BcnJheXMsIFRvRG9MaXN0IH0gZnJvbSBcIi4vbW9kdWxlcy9saXN0XCI7XHJcbmltcG9ydCB7IHJlbmRlclByb2plY3RzLCByZW5kZXJUb0RvcyB9IGZyb20gXCIuL21vZHVsZXMvY29udGVudFwiO1xyXG5pbXBvcnQgaW5pdEJ1dHRvbnMgZnJvbSBcIi4vbW9kdWxlcy9idXR0b25zXCI7XHJcblxyXG5jb25zb2xlLmxvZyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxubGV0IHRkMiA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgWWVsYW5cIixcclxuICBcIlB1bGwgWWVsYW4gYmMgbW9tbXlcIixcclxuICBcIjUvMTAvMjJcIixcclxuICBcIk1lZGl1bVwiLFxyXG4gIFwiUHVsbHNcIlxyXG4pO1xyXG5Ub0RvTGlzdC5tYXN0ZXJMaXN0LnB1c2godGQyKTtcclxubGV0IHRkMSA9IG5ldyBUb0RvKFxyXG4gIFwiUm9sbCBmb3IgQXlha2FcIixcclxuICBcIlVzZSBhbGwgbWVhbnMgbmVjZXNzYXJ5IHRvIHB1bGwgQXlha2FcIixcclxuICBcIjQvMTkvMjJcIixcclxuICBcIkhpZ2hcIixcclxuICBcIlB1bGxzXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMSk7XHJcbmxldCB0ZDMgPSBuZXcgVG9EbyhcIlJvbGwgZm9yIEF5YXRvXCIsIFwiIHB1bGwgQXlhdG9cIiwgXCI0LzE5LzIyXCIsIFwiTG93XCIsIFwiUHVsbHNcIik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDMpO1xyXG5zZXRQcmlvQXJyYXlzKCk7XHJcbnJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5pbml0QnV0dG9ucygpO1xyXG5yZW5kZXJQcm9qZWN0cygpO1xyXG5cclxuLypcclxuTm90ZXM6XHJcbi1PbiBhZGQgdGFzayBmb3JtIG5lZWQgYSBwbGFjZSB0byBzZWxlY3Qgd2hpY2ggcHJvamVjdCB0byBhZGQgdGhlIHRvIGRvIHRvLiBBbGxvdyBmb3IgbXVsdGlwbGUgcHJvamVjdCBzZWxlY3Rpb24gKE1heWJlIG5vdClcclxuLU5lZWQgYW4gZWRpdCB0YXNrIGJ1dHRvbiBvbiBlYWNoIHRhc2sgcm93XHJcbi1OZWVkIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdG8gY3JlYXRlIG5ldyBwcm9qZWN0c1xyXG4tVmlldyBhbGwgdGFza3MgbmVlZHMgdG8gZGlzcGxheSBwcm9qZWN0IG5hbWVzXHJcblxyXG5QbGFuIG9mIGF0dGFjazpcclxuKkFkZCBhIGZldyBkdW1teSB0byBkbyBvYmplY3RzIGFuZCBnZXQgdGhlbSByZW5kZXJpbmcgdG8gdGhlIGRvbVxyXG4qU2V0IHVwIHRoZSBhZGQgdGFzayBidXR0b24gXHJcbi1TZXQgdXAgdGFzayBlZGl0aW5nIDwtLSBNb2RhbCB3aXRoIHRoZSB0YXNrcyBkYXRhIHByZS1maWxsZWQgaW50byBhIGZvcm0uIFxyXG4tLUZldGNoIHRhc2sgYnkgdXNpbmcgcm93IElEIHdoaWNoID09PSB0YXNrIElEIDwtLSBVc2UgZmlsdGVyXHJcbi0tTmVlZCBhIGRpc2NhcmQgY2hhbmdlIGJ1dHRvbiBcclxuLS1OZWVkIGEgc2F2ZSBjaGFuZ2UgYnV0dG9uIFxyXG4qU2V0IHVwIHNvcnRpbmcgXHJcbi0tTWF5YmUgYWRkIHdoaWNoIHdheSB0byBiZSBzb3J0ZWQ/IFN0cmVjaCBnb2FsP1xyXG4qU2V0IHVwIHJldmVydGluZyBzb3J0aW5nIDwtLSBSZSByZW5kZXIgZnJvbSBtYXN0ZXIgYnkgY2hlY2tpbmcgaXNTb3J0aW5nIGZvciBmYWxzZVxyXG4tU2V0IHVwIHByb2plY3RzXHJcbi0tIEFkZCBwcm9qZWN0IGJ1dHRvblxyXG4qKiBBZGQgcHJvamVjdCBzZWxlY3Rpb24gb24gYWRkIHRhc2sgZm9ybVxyXG4tLSBFZGl0IFByb2plY3RzIE1vZGFsLiBcclxuLS0gQWRkIHByb2plY3Qgdmlld3NcclxuLS0gUmUgcmVuZGVyIHRhYmxlIHdpdGggYSBmaWx0ZXJlZCBhcnJheSBmb3IgdGhlIHByb2plY3QgdGhleSB3YW50IHRvIHZpZXcuIFxyXG5cclxuKi9cclxuIiwiaW1wb3J0IHsgYWRkVG9EbyB9IGZyb20gXCIuL3RvZG9cIjtcclxuaW1wb3J0IHsgcmVuZGVyTmV3UHJvamVjdHMsIHJlbmRlclByb2plY3RzLCBzb3J0Q29udGVudCB9IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgYWRkUHJvamVjdCwgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmNvbnN0IGluaXRCdXR0b25zID0gKCkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcblxyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgbW9kYWxcIik7XHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgbGV0IHN1Ym1pdGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXRhc2stYnRuXCIpO1xyXG4gIHN1Ym1pdGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkVG9EbygpO1xyXG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTW9kYWxcIik7XHJcbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2tOYW1lSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlJbnB1dFwiKS5zZWxlY3RlZEluZGV4ID0gMDtcclxuICB9O1xyXG5cclxuICBsZXQgc29ydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydFRhc2tCdG5cIik7XHJcbiAgc29ydEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgVG9Eb0xpc3QuaXNTb3J0ZWQgPSAhVG9Eb0xpc3QuaXNTb3J0ZWQ7XHJcbiAgICBjb25zb2xlLmxvZyhUb0RvTGlzdC5pc1NvcnRlZCk7XHJcbiAgICBzb3J0Q29udGVudCgpO1xyXG4gIH07XHJcblxyXG4gIGxldCBhZGRQcm9qQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtcHJvamVjdC1idG5cIik7XHJcbiAgYWRkUHJvakJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgYWRkUHJvamVjdCgpO1xyXG4gICAgcHJvamVjdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdE5hbWVcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgcmVuZGVyTmV3UHJvamVjdHMoKTtcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdEJ1dHRvbnM7XHJcbiJdLCJuYW1lcyI6WyJUb0RvTGlzdCIsIm1hc3Rlckxpc3QiLCJsb3dQcmlvIiwibWVkUHJpbyIsImhpZ2hQcmlvIiwiaXNTb3J0ZWQiLCJwcm9qZWN0cyIsInNldFByaW9BcnJheXMiLCJmaWx0ZXIiLCJ0YXNrcyIsInByaW9yaXR5IiwicmVuZGVyVG9Eb3MiLCJhcnJheSIsImkiLCJsZW5ndGgiLCJyZW5kZXJSb3ciLCJkZWxCdG5zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsImoiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVGFzayIsImVkaXRCdG5zIiwiayIsImVkaXRUYXNrIiwidGFibGVCb2R5IiwicXVlcnlTZWxlY3RvciIsImRrIiwiaWQiLCJyb3ciLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidGl0bGUiLCJpbm5lckhUTUwiLCJ0YXNrTmFtZSIsImFwcGVuZENoaWxkIiwiZGVzY3JpcHRpb24iLCJwcm9qZWN0IiwiZHVlRGF0ZSIsInByaW8iLCJidXR0b25zIiwiZGVsQnRuIiwiY2xhc3NMaXN0IiwiYWRkIiwiZWRpdEJ0biIsInJlbW92ZVJvd3MiLCJjb250ZW50RGl2IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJmaWx0ZXJBcnIiLCJ0YXNrIiwicmVmcmVzaENvbnRlbnQiLCJzb3J0Q29udGVudCIsIlRvRG8iLCJ0aGlzIiwiY29tcGxldGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJtb2RhbCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5kZXgiLCJ2YWx1ZSIsIm9uY2xpY2siLCJ0ZDIiLCJwdXNoIiwidGQxIiwidGQzIiwidGFza0J1dHRvbiIsImVkaXRNb2RhbCIsInByb2plY3RNb2RhbCIsIndpbmRvdyIsImV2ZW50IiwidGFza0Rlc2MiLCJ0YXNrRGF0ZSIsInRhc2tQcmlvIiwibmV3VGFzayIsImFkZFRvRG8iLCJzZWxlY3RlZEluZGV4IiwicHJvaklucHV0IiwiYWRkUHJvamVjdCIsInByb2plY3RJbnB1dERpdiIsImVkaXRQcm9qRGl2IiwiY2hpbGROb2RlcyIsImxhc3RDaGlsZCIsIm9wdCIsInJlbmRlck5ld1Byb2plY3RzIiwicHJvakRpdiIsInJlbmRlclByb2plY3RzIl0sInNvdXJjZVJvb3QiOiIifQ==