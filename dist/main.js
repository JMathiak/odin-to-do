(()=>{"use strict";const e={masterList:[],lowPrio:[],medPrio:[],highPrio:[],isSorted:!1,projects:["None","Pulls","Ascension"]},t=()=>{e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority))},o=e=>{for(let t=0;t<e.length;t++)l(t,e);const t=document.getElementsByClassName("del-btn");console.log(t);for(let e=0;e<t.length;e++)console.log("here"),t[e].addEventListener("click",i);const o=document.getElementsByClassName("edit-btn");for(let e=0;e<o.length;e++)o[e].addEventListener("click",c);const n=document.getElementsByClassName("comp-btn");for(let e=0;e<n.length;e++)console.log(n[e].id),n[e].id,n[e].addEventListener("click",d)},l=(e,t)=>{let o=document.querySelector("#task-table-body"),l=t[e].id,n=document.createElement("tr");n.setAttribute("data-key",l),n.id="task-"+l,n.classList.add("task-item");let i=document.createElement("td");i.innerHTML=t[e].taskName,n.appendChild(i);let d=document.createElement("td");d.innerHTML=t[e].description,n.appendChild(d);let s=document.createElement("td");s.innerHTML=t[e].project,n.appendChild(s);let r=document.createElement("td");r.innerHTML=t[e].dueDate,n.appendChild(r);let a=document.createElement("td");a.innerHTML=t[e].priority,n.appendChild(a);let m=document.createElement("td");m.setAttribute("data-key",l);let c=document.createElement("button"),u=document.createElement("button");m.appendChild(u),u.setAttribute("type","button"),u.innerHTML='<i class="fa-solid fa-check"></i>',u.classList.add("comp-btn"),u.id=l,m.appendChild(c),c.setAttribute("type","button"),c.innerHTML='<i class="fa-solid fa-trash"></i>',c.classList.add("del-btn");let p=document.createElement("button");m.appendChild(p),p.setAttribute("type","button"),p.innerHTML='<i class="fa-solid fa-pencil"></i>',p.classList.add("edit-btn"),n.appendChild(m),o.appendChild(n)},n=()=>{let e=document.querySelector("#task-table-body");for(;e.firstChild;)e.removeChild(e.firstChild)},i=o=>{let l=o.target.parentNode.parentNode.getAttribute("data-key");console.log("here",l);let n=e.masterList.filter((e=>e.id!=l));e.masterList=n,t(),s(),console.log(e.highPrio),console.log(e.medPrio),console.log(e.lowPrio)},d=t=>{console.log("Complete Task");let o=t.target.parentNode.parentNode.getAttribute("data-key");console.log(o);let l='[data-key="'+o+'"]',n=document.querySelector(l);console.log(n);for(let t=0;t<e.masterList.length;t++)e.masterList[t].id==o&&(!1===e.masterList[t].complete?(n.classList.add("complete"),e.masterList[t].complete=!0):!0===e.masterList[t].complete&&(n.classList.remove("complete"),e.masterList[t].complete=!1));console.log(n.classList)},s=()=>{n(),o(e.masterList)},r=t=>{if("default"===t&&(n(),o(e.masterList)),"lowToHigh"===t&&(n(),o(e.lowPrio),o(e.medPrio),o(e.highPrio)),"highToLow"===t&&(n(),o(e.highPrio),o(e.medPrio),o(e.lowPrio)),"projectSorting"===t){n();for(let t=0;t<e.projects.length;t++){let l=e.masterList.filter((o=>o.project==e.projects[t]));console.log(l),o(l.filter((e=>"High"===e.priority))),o(l.filter((e=>"Medium"===e.priority))),o(l.filter((e=>"Low"===e.priority)))}}},a=()=>{let t=document.getElementById("projectInput"),o=document.getElementById("projectEdit");for(;t.childNodes.length>2;)t.removeChild(t.lastChild);for(;o.childNodes.length>2;)o.removeChild(o.lastChild);for(let o=0;o<e.projects.length;o++){let l=document.createElement("option");l.value=e.projects[o],l.innerHTML=e.projects[o],t.appendChild(l)}for(let t=0;t<e.projects.length;t++){let l=document.createElement("option");l.value=e.projects[t],l.innerHTML=e.projects[t],o.appendChild(l)}},m=function(e,t,o,l,n){this.taskName=e,this.description=t,this.dueDate=o,this.priority=l,this.complete=!1,this.project=n,this.id=Math.floor(1e3*Math.random())},c=t=>{let o=document.getElementById("editModal");o.style.display="block";let l=t.target.parentNode.parentNode.getAttribute("data-key"),n=0;for(let t=0;t<e.masterList.length;t++)console.log("TDL ID",e.masterList[t].id),l==e.masterList[t].id&&(n=t);console.log("id ",l),console.log("index ",n),document.getElementById("taskNameEdit").value=e.masterList[n].taskName,document.getElementById("descriptionEdit").value=e.masterList[n].description,document.getElementById("dateEdit").value=e.masterList[n].dueDate,document.getElementById("priorityEdit").value=e.masterList[n].priority,document.getElementById("projectEdit").value=e.masterList[n].project,document.getElementById("submit-edit-btn").onclick=function(){e.masterList[n].taskName=document.getElementById("taskNameEdit").value,e.masterList[n].description=document.getElementById("descriptionEdit").value,e.masterList[n].dueDate=document.getElementById("dateEdit").value,e.masterList[n].priority=document.getElementById("priorityEdit").value,e.masterList[n].project=document.getElementById("projectEdit").value,e.highPrio=e.masterList.filter((e=>"High"===e.priority)),e.medPrio=e.masterList.filter((e=>"Medium"===e.priority)),e.lowPrio=e.masterList.filter((e=>"Low"===e.priority)),s(),o.style.display="none"}};console.log(e.masterList);let u=new m("Roll for Yelan","Pull Yelan bc mommy","5/10/22","Medium","Pulls");e.masterList.push(u);let p=new m("Roll for Ayaka","Use all means necessary to pull Ayaka","4/19/22","High","Ascension");e.masterList.push(p);let y=new m("Roll for Ayato"," pull Ayato","4/19/22","Low","Pulls");e.masterList.push(y),t(),o(e.masterList),(()=>{let t=document.getElementById("taskModal"),o=document.getElementById("newTaskBtn"),l=document.getElementById("editModal"),n=document.getElementById("projectModal"),i=document.getElementById("newProject"),d=document.getElementById("sortModal");i.onclick=function(){n.style.display="block"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){e.target==t&&(console.log("close modal"),t.style.display="none"),e.target==l&&(l.style.display="none"),e.target==n&&(n.style.display="none"),e.target==d&&(d.style.display="none")},document.getElementById("submit-task-btn").onclick=function(){(()=>{let t=document.getElementById("taskNameInput").value,o=document.getElementById("descriptionInput").value,l=document.getElementById("dateInput").value,n=document.getElementById("priorityInput").value,i=new m(t,o,l,n,"default");e.masterList.push(i),"Low"===i.priority&&e.lowPrio.push(i),"Medium"===i.priority&&e.medPrio.push(i),"High"===i.priority&&e.highPrio.push(i),console.log(e.isSorted),!1===e.isSorted?s():r()})(),document.getElementById("taskModal").style.display="none",document.getElementById("taskNameInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").selectedIndex=0},document.getElementById("submit-sort-btn").onclick=function(){let e=document.getElementById("sortType").value;r(e),document.getElementById("sortModal").style.display="none",document.getElementById("sortType").selectedIndex=0};let c=document.getElementById("sortType");c.onchange=function(){console.log("here");let e=c.value;r(e)},document.getElementById("submit-project-btn").onclick=function(){(()=>{let t=document.getElementById("projectName").value;e.projects.push(t)})(),n.style.display="none",document.getElementById("projectName").value="",a()}})(),a()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJcEIsRUFBU0ssV0FDSyxJQUF0QkwsRUFBU0ssU0FDWHdELElBRUFJLEtFQ0FvQyxHQUNZcEYsU0FBU3FELGVBQWUsYUFDOUJZLE1BQU1DLFFBQVUsT0FDdEJsRSxTQUFTcUQsZUFBZSxpQkFBaUJLLE1BQVEsR0FDakQxRCxTQUFTcUQsZUFBZSxvQkFBb0JLLE1BQVEsR0FDcEQxRCxTQUFTcUQsZUFBZSxhQUFhSyxNQUFRLEdBQzdDMUQsU0FBU3FELGVBQWUsaUJBQWlCZ0MsY0FBZ0IsR0FTdkNyRixTQUFTcUQsZUFBZSxtQkFDOUJlLFFBQVUsV0FDdEIsSUFBSW5CLEVBQVdqRCxTQUFTcUQsZUFBZSxZQUFZSyxNQUNuRFYsRUFBWUMsR0FDSWpELFNBQVNxRCxlQUFlLGFBQzlCWSxNQUFNQyxRQUFVLE9BQzFCbEUsU0FBU3FELGVBQWUsWUFBWWdDLGNBQWdCLEdBR3RELElBQUlDLEVBQWF0RixTQUFTcUQsZUFBZSxZQUN6Q2lDLEVBQVdDLFNBQVcsV0FDcEJyRixRQUFRQyxJQUFJLFFBQ1osSUFBSThDLEVBQVdxQyxFQUFXNUIsTUFDMUJWLEVBQVlDLElBR0dqRCxTQUFTcUQsZUFBZSxzQkFDOUJlLFFBQVUsV0ovQ0osTUFDakIsSUFBSW9CLEVBQVl4RixTQUFTcUQsZUFBZSxlQUFlSyxNQUN2RDNFLEVBQVNNLFNBQVNpRixLQUFLa0IsSUk4Q3JCQyxHQUNBZCxFQUFhVixNQUFNQyxRQUFVLE9BQzdCbEUsU0FBU3FELGVBQWUsZUFBZUssTUFBUSxHQUMvQ1AsTUQvQ0osR0FDQUEsSyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9saXN0LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy9jb250ZW50LmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvbW9kdWxlcy90b2RvLmpzIiwid2VicGFjazovL29kaW4tdG8tZG8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10by1kby8uL3NyYy9tb2R1bGVzL2J1dHRvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVG9Eb0xpc3QgPSAoKCkgPT4ge1xyXG4gIGxldCBpc1NvcnRlZCA9IGZhbHNlO1xyXG4gIGxldCBtYXN0ZXJMaXN0ID0gW107XHJcbiAgbGV0IGxvd1ByaW8gPSBbXTtcclxuICBsZXQgbWVkUHJpbyA9IFtdO1xyXG4gIGxldCBoaWdoUHJpbyA9IFtdO1xyXG4gIGxldCBwcm9qZWN0cyA9IFtcIk5vbmVcIiwgXCJQdWxsc1wiLCBcIkFzY2Vuc2lvblwiXTtcclxuICByZXR1cm4geyBtYXN0ZXJMaXN0LCBsb3dQcmlvLCBtZWRQcmlvLCBoaWdoUHJpbywgaXNTb3J0ZWQsIHByb2plY3RzIH07XHJcbn0pKCk7XHJcblxyXG5jb25zdCBzZXRQcmlvQXJyYXlzID0gKCkgPT4ge1xyXG4gIFRvRG9MaXN0LmhpZ2hQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkhpZ2hcIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubWVkUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIlxyXG4gICk7XHJcbiAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgKHRhc2tzKSA9PiB0YXNrcy5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRQcm9qZWN0ID0gKCkgPT4ge1xyXG4gIGxldCBwcm9qSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlO1xyXG4gIFRvRG9MaXN0LnByb2plY3RzLnB1c2gocHJvaklucHV0KTtcclxufTtcclxuZXhwb3J0IHsgVG9Eb0xpc3QsIHNldFByaW9BcnJheXMsIGFkZFByb2plY3QgfTtcclxuIiwiaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmltcG9ydCB7IGVkaXRUYXNrLCBUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5jb25zdCByZW5kZXJUb0RvcyA9IChhcnJheSkgPT4ge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgIHJlbmRlclJvdyhpLCBhcnJheSk7XHJcbiAgfVxyXG4gIGNvbnN0IGRlbEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZGVsLWJ0blwiKTtcclxuICBjb25zb2xlLmxvZyhkZWxCdG5zKTtcclxuICBmb3IgKGxldCBqID0gMDsgaiA8IGRlbEJ0bnMubGVuZ3RoOyBqKyspIHtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcclxuICAgIGRlbEJ0bnNbal0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbW92ZVRhc2spO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWRpdEJ0bnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZWRpdC1idG5cIik7XHJcbiAgZm9yIChsZXQgayA9IDA7IGsgPCBlZGl0QnRucy5sZW5ndGg7IGsrKykge1xyXG4gICAgZWRpdEJ0bnNba10uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVkaXRUYXNrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbXBsZXRlQnRucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjb21wLWJ0blwiKTtcclxuICBmb3IgKGxldCBsID0gMDsgbCA8IGNvbXBsZXRlQnRucy5sZW5ndGg7IGwrKykge1xyXG4gICAgY29uc29sZS5sb2coY29tcGxldGVCdG5zW2xdLmlkKTtcclxuICAgIGxldCBidG5JZCA9IGNvbXBsZXRlQnRuc1tsXS5pZDtcclxuICAgIGNvbXBsZXRlQnRuc1tsXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY29tcGxldGVUYXNrKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJSb3cgPSAoaSwgYXJyYXkpID0+IHtcclxuICBsZXQgdGFibGVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcblxyXG4gIC8vRGF0YSBrZXk/IDwtLSBOZWVkIHRvIGFkZCB0aGUgZGF0YSBrZXkgdG8gZWFjaCBkaXYuXHJcbiAgbGV0IGRrID0gYXJyYXlbaV0uaWQ7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuICByb3cuc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgZGspO1xyXG4gIHJvdy5pZCA9IFwidGFzay1cIiArIGRrO1xyXG4gIHJvdy5jbGFzc0xpc3QuYWRkKFwidGFzay1pdGVtXCIpO1xyXG4gIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICB0aXRsZS5pbm5lckhUTUwgPSBhcnJheVtpXS50YXNrTmFtZTtcclxuICByb3cuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cclxuICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYXJyYXlbaV0uZGVzY3JpcHRpb247XHJcbiAgcm93LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcclxuXHJcbiAgbGV0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgcHJvamVjdC5pbm5lckhUTUwgPSBhcnJheVtpXS5wcm9qZWN0O1xyXG4gIHJvdy5hcHBlbmRDaGlsZChwcm9qZWN0KTtcclxuXHJcbiAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgZHVlRGF0ZS5pbm5lckhUTUwgPSBhcnJheVtpXS5kdWVEYXRlO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChkdWVEYXRlKTtcclxuXHJcbiAgbGV0IHByaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgcHJpby5pbm5lckhUTUwgPSBhcnJheVtpXS5wcmlvcml0eTtcclxuICByb3cuYXBwZW5kQ2hpbGQocHJpbyk7XHJcblxyXG4gIC8vTmVlZCB0byBjcmVhdGUgYnV0dG9uc1xyXG5cclxuICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICBidXR0b25zLnNldEF0dHJpYnV0ZShcImRhdGEta2V5XCIsIGRrKTtcclxuICBsZXQgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBsZXQgY29tcEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgYnV0dG9ucy5hcHBlbmRDaGlsZChjb21wQnRuKTtcclxuICBjb21wQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgY29tcEJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1jaGVja1wiPjwvaT5gO1xyXG4gIGNvbXBCdG4uY2xhc3NMaXN0LmFkZChcImNvbXAtYnRuXCIpO1xyXG4gIGNvbXBCdG4uaWQgPSBkaztcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGRlbEJ0bik7XHJcbiAgZGVsQnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XHJcbiAgZGVsQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPmA7XHJcbiAgZGVsQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWwtYnRuXCIpO1xyXG4gIGxldCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBidXR0b25zLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xyXG4gIGVkaXRCdG4uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICBlZGl0QnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXBlbmNpbFwiPjwvaT5gO1xyXG4gIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnRuXCIpO1xyXG4gIHJvdy5hcHBlbmRDaGlsZChidXR0b25zKTtcclxuXHJcbiAgdGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVSb3dzID0gKCkgPT4ge1xyXG4gIGxldCBjb250ZW50RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrLXRhYmxlLWJvZHlcIik7XHJcbiAgd2hpbGUgKGNvbnRlbnREaXYuZmlyc3RDaGlsZCkge1xyXG4gICAgY29udGVudERpdi5yZW1vdmVDaGlsZChjb250ZW50RGl2LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVRhc2sgPSAoZSkgPT4ge1xyXG4gIGxldCBpZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiKTtcclxuICBjb25zb2xlLmxvZyhcImhlcmVcIiwgaWQpO1xyXG4gIGxldCBmaWx0ZXJBcnIgPSBUb0RvTGlzdC5tYXN0ZXJMaXN0LmZpbHRlcigodGFzaykgPT4gdGFzay5pZCAhPSBpZCk7XHJcbiAgVG9Eb0xpc3QubWFzdGVyTGlzdCA9IGZpbHRlckFycjtcclxuICBzZXRQcmlvQXJyYXlzKCk7XHJcbiAgcmVmcmVzaENvbnRlbnQoKTtcclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5oaWdoUHJpbyk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgY29uc29sZS5sb2coVG9Eb0xpc3QubG93UHJpbyk7XHJcbn07XHJcblxyXG5jb25zdCBjb21wbGV0ZVRhc2sgPSAoZSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiQ29tcGxldGUgVGFza1wiKTtcclxuICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7XHJcbiAgY29uc29sZS5sb2coaWQpO1xyXG4gIGxldCByb3dJZCA9IFwiW2RhdGEta2V5PVwiICsgYFwiYCArIGlkICsgYFwiXWA7XHJcbiAgbGV0IHJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iocm93SWQpO1xyXG4gIGNvbnNvbGUubG9nKHJvdyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5tYXN0ZXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5pZCA9PSBpZCkge1xyXG4gICAgICBpZiAoVG9Eb0xpc3QubWFzdGVyTGlzdFtpXS5jb21wbGV0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICByb3cuY2xhc3NMaXN0LmFkZChcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPT09IHRydWUpIHtcclxuICAgICAgICByb3cuY2xhc3NMaXN0LnJlbW92ZShcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaV0uY29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjb25zb2xlLmxvZyhyb3cuY2xhc3NMaXN0KTtcclxufTtcclxuXHJcbmNvbnN0IHJlZnJlc2hDb250ZW50ID0gKCkgPT4ge1xyXG4gIHJlbW92ZVJvd3MoKTtcclxuICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tYXN0ZXJMaXN0KTtcclxufTtcclxuXHJcbmNvbnN0IHNvcnRDb250ZW50ID0gKHNvcnRUeXBlKSA9PiB7XHJcbiAgaWYgKHNvcnRUeXBlID09PSBcImRlZmF1bHRcIikge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWFzdGVyTGlzdCk7XHJcbiAgfVxyXG4gIGlmIChzb3J0VHlwZSA9PT0gXCJsb3dUb0hpZ2hcIikge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubG93UHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5tZWRQcmlvKTtcclxuICAgIHJlbmRlclRvRG9zKFRvRG9MaXN0LmhpZ2hQcmlvKTtcclxuICB9XHJcblxyXG4gIGlmIChzb3J0VHlwZSA9PT0gXCJoaWdoVG9Mb3dcIikge1xyXG4gICAgcmVtb3ZlUm93cygpO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QuaGlnaFByaW8pO1xyXG4gICAgcmVuZGVyVG9Eb3MoVG9Eb0xpc3QubWVkUHJpbyk7XHJcbiAgICByZW5kZXJUb0RvcyhUb0RvTGlzdC5sb3dQcmlvKTtcclxuICB9XHJcblxyXG4gIGlmIChzb3J0VHlwZSA9PT0gXCJwcm9qZWN0U29ydGluZ1wiKSB7XHJcbiAgICByZW1vdmVSb3dzKCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBwcm9qQXJyID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICAgKHRhc2tzKSA9PiB0YXNrcy5wcm9qZWN0ID09IFRvRG9MaXN0LnByb2plY3RzW2ldXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHByb2pBcnIpO1xyXG4gICAgICByZW5kZXJUb0Rvcyhwcm9qQXJyLmZpbHRlcigodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIkhpZ2hcIikpO1xyXG4gICAgICByZW5kZXJUb0Rvcyhwcm9qQXJyLmZpbHRlcigodGFza3MpID0+IHRhc2tzLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiKSk7XHJcbiAgICAgIHJlbmRlclRvRG9zKHByb2pBcnIuZmlsdGVyKCh0YXNrcykgPT4gdGFza3MucHJpb3JpdHkgPT09IFwiTG93XCIpKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyA9ICgpID0+IHtcclxuICBsZXQgcHJvamVjdElucHV0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0SW5wdXRcIik7XHJcbiAgbGV0IGVkaXRQcm9qRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0RWRpdFwiKTtcclxuICB3aGlsZSAocHJvamVjdElucHV0RGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMikge1xyXG4gICAgcHJvamVjdElucHV0RGl2LnJlbW92ZUNoaWxkKHByb2plY3RJbnB1dERpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICB3aGlsZSAoZWRpdFByb2pEaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAyKSB7XHJcbiAgICBlZGl0UHJvakRpdi5yZW1vdmVDaGlsZChlZGl0UHJvakRpdi5sYXN0Q2hpbGQpO1xyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IFRvRG9MaXN0LnByb2plY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIG9wdC52YWx1ZSA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgb3B0LmlubmVySFRNTCA9IFRvRG9MaXN0LnByb2plY3RzW2ldO1xyXG4gICAgcHJvamVjdElucHV0RGl2LmFwcGVuZENoaWxkKG9wdCk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgVG9Eb0xpc3QucHJvamVjdHMubGVuZ3RoOyBqKyspIHtcclxuICAgIGxldCBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgb3B0LnZhbHVlID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBvcHQuaW5uZXJIVE1MID0gVG9Eb0xpc3QucHJvamVjdHNbal07XHJcbiAgICBlZGl0UHJvakRpdi5hcHBlbmRDaGlsZChvcHQpO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IHtcclxuICByZW5kZXJUb0RvcyxcclxuICByZWZyZXNoQ29udGVudCxcclxuICBzb3J0Q29udGVudCxcclxuICByZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyxcclxuICBjb21wbGV0ZVRhc2ssXHJcbn07XHJcblxyXG4vL1VzZSBxdWVyeSBzZWxlY3RvciB0byBnZXQgYXJyYXkgb2YgZGl2cyB0aGF0IGhhcyB0aGUgZGF0YSBhdHRyaWJ1dGUgSSB3YW50IHRvIHJlbW92ZVxyXG4iLCJpbXBvcnQgeyBUb0RvTGlzdCB9IGZyb20gXCIuL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVmcmVzaENvbnRlbnQsIHNvcnRDb250ZW50IH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5cclxuY29uc3QgVG9EbyA9IGZ1bmN0aW9uICh0YXNrTmFtZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBwcm9qZWN0KSB7XHJcbiAgdGhpcy50YXNrTmFtZSA9IHRhc2tOYW1lO1xyXG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xyXG4gIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7XHJcbiAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcclxuICB0aGlzLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRUb0RvID0gKCkgPT4ge1xyXG4gIGxldCB0YXNrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza05hbWVJbnB1dFwiKS52YWx1ZTtcclxuICBsZXQgdGFza0Rlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlSW5wdXRcIikudmFsdWU7XHJcbiAgbGV0IHRhc2tQcmlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eUlucHV0XCIpLnZhbHVlO1xyXG5cclxuICBsZXQgbmV3VGFzayA9IG5ldyBUb0RvKHRhc2tOYW1lLCB0YXNrRGVzYywgdGFza0RhdGUsIHRhc2tQcmlvLCBcImRlZmF1bHRcIik7XHJcbiAgVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKG5ld1Rhc2spO1xyXG4gIGlmIChuZXdUYXNrLnByaW9yaXR5ID09PSBcIkxvd1wiKSB7XHJcbiAgICBUb0RvTGlzdC5sb3dQcmlvLnB1c2gobmV3VGFzayk7XHJcbiAgfVxyXG5cclxuICBpZiAobmV3VGFzay5wcmlvcml0eSA9PT0gXCJNZWRpdW1cIikge1xyXG4gICAgVG9Eb0xpc3QubWVkUHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5ld1Rhc2sucHJpb3JpdHkgPT09IFwiSGlnaFwiKSB7XHJcbiAgICBUb0RvTGlzdC5oaWdoUHJpby5wdXNoKG5ld1Rhc2spO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhUb0RvTGlzdC5pc1NvcnRlZCk7XHJcbiAgaWYgKFRvRG9MaXN0LmlzU29ydGVkID09PSBmYWxzZSkge1xyXG4gICAgcmVmcmVzaENvbnRlbnQoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc29ydENvbnRlbnQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBlZGl0VGFzayA9IChlKSA9PiB7XHJcbiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TW9kYWxcIik7XHJcbiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgbGV0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEta2V5XCIpO1xyXG4gIGxldCBpbmRleCA9IDA7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBUb0RvTGlzdC5tYXN0ZXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlRETCBJRFwiLCBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmlkKTtcclxuICAgIGlmIChpZCA9PSBUb0RvTGlzdC5tYXN0ZXJMaXN0W2ldLmlkKSB7XHJcbiAgICAgIGluZGV4ID0gaTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiaWQgXCIsIGlkKTtcclxuICBjb25zb2xlLmxvZyhcImluZGV4IFwiLCBpbmRleCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0udGFza05hbWU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvbkVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZGVzY3JpcHRpb247XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXRlRWRpdFwiKS52YWx1ZSA9XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kdWVEYXRlO1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlFZGl0XCIpLnZhbHVlID1cclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnByaW9yaXR5O1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdEVkaXRcIikudmFsdWUgPVxyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJvamVjdDtcclxuXHJcbiAgbGV0IHNhdmVDaGFuZ2VzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtZWRpdC1idG5cIik7XHJcbiAgc2F2ZUNoYW5nZXNCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFRvRG9MaXN0Lm1hc3Rlckxpc3RbaW5kZXhdLnRhc2tOYW1lID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5kZXNjcmlwdGlvbiA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25FZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0uZHVlRGF0ZSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZUVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5tYXN0ZXJMaXN0W2luZGV4XS5wcmlvcml0eSA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlFZGl0XCIpLnZhbHVlO1xyXG4gICAgVG9Eb0xpc3QubWFzdGVyTGlzdFtpbmRleF0ucHJvamVjdCA9XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdEVkaXRcIikudmFsdWU7XHJcbiAgICBUb0RvTGlzdC5oaWdoUHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJIaWdoXCJcclxuICAgICk7XHJcbiAgICBUb0RvTGlzdC5tZWRQcmlvID0gVG9Eb0xpc3QubWFzdGVyTGlzdC5maWx0ZXIoXHJcbiAgICAgICh0YXNrKSA9PiB0YXNrLnByaW9yaXR5ID09PSBcIk1lZGl1bVwiXHJcbiAgICApO1xyXG4gICAgVG9Eb0xpc3QubG93UHJpbyA9IFRvRG9MaXN0Lm1hc3Rlckxpc3QuZmlsdGVyKFxyXG4gICAgICAodGFzaykgPT4gdGFzay5wcmlvcml0eSA9PT0gXCJMb3dcIlxyXG4gICAgKTtcclxuXHJcbiAgICByZWZyZXNoQ29udGVudCgpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBUb0RvLCBhZGRUb0RvLCBlZGl0VGFzayB9O1xyXG4vL0hvdyB0byBoYW5kbGUgcHJvamVjdHM/XHJcbi8vSGF2ZSBhbiBvdmVyYWNyY2hpbmcgYXJyYXkgdGhhdCBob2xkcyBvYmplY3RzIGFuZCBzdWJhcnJheXMgZm9yIGVhY2ggcHJvamVjdD8gPC0tIFNlZW1zIGxpa2VseVxyXG4vLyBIYXZlIGFuIG92ZXJhcmNoaW5nIGFycmF5IGFuZCBmaWx0ZXIgd2hlbiBuZWNlc3NhcnkgZm9yIHByb2plY3RzXHJcbiIsImltcG9ydCB7IFRvRG8gfSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcclxuaW1wb3J0IHsgc2V0UHJpb0FycmF5cywgVG9Eb0xpc3QgfSBmcm9tIFwiLi9tb2R1bGVzL2xpc3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyUHJvamVjdHNGb3JUYXNrTWVudXMsIHJlbmRlclRvRG9zIH0gZnJvbSBcIi4vbW9kdWxlcy9jb250ZW50XCI7XHJcbmltcG9ydCBpbml0QnV0dG9ucyBmcm9tIFwiLi9tb2R1bGVzL2J1dHRvbnNcIjtcclxuXHJcbmNvbnNvbGUubG9nKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5sZXQgdGQyID0gbmV3IFRvRG8oXHJcbiAgXCJSb2xsIGZvciBZZWxhblwiLFxyXG4gIFwiUHVsbCBZZWxhbiBiYyBtb21teVwiLFxyXG4gIFwiNS8xMC8yMlwiLFxyXG4gIFwiTWVkaXVtXCIsXHJcbiAgXCJQdWxsc1wiXHJcbik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDIpO1xyXG5sZXQgdGQxID0gbmV3IFRvRG8oXHJcbiAgXCJSb2xsIGZvciBBeWFrYVwiLFxyXG4gIFwiVXNlIGFsbCBtZWFucyBuZWNlc3NhcnkgdG8gcHVsbCBBeWFrYVwiLFxyXG4gIFwiNC8xOS8yMlwiLFxyXG4gIFwiSGlnaFwiLFxyXG4gIFwiQXNjZW5zaW9uXCJcclxuKTtcclxuVG9Eb0xpc3QubWFzdGVyTGlzdC5wdXNoKHRkMSk7XHJcbmxldCB0ZDMgPSBuZXcgVG9EbyhcIlJvbGwgZm9yIEF5YXRvXCIsIFwiIHB1bGwgQXlhdG9cIiwgXCI0LzE5LzIyXCIsIFwiTG93XCIsIFwiUHVsbHNcIik7XHJcblRvRG9MaXN0Lm1hc3Rlckxpc3QucHVzaCh0ZDMpO1xyXG5zZXRQcmlvQXJyYXlzKCk7XHJcbnJlbmRlclRvRG9zKFRvRG9MaXN0Lm1hc3Rlckxpc3QpO1xyXG5pbml0QnV0dG9ucygpO1xyXG5yZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cygpO1xyXG5cclxuLypcclxuTm90ZXM6XHJcbi1PbiBhZGQgdGFzayBmb3JtIG5lZWQgYSBwbGFjZSB0byBzZWxlY3Qgd2hpY2ggcHJvamVjdCB0byBhZGQgdGhlIHRvIGRvIHRvLiBBbGxvdyBmb3IgbXVsdGlwbGUgcHJvamVjdCBzZWxlY3Rpb24gKE1heWJlIG5vdClcclxuLU5lZWQgYW4gZWRpdCB0YXNrIGJ1dHRvbiBvbiBlYWNoIHRhc2sgcm93XHJcbi1OZWVkIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdG8gY3JlYXRlIG5ldyBwcm9qZWN0c1xyXG4tVmlldyBhbGwgdGFza3MgbmVlZHMgdG8gZGlzcGxheSBwcm9qZWN0IG5hbWVzXHJcblxyXG5QbGFuIG9mIGF0dGFjazpcclxuKkFkZCBhIGZldyBkdW1teSB0byBkbyBvYmplY3RzIGFuZCBnZXQgdGhlbSByZW5kZXJpbmcgdG8gdGhlIGRvbVxyXG4qU2V0IHVwIHRoZSBhZGQgdGFzayBidXR0b24gXHJcbipTZXQgdXAgdGFzayBlZGl0aW5nIDwtLSBNb2RhbCB3aXRoIHRoZSB0YXNrcyBkYXRhIHByZS1maWxsZWQgaW50byBhIGZvcm0uIFxyXG4tLU5lZWQgYSBkaXNjYXJkIGNoYW5nZSBidXR0b24gXHJcbioqTmVlZCBhIHNhdmUgY2hhbmdlIGJ1dHRvbiBcclxuKlNldCB1cCBzb3J0aW5nIFxyXG4tLU1heWJlIGFkZCB3aGljaCB3YXkgdG8gYmUgc29ydGVkPyBTdHJlY2ggZ29hbD9cclxuKlNldCB1cCByZXZlcnRpbmcgc29ydGluZyA8LS0gUmUgcmVuZGVyIGZyb20gbWFzdGVyIGJ5IGNoZWNraW5nIGlzU29ydGluZyBmb3IgZmFsc2VcclxuLVNldCB1cCBwcm9qZWN0c1xyXG4qKiBBZGQgcHJvamVjdCBidXR0b25cclxuKiogQWRkIHByb2plY3Qgc2VsZWN0aW9uIG9uIGFkZCB0YXNrIGZvcm1cclxuLS0gRWRpdCBQcm9qZWN0cyBNb2RhbC4gKD8pXHJcbi0tIEFkZCBwcm9qZWN0IHZpZXdzIDwtLSBDYW4gZGVmaW5pdGVseSBkb1xyXG4tLSBSZSByZW5kZXIgdGFibGUgd2l0aCBhIGZpbHRlcmVkIGFycmF5IGZvciB0aGUgcHJvamVjdCB0aGV5IHdhbnQgdG8gdmlldy4gXHJcblxyXG5cclxuU29ydGluZyBNb2RhbDpcclxuKipEcm9wZG93biB3aXRoIGRlZmF1bHQsIGxvdyB0byBoaWdoIHByaW9yaXR5LCBoaWdoIHRvIGxvdywgcHJvamVjdCAod2hpY2gganVzdCBncm91cHMgdGhlIHRhc2tzIGJ5IHByb2plY3RzKVxyXG4qKiogVG8gZG8gdGhlIGxhc3Qgb25lLCBpdGVyYXRlIHRocm91Z2ggcHJvamVjdHMgYXJyYXkgZmlsdGVyaW5nIHRoZSBtYWluIGFycmF5IGFuZCByZW5kZXJpbmcgdGhlIHJlc3VsdGluZyBhcnJheSBcclxuXHJcbioqY2hhbmdlIHNvcnRpbmcgbW9kYWwgdG8gYSBkcm9wZG93biB3L291dCBtb2RhbCArIG9uY2hhbmdlIHJhdGhlciB0aGFuIGEgc3VibWl0XHJcblxyXG4tLVByb2plY3RzIGNvbGxhcHNpYmxlIG9uIHNpZGViYXIgb3IgYSBkcm9wIGRvd24/IG9yIGEgbW9kYWw/IG9yPz8/IFNvbWV0aGluZyB0byB2aWV3IG9ubHkgdGFza3Mgb2YgYSBwcm9qZWN0LiBcclxuKipCdXR0b24vUmFkaW8gZm9yIG1hcmtpbmcgYSB0YXNrIGNvbXBsZXRlIHRoYXQgY3Jvc3NlcyBvdXQgdGhlIHJvd1xyXG4qKkNoYW5nZSBidXR0b25zIHRvIGljb25zIG9mIHNvbWUgc29ydC4gUGVuY2lsIGZvciBlZGl0LCB0cmFzaGNhbiBmb3IgZGVsZXRlXHJcblxyXG4tQ1NTIGZvciBNb2RhbHNcclxuLUNoYW5nZSBOZXcgdGFzay9wcm9qZWN0cyB0byBidXR0b25zIGZvciBzdHlsaXN0aWMgcHVycG9zZXMuIFNob3VsZG4ndCBjaGFuZ2UgZnVuY3Rpb25hbGl0eVxyXG5cclxuXHJcbi1DaGFuZ2UgdGFibGUgcmVuZGVyaW5nIHRvIGFsbCBvY2N1ciBpbiBKU1xyXG4tUHJvamVjdHMgYnV0dG9uIGluIHNpZGUgYmFyIHJlbmRlcnMgdGFibGUgd2l0aCBwcm9qZWN0IG5hbWUgKyBidXR0b25zIGZvciBlZGl0ICsgZGVsZXRlXHJcblxyXG4qL1xyXG4iLCJpbXBvcnQgeyBhZGRUb0RvIH0gZnJvbSBcIi4vdG9kb1wiO1xyXG5pbXBvcnQge1xyXG4gIHJlbmRlck5ld1Byb2plY3RzLFxyXG4gIHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzLFxyXG4gIHNvcnRDb250ZW50LFxyXG59IGZyb20gXCIuL2NvbnRlbnRcIjtcclxuaW1wb3J0IHsgYWRkUHJvamVjdCwgVG9Eb0xpc3QgfSBmcm9tIFwiLi9saXN0XCI7XHJcbmNvbnN0IGluaXRCdXR0b25zID0gKCkgPT4ge1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gIGxldCB0YXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdUYXNrQnRuXCIpO1xyXG4gIGxldCBlZGl0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNb2RhbFwiKTtcclxuICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0TW9kYWxcIik7XHJcbiAgbGV0IGFkZFByb2ogPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XHJcbiAgbGV0IHNvcnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29ydE1vZGFsXCIpO1xyXG4gIGFkZFByb2oub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIH07XHJcbiAgdGFza0J1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgbW9kYWxcIik7XHJcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gZWRpdE1vZGFsKSB7XHJcbiAgICAgIGVkaXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHByb2plY3RNb2RhbCkge1xyXG4gICAgICBwcm9qZWN0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBzb3J0TW9kYWwpIHtcclxuICAgICAgc29ydE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9O1xyXG4gIGxldCBzdWJtaXRidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdC10YXNrLWJ0blwiKTtcclxuICBzdWJtaXRidXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFRvRG8oKTtcclxuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFza01vZGFsXCIpO1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrTmFtZUlucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5SW5wdXRcIikuc2VsZWN0ZWRJbmRleCA9IDA7XHJcbiAgfTtcclxuXHJcbiAgLy8gbGV0IHNvcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUYXNrQnRuXCIpO1xyXG4gIC8vIHNvcnRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAvLyAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIC8vIH07XHJcblxyXG4gIGxldCBzdWJtaXRTb3J0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtc29ydC1idG5cIik7XHJcbiAgc3VibWl0U29ydEJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHNvcnRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKS52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICAgIGxldCBzb3J0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRNb2RhbFwiKTtcclxuICAgIHNvcnRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNvcnRUeXBlXCIpLnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gIH07XHJcblxyXG4gIGxldCBzb3J0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3J0VHlwZVwiKTtcclxuICBzb3J0U2VsZWN0Lm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xyXG4gICAgbGV0IHNvcnRUeXBlID0gc29ydFNlbGVjdC52YWx1ZTtcclxuICAgIHNvcnRDb250ZW50KHNvcnRUeXBlKTtcclxuICB9O1xyXG5cclxuICBsZXQgYWRkUHJvakJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VibWl0LXByb2plY3QtYnRuXCIpO1xyXG4gIGFkZFByb2pCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFByb2plY3QoKTtcclxuICAgIHByb2plY3RNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3ROYW1lXCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJlbmRlclByb2plY3RzRm9yVGFza01lbnVzKCk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRCdXR0b25zO1xyXG4iXSwibmFtZXMiOlsiVG9Eb0xpc3QiLCJtYXN0ZXJMaXN0IiwibG93UHJpbyIsIm1lZFByaW8iLCJoaWdoUHJpbyIsImlzU29ydGVkIiwicHJvamVjdHMiLCJzZXRQcmlvQXJyYXlzIiwiZmlsdGVyIiwidGFza3MiLCJwcmlvcml0eSIsInJlbmRlclRvRG9zIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwicmVuZGVyUm93IiwiZGVsQnRucyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJqIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZVRhc2siLCJlZGl0QnRucyIsImsiLCJlZGl0VGFzayIsImNvbXBsZXRlQnRucyIsImwiLCJpZCIsImNvbXBsZXRlVGFzayIsInRhYmxlQm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJkayIsInJvdyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0aXRsZSIsImlubmVySFRNTCIsInRhc2tOYW1lIiwiYXBwZW5kQ2hpbGQiLCJkZXNjcmlwdGlvbiIsInByb2plY3QiLCJkdWVEYXRlIiwicHJpbyIsImJ1dHRvbnMiLCJkZWxCdG4iLCJjb21wQnRuIiwiZWRpdEJ0biIsInJlbW92ZVJvd3MiLCJjb250ZW50RGl2IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZSIsInRhcmdldCIsInBhcmVudE5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJmaWx0ZXJBcnIiLCJ0YXNrIiwicmVmcmVzaENvbnRlbnQiLCJyb3dJZCIsImNvbXBsZXRlIiwicmVtb3ZlIiwic29ydENvbnRlbnQiLCJzb3J0VHlwZSIsInByb2pBcnIiLCJyZW5kZXJQcm9qZWN0c0ZvclRhc2tNZW51cyIsInByb2plY3RJbnB1dERpdiIsImdldEVsZW1lbnRCeUlkIiwiZWRpdFByb2pEaXYiLCJjaGlsZE5vZGVzIiwibGFzdENoaWxkIiwib3B0IiwidmFsdWUiLCJUb0RvIiwidGhpcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm1vZGFsIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5kZXgiLCJvbmNsaWNrIiwidGQyIiwicHVzaCIsInRkMSIsInRkMyIsInRhc2tCdXR0b24iLCJlZGl0TW9kYWwiLCJwcm9qZWN0TW9kYWwiLCJhZGRQcm9qIiwic29ydE1vZGFsIiwid2luZG93IiwiZXZlbnQiLCJ0YXNrRGVzYyIsInRhc2tEYXRlIiwidGFza1ByaW8iLCJuZXdUYXNrIiwiYWRkVG9EbyIsInNlbGVjdGVkSW5kZXgiLCJzb3J0U2VsZWN0Iiwib25jaGFuZ2UiLCJwcm9qSW5wdXQiLCJhZGRQcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==